
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>Doc - Server</title>

		<link href="https://fonts.googleapis.com/css2?family=Carter+One&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

		<link rel="stylesheet" type="text/css" href="style.css">

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="app.js" type="text/javascript" charset="utf-8" async defer></script>

		<link rel="stylesheet" href="./highlighting/styles/a11y-custom.css">
		<script src="./highlighting/highlight.pack.js"></script>

		<script>hljs.initHighlightingOnLoad();</script>
	</head>
	<body>
		
		<nav class="navbar">
			<ul class="navbar-nav">
				<li class="nav-item"><a href="index.html" title="">Home</a></li>

				<li class="nav-item has-dropdown">
					<a href="server.html#Overview" title="">Server</a>
					<div class="dropdown">
						<a href="server.html#Overview">Overview</a>
						<a href="server.html#Classes">Classes</a>
						<a href="server.html#Modifiers">Modifiers</a>
					</div>
				</li>
				<li class="nav-item has-dropdown">
					<a href="client.html" title="">Client</a>
					<div class="dropdown">
						<a href="client.html#Overview">Overview</a>
						<a href="client.html#Scripts">Scripts</a>
						<a href="client.html#Server">Server Connection</a>
					</div>
				</li>
				<li class="nav-item has-dropdown">
					<a href="assets.html" title="">Assets</a>
					<div class="dropdown">
						<a href="assets.html#Overview">Overview</a>
						<a href="assets.html#Scripts">Particles</a>
						<a href="assets.html#Server">Other</a>
					</div>
				</li>
				<li class="nav-item has-dropdown">
					<a href="settings.html" title="">Settings</a>
					<div class="dropdown">
						<a id="light" class="theme-switcher" href="">light theme</a>
						<a id="dark" class="theme-switcher" href="">dark theme</a>
					</div>
				</li>
				<li id="search-bar" class="nav-item has-dropdown">
					<input type="text" id="search-field" name="search-field" onkeyup="searchChanged()">
					<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="35" height="35" viewBox="0 0 172 172" style=" fill:#000000;"><g transform="translate(25.8,25.8) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none" stroke="none"></path><g style="fill: var(--gray0);" class="icon" stroke="none"><path d="M95.04232,106.54818l17.77669,17.77669c-2.7155,5.17904 -2.99544,10.33008 -0.13998,13.18555l32.44597,32.44597c4.08724,4.08724 12.98958,1.84765 19.82031,-5.01107c6.85872,-6.85872 9.09831,-15.73307 5.01107,-19.82031l-32.41797,-32.44597c-2.88346,-2.85547 -8.0345,-2.57552 -13.21354,0.11198l-17.77669,-17.74869zM60.91667,0c-33.64974,0 -60.91667,27.26693 -60.91667,60.91667c0,33.64974 27.26693,60.91667 60.91667,60.91667c33.64974,0 60.91667,-27.26692 60.91667,-60.91667c0,-33.64974 -27.26692,-60.91667 -60.91667,-60.91667zM60.91667,107.5c-25.72722,0 -46.58333,-20.85612 -46.58333,-46.58333c0,-25.72722 20.85612,-46.58333 46.58333,-46.58333c25.72722,0 46.58333,20.85612 46.58333,46.58333c0,25.72722 -20.85612,46.58333 -46.58333,46.58333z"></path></g></g></g></svg>
		
					<div class="dropdown">
						<a class="search-result code" href="#">No Results</a>
					</div>
				</li>
			</ul>
		</nav>

		<main>
			<a href="#" id="top-scroller"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 172 172" style=" fill:#000000;"><g transform="translate(25.8,25.8) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M86,0l-64.5,86h43v86h43v-86h43z"></path></g></g></g></svg>
		</a>

			<h1>Overview</h1><p>This is an overview of all contents of the 'game' folder.</p><h2>Directory Structure</h2><div id="dir-container" class="highlight-container"><span class="structure-text"><div><div class="structure-text-align" style="margin-left:0px;"><span class="tri-icon tri-icon-active"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="14" height="14" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g style="" class="icon click-icon"><path d="M28.66667,14.33333v143.33333l124.07292,-71.66667z"></path></g></g></svg>
		</span><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M13.56,18.08c-7.46859,0 -13.56,6.09141 -13.56,13.56v117.94375c6.62109,-35.24187 14.03672,-74.77422 14.4075,-76.69875c2.29531,-11.70609 11.12344,-18.645 23.73,-18.645h174.3025v-4.52c0,-7.46859 -6.09141,-13.56 -13.56,-13.56h-117.37875c-1.25359,-0.45906 -3.83141,-4.55531 -5.22625,-6.78c-3.47828,-5.54406 -7.04484,-11.3 -12.995,-11.3zM38.1375,63.28c-5.79125,0 -12.995,2.03047 -14.83125,11.44125c-0.58266,2.93094 -18.18594,96.63266 -23.30625,123.87625v0.2825c0,7.46859 6.09141,13.56 13.56,13.56h176.28c7.32734,0 13.31281,-5.86187 13.56,-13.13625l22.45875,-121.61625l0.14125,-0.8475c0,-7.46859 -6.09141,-13.56 -13.56,-13.56z"></path></g></g></g></svg>
		vscripts</div><div class="sub-dirs sub-dirs-active"><div><div class="structure-text-align" style="margin-left:50px;"><span class="tri-icon"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="14" height="14" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g style="" class="icon click-icon"><path d="M28.66667,14.33333v143.33333l124.07292,-71.66667z"></path></g></g></svg>
		</span><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M13.56,18.08c-7.46859,0 -13.56,6.09141 -13.56,13.56v117.94375c6.62109,-35.24187 14.03672,-74.77422 14.4075,-76.69875c2.29531,-11.70609 11.12344,-18.645 23.73,-18.645h174.3025v-4.52c0,-7.46859 -6.09141,-13.56 -13.56,-13.56h-117.37875c-1.25359,-0.45906 -3.83141,-4.55531 -5.22625,-6.78c-3.47828,-5.54406 -7.04484,-11.3 -12.995,-11.3zM38.1375,63.28c-5.79125,0 -12.995,2.03047 -14.83125,11.44125c-0.58266,2.93094 -18.18594,96.63266 -23.30625,123.87625v0.2825c0,7.46859 6.09141,13.56 13.56,13.56h176.28c7.32734,0 13.31281,-5.86187 13.56,-13.13625l22.45875,-121.61625l0.14125,-0.8475c0,-7.46859 -6.09141,-13.56 -13.56,-13.56z"></path></g></g></g></svg>
		abilities</div><div class="sub-dirs"><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-abilities-generic-ability-e">generic_ability_e.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-abilities-generic-ability-q">generic_ability_q.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-abilities-generic-ability-w">generic_ability_w.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-abilities-neutral-elemental-attack">neutral_elemental_attack.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-abilities-trigger-ability">trigger_ability.lua</a></div></div></div><div><div class="structure-text-align" style="margin-left:50px;"><span class="tri-icon"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="14" height="14" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g style="" class="icon click-icon"><path d="M28.66667,14.33333v143.33333l124.07292,-71.66667z"></path></g></g></svg>
		</span><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M13.56,18.08c-7.46859,0 -13.56,6.09141 -13.56,13.56v117.94375c6.62109,-35.24187 14.03672,-74.77422 14.4075,-76.69875c2.29531,-11.70609 11.12344,-18.645 23.73,-18.645h174.3025v-4.52c0,-7.46859 -6.09141,-13.56 -13.56,-13.56h-117.37875c-1.25359,-0.45906 -3.83141,-4.55531 -5.22625,-6.78c-3.47828,-5.54406 -7.04484,-11.3 -12.995,-11.3zM38.1375,63.28c-5.79125,0 -12.995,2.03047 -14.83125,11.44125c-0.58266,2.93094 -18.18594,96.63266 -23.30625,123.87625v0.2825c0,7.46859 6.09141,13.56 13.56,13.56h176.28c7.32734,0 13.31281,-5.86187 13.56,-13.13625l22.45875,-121.61625l0.14125,-0.8475c0,-7.46859 -6.09141,-13.56 -13.56,-13.56z"></path></g></g></g></svg>
		backup</div><div class="sub-dirs"><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-backup-generic-ability">generic_ability.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-backup-generic-ability-manager">generic_ability_manager.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-backup-generic-ability-q">generic_ability_q.lua</a></div></div></div><div><div class="structure-text-align" style="margin-left:50px;"><span class="tri-icon"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="14" height="14" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g style="" class="icon click-icon"><path d="M28.66667,14.33333v143.33333l124.07292,-71.66667z"></path></g></g></svg>
		</span><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M13.56,18.08c-7.46859,0 -13.56,6.09141 -13.56,13.56v117.94375c6.62109,-35.24187 14.03672,-74.77422 14.4075,-76.69875c2.29531,-11.70609 11.12344,-18.645 23.73,-18.645h174.3025v-4.52c0,-7.46859 -6.09141,-13.56 -13.56,-13.56h-117.37875c-1.25359,-0.45906 -3.83141,-4.55531 -5.22625,-6.78c-3.47828,-5.54406 -7.04484,-11.3 -12.995,-11.3zM38.1375,63.28c-5.79125,0 -12.995,2.03047 -14.83125,11.44125c-0.58266,2.93094 -18.18594,96.63266 -23.30625,123.87625v0.2825c0,7.46859 6.09141,13.56 13.56,13.56h176.28c7.32734,0 13.31281,-5.86187 13.56,-13.13625l22.45875,-121.61625l0.14125,-0.8475c0,-7.46859 -6.09141,-13.56 -13.56,-13.56z"></path></g></g></g></svg>
		cores</div><div class="sub-dirs"><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-blink-strike">blink_strike.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-column-of-destruction">column_of_destruction.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-dispel-magic">dispel_magic.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-energy-bolt">energy_bolt.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-fiendish-hunger">fiendish_hunger.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-fireball">fireball.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-freeze">freeze.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-heal">heal.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-healing-touch">healing_touch.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-plague-swarm">plague_swarm.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-shake">shake.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-spark">spark.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-cores-weakness">weakness.lua</a></div></div></div><div><div class="structure-text-align" style="margin-left:50px;"><span class="tri-icon"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="14" height="14" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g style="" class="icon click-icon"><path d="M28.66667,14.33333v143.33333l124.07292,-71.66667z"></path></g></g></svg>
		</span><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M13.56,18.08c-7.46859,0 -13.56,6.09141 -13.56,13.56v117.94375c6.62109,-35.24187 14.03672,-74.77422 14.4075,-76.69875c2.29531,-11.70609 11.12344,-18.645 23.73,-18.645h174.3025v-4.52c0,-7.46859 -6.09141,-13.56 -13.56,-13.56h-117.37875c-1.25359,-0.45906 -3.83141,-4.55531 -5.22625,-6.78c-3.47828,-5.54406 -7.04484,-11.3 -12.995,-11.3zM38.1375,63.28c-5.79125,0 -12.995,2.03047 -14.83125,11.44125c-0.58266,2.93094 -18.18594,96.63266 -23.30625,123.87625v0.2825c0,7.46859 6.09141,13.56 13.56,13.56h176.28c7.32734,0 13.31281,-5.86187 13.56,-13.13625l22.45875,-121.61625l0.14125,-0.8475c0,-7.46859 -6.09141,-13.56 -13.56,-13.56z"></path></g></g></g></svg>
		heroic_abilities</div><div class="sub-dirs"><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-heroic-abilities-cycle-of-power">cycle_of_power.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-heroic-abilities-shaman-dragon-spirit">shaman_dragon_spirit.lua</a></div></div></div><div><div class="structure-text-align" style="margin-left:50px;"><span class="tri-icon"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="14" height="14" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g style="" class="icon click-icon"><path d="M28.66667,14.33333v143.33333l124.07292,-71.66667z"></path></g></g></svg>
		</span><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M13.56,18.08c-7.46859,0 -13.56,6.09141 -13.56,13.56v117.94375c6.62109,-35.24187 14.03672,-74.77422 14.4075,-76.69875c2.29531,-11.70609 11.12344,-18.645 23.73,-18.645h174.3025v-4.52c0,-7.46859 -6.09141,-13.56 -13.56,-13.56h-117.37875c-1.25359,-0.45906 -3.83141,-4.55531 -5.22625,-6.78c-3.47828,-5.54406 -7.04484,-11.3 -12.995,-11.3zM38.1375,63.28c-5.79125,0 -12.995,2.03047 -14.83125,11.44125c-0.58266,2.93094 -18.18594,96.63266 -23.30625,123.87625v0.2825c0,7.46859 6.09141,13.56 13.56,13.56h176.28c7.32734,0 13.31281,-5.86187 13.56,-13.13625l22.45875,-121.61625l0.14125,-0.8475c0,-7.46859 -6.09141,-13.56 -13.56,-13.56z"></path></g></g></g></svg>
		libs</div><div class="sub-dirs"><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-ability-aspect-manager">ability_aspect_manager.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-ability-item-manager">ability_item_manager.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-creep-manager">creep_manager.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-custom-damage-manager">custom_damage_manager.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-element-manager">element_manager.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-extra-enums">extra_enums.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-filters">filters.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-generic-ability">generic_ability.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-generic-ability-manager">generic_ability_manager.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-rune-builder">rune_builder.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-selection">selection.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-timers">timers.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-libs-util">util.lua</a></div></div></div><div><div class="structure-text-align" style="margin-left:50px;"><span class="tri-icon"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="14" height="14" viewBox="0 0 172 172" style=" fill:#000000;"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g style="" class="icon click-icon"><path d="M28.66667,14.33333v143.33333l124.07292,-71.66667z"></path></g></g></svg>
		</span><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M13.56,18.08c-7.46859,0 -13.56,6.09141 -13.56,13.56v117.94375c6.62109,-35.24187 14.03672,-74.77422 14.4075,-76.69875c2.29531,-11.70609 11.12344,-18.645 23.73,-18.645h174.3025v-4.52c0,-7.46859 -6.09141,-13.56 -13.56,-13.56h-117.37875c-1.25359,-0.45906 -3.83141,-4.55531 -5.22625,-6.78c-3.47828,-5.54406 -7.04484,-11.3 -12.995,-11.3zM38.1375,63.28c-5.79125,0 -12.995,2.03047 -14.83125,11.44125c-0.58266,2.93094 -18.18594,96.63266 -23.30625,123.87625v0.2825c0,7.46859 6.09141,13.56 13.56,13.56h176.28c7.32734,0 13.31281,-5.86187 13.56,-13.13625l22.45875,-121.61625l0.14125,-0.8475c0,-7.46859 -6.09141,-13.56 -13.56,-13.56z"></path></g></g></g></svg>
		runes</div><div class="sub-dirs"><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-runes-cascade">cascade.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-runes-corpse-control">corpse_control.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-runes-critical">critical.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-runes-scorching-army">scorching_army.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-runes-split">split.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-runes-split-back">split_back.lua</a></div><div class="structure-text-align" style="margin-left:114px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-runes-time-drain">time_drain.lua</a></div></div></div><div class="structure-text-align" style="margin-left:64px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-addon-game-mode">addon_game_mode.lua</a></div><div class="structure-text-align" style="margin-left:64px;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25" viewBox="0 0 226 226" style=" fill:#000000;"><g transform="translate(33.9,33.9) scale(0.7,0.7)"><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,226v-226h226v226z" fill="none" stroke="none"></path><g style="" class="icon" stroke="none"><path d="M28.25,0v226h169.5v-160.08333l-65.91667,-65.91667zM47.08333,18.83333h75.33333v56.5h56.5v131.83333h-131.83333zM75.33333,103.58333v9.41667h56.5v-9.41667zM75.33333,131.83333v9.41667h75.33333v-9.41667zM75.33333,160.08333v9.41667h56.5v-9.41667z"></path></g></g></g></svg>
		<a href="#vscripts-perks-start">perks_start.lua</a></div></div></div></span></div><h2>Lua Files</h2><div class="highlight-container code"><div class="file-block"><p id="vscripts-addon-game-mode"><b>vscripts/addon_game_mode.lua</b></p><div><p>31:&nbsp&nbsp<span class="show-code">Activate()</span></p><pre class="code-syntax-block"><code class="lua">function Activate()
    GameRules.AddonTemplate = GameMode()
    GameRules.AddonTemplate:InitGameMode()
end</code></pre></div><div><p>77:&nbsp&nbsp<span class="show-code">CDOTABaseAbility:IsInnate()</span></p><pre class="code-syntax-block"><code class="lua">function CDOTABaseAbility:IsInnate()
    return false
end</code></pre></div><div><p>36:&nbsp&nbsp<span class="show-code">GameMode:InitGameMode()</span></p><pre class="code-syntax-block"><code class="lua">function GameMode:InitGameMode()
    print( &quot;Rune Wars is loaded.&quot; )
    GameRules:GetGameModeEntity():SetThink( &quot;OnThink&quot;, self, &quot;GlobalThink&quot;, 2 )
    ListenToGameEvent(&#x27;npc_spawned&#x27;, Dynamic_Wrap(GameMode, &#x27;OnNPCSpawned&#x27;), self)

    GameRules:GetGameModeEntity():SetItemAddedToInventoryFilter(Dynamic_Wrap(ItemManager, &quot;OnItemAddedToInventory&quot;), ItemManager)

    -- self:StartEventTest() --Spams console!
end</code></pre></div><div><p>46:&nbsp&nbsp<span class="show-code">GameMode:OnNPCSpawned(event)</span></p><pre class="code-syntax-block"><code class="lua">function GameMode:OnNPCSpawned(event)
    local npc = EntIndexToHScript(event.entindex)

    if npc:IsRealHero() then
        local playerID = npc:GetPlayerID()
        local player = PlayerResource:GetPlayer(playerID)
        CustomGameEventManager:Send_ServerToPlayer(player, &quot;init_tooltips&quot;, {})
        GenericAbility:InitHero(npc)
    end
    for i=0,12 do
        local ability = npc:GetAbilityByIndex(i)
        if ability then
            if ability:GetLevel() &lt; 1 then
                if ability:IsInnate() then
                    ability:SetLevel(1)
                end
            end
        end
    end
end</code></pre></div><div><p>68:&nbsp&nbsp<span class="show-code">GameMode:OnThink()</span></p><pre class="code-syntax-block"><code class="lua">function GameMode:OnThink()
    if GameRules:State_Get() == DOTA_GAMERULES_STATE_GAME_IN_PROGRESS then
        --print( &quot;Template addon script is running.&quot; )
    elseif GameRules:State_Get() &gt;= DOTA_GAMERULES_STATE_POST_GAME then
        return nil
    end
    return 1
end</code></pre></div><div><p>20:&nbsp&nbsp<span class="show-code">Precache( context )</span></p><pre class="code-syntax-block"><code class="lua">function Precache( context )
    --[[
        Precache things we know we&#x27;ll use.  Possible file types include (but not limited to):
            PrecacheResource( &quot;model&quot;, &quot;*.vmdl&quot;, context )
            PrecacheResource( &quot;soundfile&quot;, &quot;*.vsndevts&quot;, context )
            PrecacheResource( &quot;particle&quot;, &quot;*.vpcf&quot;, context )
            PrecacheResource( &quot;particle_folder&quot;, &quot;particles/folder&quot;, context )
    ]]
end</code></pre></div></div><div class="file-block"><p id="vscripts-perks-start"><b>vscripts/perks_start.lua</b></p><div><p>0:&nbsp&nbsp<span class="show-code">lethal_rythm( keys )</span></p><pre class="code-syntax-block"><code class="lua">function lethal_rythm( keys )
    -- Variables
    local caster = keys.caster
    local target = keys.target
    local ability = keys.ability

    if target:HasModifier( &quot;modifier_rune_lethal_rythm_stacker&quot; ) then
        if not caster:HasModifier(&quot;modifier_rune_lethal_rythm_active&quot;) then
            local current_stack = target:GetModifierStackCount( &quot;modifier_rune_lethal_rythm_stacker&quot;, ability )
            if current_stack == 2 then
                ability:ApplyDataDrivenModifier( caster, caster, &quot;modifier_rune_lethal_rythm_active&quot;, { Duration = 3 } )
                local attack_speed = ((caster:GetLevel() - 1) * 3) + 35
                caster:SetModifierStackCount( &quot;modifier_rune_lethal_rythm_active&quot;, ability, attack_speed )
            else
                ability:ApplyDataDrivenModifier( caster, target, &quot;modifier_rune_lethal_rythm_stacker&quot;, { Duration = 2 } )
                target:SetModifierStackCount( &quot;modifier_rune_lethal_rythm_stacker&quot;, ability, current_stack + 1 )
            end
        end
    else
        if target:IsRealHero() then
            ability:ApplyDataDrivenModifier( caster, target, &quot;modifier_rune_lethal_rythm_stacker&quot;, { Duration = 2 } )
            target:SetModifierStackCount( &quot;modifier_rune_lethal_rythm_stacker&quot;, ability, 1 )
        end
        
        
    end
end</code></pre></div><div><p>28:&nbsp&nbsp<span class="show-code">level_based_stacks( keys )</span></p><pre class="code-syntax-block"><code class="lua">function level_based_stacks( keys )
    local caster = keys.caster
    local ability = keys.ability
    if caster:HasModifier(&quot;modifier_rune_bonus_health&quot;) then
        local health_gain = caster:GetModifierStackCount(&quot;modifier_rune_base_hp&quot;, ability)  * (caster:GetLevel() - 1) * 14/100
        caster:SetModifierStackCount(&quot;modifier_rune_bonus_health&quot;, ability, health_gain )
    end
    if caster:HasModifier(&quot;modifier_rune_bonus_mana&quot;) then
        local mana_gain = caster:GetModifierStackCount(&quot;modifier_rune_base_mana&quot;, ability) * (caster:GetLevel() - 1) * 10/100
        caster:SetModifierStackCount(&quot;modifier_rune_bonus_mana&quot;, ability, mana_gain )
    end
    if caster:HasModifier(&quot;modifier_rune_bonus_damage&quot;) then
        local bonus_damage = (caster:GetLevel() - 1)* 7.8 * 100
        caster:SetModifierStackCount(&quot;modifier_rune_bonus_damage&quot;, ability, bonus_damage )
    end
    if caster:HasModifier(&quot;modifier_rune_bonus_as&quot;) then
        local bonus_as = (caster:GetLevel() - 1)* 3
        caster:SetModifierStackCount(&quot;modifier_rune_bonus_as&quot;, ability, bonus_as )
    end
    if caster:HasModifier(&quot;modifier_rune_bonus_hp_regen&quot;) then
        local hp_regen = caster:GetMaxHealth() * 0.8
        caster:SetModifierStackCount(&quot;modifier_rune_bonus_hp_regen&quot;, ability, hp_regen )
    end
    if caster:HasModifier(&quot;modifier_rune_bonus_mana_regen&quot;) then
        local mana_regen = caster:GetMaxMana() * 0.6
        caster:SetModifierStackCount(&quot;modifier_rune_bonus_mana_regen&quot;, ability, mana_regen )
    end
    caster:CalculateStatBonus()
end</code></pre></div><div><p>58:&nbsp&nbsp<span class="show-code">set_base_stat( keys )</span></p><pre class="code-syntax-block"><code class="lua">function set_base_stat( keys )
    local caster = keys.caster
    local ability = keys.ability
    if caster:HasModifier(&quot;modifier_rune_base_hp&quot;) then
        caster:SetModifierStackCount(&quot;modifier_rune_base_hp&quot;, ability, caster:GetMaxHealth() )
    end
    if caster:HasModifier(&quot;modifier_rune_base_mana&quot;) then
        caster:SetModifierStackCount(&quot;modifier_rune_base_mana&quot;, ability, caster:GetMaxMana() )
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-abilities-generic-ability-e"><b>vscripts/abilities/generic_ability_e.lua</b></p><div><p>5:&nbsp&nbsp<span class="show-code">generic_ability_e:GetAbilityClassName()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_e:GetAbilityClassName()
    return &quot;generic_ability_e&quot;
end</code></pre></div><div><p>24:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_e:DeclareFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_e:DeclareFunctions()
    local funcs = {
        MODIFIER_EVENT_ON_ATTACK_START,
        MODIFIER_EVENT_ON_ATTACK,
        MODIFIER_EVENT_ON_ATTACK_LANDED,
        MODIFIER_EVENT_ON_TAKEDAMAGE,
        MODIFIER_EVENT_ON_ATTACKED,
        MODIFIER_EVENT_ON_DEATH,
    }
    return funcs
end</code></pre></div><div><p>16:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_e:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_e:IsHidden()
    return true
end</code></pre></div><div><p>20:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_e:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_e:IsPurgable()
    return false
end</code></pre></div><div><p>40:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_e:OnAttack(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_e:OnAttack(event)
    self:GetAbility():AttackEvent(event)
end</code></pre></div><div><p>52:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_e:OnAttacked(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_e:OnAttacked(event)
    self:GetAbility():AttackedEvent(event)
end</code></pre></div><div><p>44:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_e:OnAttackLanded(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_e:OnAttackLanded(event)
    self:GetAbility():AttackLandedEvent(event)
end</code></pre></div><div><p>36:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_e:OnAttackStart(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_e:OnAttackStart(event)
    self:GetAbility():AttackStartEvent(event)
end</code></pre></div><div><p>56:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_e:OnDeath(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_e:OnDeath(event)
    self:GetAbility():DeathEvent(event)
end</code></pre></div><div><p>48:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_e:OnTakeDamage(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_e:OnTakeDamage(event)
    self:GetAbility():TakeDamageEvent(event)
end</code></pre></div></div><div class="file-block"><p id="vscripts-abilities-generic-ability-q"><b>vscripts/abilities/generic_ability_q.lua</b></p><div><p>5:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAbilityClassName()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAbilityClassName()
    return &quot;generic_ability_q&quot;
end</code></pre></div><div><p>23:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_q:DeclareFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_q:DeclareFunctions()
    local funcs = {
        MODIFIER_EVENT_ON_ATTACK_START,
        MODIFIER_EVENT_ON_ATTACK,
        MODIFIER_EVENT_ON_ATTACK_LANDED,
        MODIFIER_EVENT_ON_TAKEDAMAGE,
        MODIFIER_EVENT_ON_ATTACKED,
        MODIFIER_EVENT_ON_DEATH,
    }
    return funcs
end</code></pre></div><div><p>15:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_q:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_q:IsHidden()
    return true
end</code></pre></div><div><p>19:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_q:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_q:IsPurgable()
    return false
end</code></pre></div><div><p>39:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_q:OnAttack(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_q:OnAttack(event)
    self:GetAbility():AttackEvent(event)
end</code></pre></div><div><p>51:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_q:OnAttacked(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_q:OnAttacked(event)
    self:GetAbility():AttackedEvent(event)
end</code></pre></div><div><p>43:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_q:OnAttackLanded(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_q:OnAttackLanded(event)
    self:GetAbility():AttackLandedEvent(event)
end</code></pre></div><div><p>35:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_q:OnAttackStart(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_q:OnAttackStart(event)
    self:GetAbility():AttackStartEvent(event)
end</code></pre></div><div><p>55:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_q:OnDeath(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_q:OnDeath(event)
    self:GetAbility():DeathEvent(event)
end</code></pre></div><div><p>47:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_q:OnTakeDamage(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_q:OnTakeDamage(event)
    self:GetAbility():TakeDamageEvent(event)
end</code></pre></div></div><div class="file-block"><p id="vscripts-abilities-generic-ability-w"><b>vscripts/abilities/generic_ability_w.lua</b></p><div><p>5:&nbsp&nbsp<span class="show-code">generic_ability_w:GetAbilityClassName()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_w:GetAbilityClassName()
    return &quot;generic_ability_w&quot;
end</code></pre></div><div><p>24:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_w:DeclareFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_w:DeclareFunctions()
    local funcs = {
        MODIFIER_EVENT_ON_ATTACK_START,
        MODIFIER_EVENT_ON_ATTACK,
        MODIFIER_EVENT_ON_ATTACK_LANDED,
        MODIFIER_EVENT_ON_TAKEDAMAGE,
        MODIFIER_EVENT_ON_ATTACKED,
        MODIFIER_EVENT_ON_DEATH,
    }
    return funcs
end</code></pre></div><div><p>16:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_w:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_w:IsHidden()
    return true
end</code></pre></div><div><p>20:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_w:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_w:IsPurgable()
    return false
end</code></pre></div><div><p>40:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_w:OnAttack(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_w:OnAttack(event)
    self:GetAbility():AttackEvent(event)
end</code></pre></div><div><p>52:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_w:OnAttacked(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_w:OnAttacked(event)
    self:GetAbility():AttackedEvent(event)
end</code></pre></div><div><p>44:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_w:OnAttackLanded(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_w:OnAttackLanded(event)
    self:GetAbility():AttackLandedEvent(event)
end</code></pre></div><div><p>36:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_w:OnAttackStart(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_w:OnAttackStart(event)
    self:GetAbility():AttackStartEvent(event)
end</code></pre></div><div><p>56:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_w:OnDeath(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_w:OnDeath(event)
    self:GetAbility():DeathEvent(event)
end</code></pre></div><div><p>48:&nbsp&nbsp<span class="show-code">modifier_base_events_generic_ability_w:OnTakeDamage(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_base_events_generic_ability_w:OnTakeDamage(event)
    self:GetAbility():TakeDamageEvent(event)
end</code></pre></div></div><div class="file-block"><p id="vscripts-abilities-neutral-elemental-attack"><b>vscripts/abilities/neutral_elemental_attack.lua</b></p><div><p>97:&nbsp&nbsp<span class="show-code">modifier_elemental_attack:DeclareFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_elemental_attack:DeclareFunctions()
    local funcs =  {
        MODIFIER_EVENT_ON_DEATH,
    }
    return funcs
end</code></pre></div><div><p>93:&nbsp&nbsp<span class="show-code">modifier_elemental_attack:GetDamageType()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_elemental_attack:GetDamageType()
    return self.ability:GetNeutralValue(&quot;attackType&quot;)
end</code></pre></div><div><p>80:&nbsp&nbsp<span class="show-code">modifier_elemental_attack:IsDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_elemental_attack:IsDebuff()
    return false
end</code></pre></div><div><p>76:&nbsp&nbsp<span class="show-code">modifier_elemental_attack:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_elemental_attack:IsHidden()
    return false
end</code></pre></div><div><p>84:&nbsp&nbsp<span class="show-code">modifier_elemental_attack:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_elemental_attack:IsPurgable()
    return false
end</code></pre></div><div><p>88:&nbsp&nbsp<span class="show-code">modifier_elemental_attack:OnCreated(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_elemental_attack:OnCreated(event)
    if IsClient() then return end
    self.ability = self:GetAbility()
end</code></pre></div><div><p>104:&nbsp&nbsp<span class="show-code">modifier_elemental_attack:OnDeath(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_elemental_attack:OnDeath(event)
    if IsClient() then return end
    if event.unit == self:GetParent() then
        self.ability:RemoveNeutral()
    end
end</code></pre></div><div><p>34:&nbsp&nbsp<span class="show-code">neutral_elemental_attack:GetIntrinsicModifierName()</span></p><pre class="code-syntax-block"><code class="lua">function neutral_elemental_attack:GetIntrinsicModifierName()
    return &quot;modifier_elemental_attack&quot;
end</code></pre></div><div><p>10:&nbsp&nbsp<span class="show-code">neutral_elemental_attack:GetNeutralValue(name)</span></p><pre class="code-syntax-block"><code class="lua">function neutral_elemental_attack:GetNeutralValue(name)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;neutrals&quot;, tostring(caster:entindex()))
    if not netTable then return end
    if not netTable[name] then return end
    return netTable[name]
end</code></pre></div><div><p>6:&nbsp&nbsp<span class="show-code">neutral_elemental_attack:IsInnate()</span></p><pre class="code-syntax-block"><code class="lua">function neutral_elemental_attack:IsInnate()
    return true
end</code></pre></div><div><p>26:&nbsp&nbsp<span class="show-code">neutral_elemental_attack:RemoveNeutral()</span></p><pre class="code-syntax-block"><code class="lua">function neutral_elemental_attack:RemoveNeutral()
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;neutrals&quot;, tostring(caster:entindex()))
    if not netTable then return end
    netTable = nil
    CustomNetTables:SetTableValue(&quot;neutrals&quot;, tostring(caster:entindex()), netTable)
end</code></pre></div><div><p>18:&nbsp&nbsp<span class="show-code">neutral_elemental_attack:SetNeutralValue(name, value)</span></p><pre class="code-syntax-block"><code class="lua">function neutral_elemental_attack:SetNeutralValue(name, value)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;neutrals&quot;, tostring(caster:entindex()))
    if not netTable then return end
    netTable[name] = value
    CustomNetTables:SetTableValue(&quot;neutrals&quot;, tostring(caster:entindex()), netTable)
end</code></pre></div></div><div class="file-block"><p id="vscripts-abilities-trigger-ability"><b>vscripts/abilities/trigger_ability.lua</b></p><div><p>2:&nbsp&nbsp<span class="show-code">Trigger(keys)</span></p><pre class="code-syntax-block"><code class="lua">function Trigger(keys)
    local caster = keys.caster

    AbilityAspects:BuildCoreAbility(caster)
end</code></pre></div></div><div class="file-block"><p id="vscripts-backup-generic-ability"><b>vscripts/backup/generic_ability.lua</b></p><div><p>428:&nbsp&nbsp<span class="show-code">FindAttribute(table, attrName)</span></p><pre class="code-syntax-block"><code class="lua">function FindAttribute(table, attrName)
    for _,obj in pairs(table) do
        if obj.Name:lower() == attrName:lower() then
            return obj.Val
        end
    end
end</code></pre></div><div><p>304:&nbsp&nbsp<span class="show-code">generic_ability:AddAttribute(name, text, val)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AddAttribute(name, text, val)
    local caster = self:GetCaster()
    self:RemoveAttribute(name)
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[self:GetAbilityClassName()]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    local newTable = {
        Name = name,
        Key = text,
        Val = val
    }
    local function GetTableLength(table)
        local index = 0
        for _,k in pairs(table) do
            index = index + 1
        end
        return index
    end
    table.insert(abilityTable.attributes, GetTableLength(abilityTable.attributes), newTable)
    netTable.abilities[tostring(abilityIndex)] = abilityTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()), netTable)
end</code></pre></div><div><p>15:&nbsp&nbsp<span class="show-code">generic_ability:AddSpecialValue(name, text, val)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AddSpecialValue(name, text, val)
    self:AddAttribute(name, text, val)
end</code></pre></div><div><p>365:&nbsp&nbsp<span class="show-code">generic_ability:CastFilterResultTarget(hTarget)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:CastFilterResultTarget(hTarget)
    local caster = self:GetCaster()
    local targetType = self:GetAbilityTargetType()
    local targetTeam = self:GetAbilityTargetTeam()
    local targetFlags = self:GetAbilityTargetFlags()
    local spellImmunity = self:GetAbilitySpellImmunityType()

    require(&#x27;libs/extra_enums&#x27;)
    --manipulate the flags according to the set spell immunity
    if bit.band(spellImmunity, DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_ALLIES_NO) ~= 0 then
        targetFlags = targetFlags + DOTA_UNIT_TARGET_FLAG_NOT_MAGIC_IMMUNE_ALLIES
    end
    if bit.band(spellImmunity, DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_ENEMIES_YES) ~= 0 then
        targetFlags = targetFlags + DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES
    end

    local team = caster:GetTeamNumber()
    local filter = UnitFilter(hTarget, targetTeam, targetType, targetFlags, team)

    return filter
end</code></pre></div><div><p>23:&nbsp&nbsp<span class="show-code">generic_ability:ClearAllSpecialValues()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ClearAllSpecialValues()
    self:ClearAttributes()
end</code></pre></div><div><p>352:&nbsp&nbsp<span class="show-code">generic_ability:ClearAttributes()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ClearAttributes()
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[self:GetAbilityClassName()]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    abilityTable.attributes = {}
    netTable.abilities[tostring(abilityIndex)] = abilityTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()), netTable)
end</code></pre></div><div><p>121:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityDamageType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityDamageType()
    return self:GetNumberValue(&quot;damageType&quot;)
end</code></pre></div><div><p>153:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityDescription()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityDescription()
    return self:GetStringValue(&quot;description&quot;)
end</code></pre></div><div><p>145:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityDispelType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityDispelType()
    return self:GetNumberValue(&quot;dispelType&quot;)
end</code></pre></div><div><p>81:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityDuration()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityDuration()
    return self:GetNumberValue(&quot;duration&quot;)
end</code></pre></div><div><p>161:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityLore()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityLore()
    return self:GetStringValue(&quot;lore&quot;)
end</code></pre></div><div><p>129:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilitySpecialDamageType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilitySpecialDamageType()
    return self:GetNumberValue(&quot;specialDamageType&quot;)
end</code></pre></div><div><p>137:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilitySpellImmunityType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilitySpellImmunityType()
    return self:GetNumberValue(&quot;spellImmunity&quot;)
end</code></pre></div><div><p>105:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityTargetFlags()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityTargetFlags()
    return self:GetNumberValue(&quot;targetFlags&quot;)
end</code></pre></div><div><p>113:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityTargetTeam()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityTargetTeam()
    return self:GetNumberValue(&quot;targetTeam&quot;)
end</code></pre></div><div><p>97:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityTargetType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityTargetType()
    return self:GetNumberValue(&quot;targetType&quot;)
end</code></pre></div><div><p>89:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityTextureName()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityTextureName()
    return self:GetStringValue(&quot;texture&quot;)
end</code></pre></div><div><p>169:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityTitle()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityTitle()
    return self:GetStringValue(&quot;title&quot;)
end</code></pre></div><div><p>73:&nbsp&nbsp<span class="show-code">generic_ability:GetAOERadius()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAOERadius()
    return self:GetNumberValue(&quot;aoeRadius&quot;)
end</code></pre></div><div><p>284:&nbsp&nbsp<span class="show-code">generic_ability:GetAttribute(name, level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAttribute(name, level)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[self:GetAbilityClassName()]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    local attributeTable = abilityTable.attributes
    local curVal = FindAttribute(attributeTable, name)
    if type(curVal) == &quot;string&quot; then
        local values = {}
        for value in curVal:gmatch(&quot;%w+&quot;) do table.insert(values, value) end
        if values[level] then
            curVal = values[level]
        end
    end
    return curVal
end</code></pre></div><div><p>27:&nbsp&nbsp<span class="show-code">generic_ability:GetBehavior()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetBehavior()
    local val
    if IsClient() then
        -- val = self:LimitFunctionCall(function(self, valType) return self:GetNumberValue(valType) end, 200, &quot;behavior&quot;, &quot;behavior&quot;)
        val = self:GetNumberValue(&quot;behavior&quot;)
    else
        val = self:GetNumberValue(&quot;behavior&quot;)
    end
    return val
end</code></pre></div><div><p>42:&nbsp&nbsp<span class="show-code">generic_ability:GetCastRange(vLocation, hTarget)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetCastRange(vLocation, hTarget)
    return self:GetNumberValue(&quot;castRange&quot;)
end</code></pre></div><div><p>50:&nbsp&nbsp<span class="show-code">generic_ability:GetCooldown(level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetCooldown(level)
    return self:GetNumberValue(&quot;cooldown&quot;)
end</code></pre></div><div><p>11:&nbsp&nbsp<span class="show-code">generic_ability:GetLevelSpecialValueFor(name, level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetLevelSpecialValueFor(name, level)
    return tonumber(self:GetAttribute(name, level))
end</code></pre></div><div><p>58:&nbsp&nbsp<span class="show-code">generic_ability:GetManaCost(level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetManaCost(level)
    local val
    if IsClient() then
        -- val = self:LimitFunctionCall(function(self, valType) return self:GetNumberValue(valType) end, 50, &quot;manaCost&quot;, &quot;manaCost&quot;)
        val = self:GetNumberValue(&quot;manaCost&quot;)
    else
        val = self:GetNumberValue(&quot;manaCost&quot;)
    end
    return val
end</code></pre></div><div><p>231:&nbsp&nbsp<span class="show-code">generic_ability:GetNumberValue(valType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetNumberValue(valType)
    local caster = self:GetCaster()
    if IsClient() then
        if not caster:HasModifier(&quot;modifier_reload_&quot;..self:GetAbilityClassName()) then
            local modifierName = &quot;modifier_&quot;..valType:lower()..&quot;_&quot;..self:GetAbilityClassName()
            if caster:HasModifier(modifierName) then
                local stackCount = caster:GetModifierStackCount(modifierName, caster)
                return stackCount
            end
        end
    end
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[self:GetAbilityClassName()]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    local curVal = abilityTable[valType]
    if type(curVal) == &quot;string&quot; then
        local values = {}
        for value in curVal:gmatch(&quot;%w+&quot;) do table.insert(values, value) end
        if values[self:GetLevel()] then
            curVal = values[self:GetLevel()]
        end
    end
    self.valType = curVal
    return tonumber(curVal)
end</code></pre></div><div><p>7:&nbsp&nbsp<span class="show-code">generic_ability:GetSpecialValueFor(name)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetSpecialValueFor(name)
    return tonumber(self:GetAttribute(name, self:GetLevel()))
end</code></pre></div><div><p>260:&nbsp&nbsp<span class="show-code">generic_ability:GetStringValue(valType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetStringValue(valType)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[self:GetAbilityClassName()]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    return abilityTable[valType]
end</code></pre></div><div><p>216:&nbsp&nbsp<span class="show-code">generic_ability:LimitFunctionCall(func, cycle, save, ...)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:LimitFunctionCall(func, cycle, save, ...)
    if not self[save] then
        self[save] = {}
        self[save].tick = 0
    end
    self[save].tick = self[save].tick + 1
    if self[save].tick % cycle == 0 or self[save].val == nil then
        local ret = func(self, select(1, ...))
        self[save].val = ret
        self[save].tick = 0
        return ret
    end
    return self[save].val
end</code></pre></div><div><p>177:&nbsp&nbsp<span class="show-code">generic_ability:ReloadAbility()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ReloadAbility()
    local caster = self:GetCaster()
    caster:AddNewModifier(caster, self, &quot;modifier_reload_&quot;..self:GetAbilityClassName(), {Duration = 1})

    print(&quot;Reload ... &quot;..self:GetAbilityClassName())

    local modifier = caster:AddNewModifier(caster, self, &quot;modifier_manacost_&quot;..self:GetAbilityClassName(), nil)
    if self:GetNumberValue(&quot;manaCost&quot;) then
        modifier:SetStackCount(self:GetNumberValue(&quot;manaCost&quot;))
    end
    modifier = caster:AddNewModifier(caster, self, &quot;modifier_behavior_&quot;..self:GetAbilityClassName(), nil)
    if self:GetNumberValue(&quot;behavior&quot;) then
        modifier:SetStackCount(self:GetNumberValue(&quot;behavior&quot;))
    end
end</code></pre></div><div><p>330:&nbsp&nbsp<span class="show-code">generic_ability:RemoveAttribute(name)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:RemoveAttribute(name)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[self:GetAbilityClassName()]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    local attributeTable = abilityTable.attributes
    local function removeAttribute(table, attrName)
        for _,obj in pairs(table) do
            if obj.Name:lower() == attrName:lower() then
                obj = nil
            end
        end
        return table
    end
    abilityTable.attributes = removeAttribute(attributeTable, name)
    netTable.abilities[tostring(abilityIndex)] = abilityTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()), netTable)
end</code></pre></div><div><p>19:&nbsp&nbsp<span class="show-code">generic_ability:RemoveSpecialValue(name)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:RemoveSpecialValue(name)
    self:RemoveAttribute(name)
end</code></pre></div><div><p>197:&nbsp&nbsp<span class="show-code">generic_ability:ReplaceRelativeString(str)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ReplaceRelativeString(str)
    str = tostring(str)
    local newString = str:match(&quot;%%(%a*)&quot;)
    if newString then
        newString = str:match(&quot;%%(%a*)&quot;)
        local caster = self:GetCaster()
        local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
        if not netTable then return 0 end
        local abilityIndex = netTable.nameLookup[self:GetAbilityClassName()]
        if not abilityIndex then return 0 end
        local abilityTable = netTable.abilities[tostring(abilityIndex)]
        if not abilityTable then return 0 end
        newString = FindAttribute(abilityTable.attributes, newString)
    else
        return str
    end
    return newString
end</code></pre></div><div><p>125:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityDamageType(damageType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityDamageType(damageType)
    self:SetValues(&quot;damageType&quot;, damageType)
end</code></pre></div><div><p>157:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityDescription(description)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityDescription(description)
    self:SetValues(&quot;description&quot;, description)
end</code></pre></div><div><p>149:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityDispelType(dispelType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityDispelType(dispelType)
    self:SetValues(&quot;dispelType&quot;, dispelType)
end</code></pre></div><div><p>85:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityDuration(duration)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityDuration(duration)
    self:SetValues(&quot;duration&quot;, duration)
end</code></pre></div><div><p>165:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityLore(lore)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityLore(lore)
    self:SetValues(&quot;lore&quot;, lore)
end</code></pre></div><div><p>133:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilitySpecialDamageType(specialDamageType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilitySpecialDamageType(specialDamageType)
    self:SetValues(&quot;specialDamageType&quot;, specialDamageType)
end</code></pre></div><div><p>141:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilitySpellImmunityType(spellImmunity)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilitySpellImmunityType(spellImmunity)
    self:SetValues(&quot;spellImmunity&quot;, spellImmunity)
end</code></pre></div><div><p>109:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityTargetFlags(targetFlags)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityTargetFlags(targetFlags)
    self:SetValues(&quot;targetFlags&quot;, targetFlags)
end</code></pre></div><div><p>117:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityTargetTeam(targetTeam)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityTargetTeam(targetTeam)
    self:SetValues(&quot;targetTeam&quot;, targetTeam)
end</code></pre></div><div><p>101:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityTargetType(targetType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityTargetType(targetType)
    self:SetValues(&quot;targetType&quot;, targetType)
end</code></pre></div><div><p>93:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityTextureName(texture)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityTextureName(texture)
    self:SetValues(&quot;texture&quot;, texture)
end</code></pre></div><div><p>173:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityTitle(title)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityTitle(title)
    self:SetValues(&quot;title&quot;, title)
end</code></pre></div><div><p>77:&nbsp&nbsp<span class="show-code">generic_ability:SetAOERadius(aoeRadius)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAOERadius(aoeRadius)
    self:SetValues(&quot;aoeRadius&quot;, aoeRadius)
end</code></pre></div><div><p>38:&nbsp&nbsp<span class="show-code">generic_ability:SetBehavior(behavior)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetBehavior(behavior)
    self:SetValues(&quot;behavior&quot;, behavior)
end</code></pre></div><div><p>46:&nbsp&nbsp<span class="show-code">generic_ability:SetCastRange(castRange)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetCastRange(castRange)
    self:SetValues(&quot;castRange&quot;, castRange)
end</code></pre></div><div><p>54:&nbsp&nbsp<span class="show-code">generic_ability:SetCooldown(cooldown)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetCooldown(cooldown)
    self:SetValues(&quot;cooldown&quot;, cooldown)
end</code></pre></div><div><p>69:&nbsp&nbsp<span class="show-code">generic_ability:SetManaCost(manaCost)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetManaCost(manaCost)
    self:SetValues(&quot;manaCost&quot;, manaCost)
end</code></pre></div><div><p>271:&nbsp&nbsp<span class="show-code">generic_ability:SetValues(valType, val)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetValues(valType, val)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[self:GetAbilityName()]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    abilityTable[valType] = self:ReplaceRelativeString(val)
    netTable.abilities[tostring(abilityIndex)] = abilityTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()), netTable)
end</code></pre></div><div><p>318:&nbsp&nbsp<span class="show-code">GetTableLength(table)</span></p><pre class="code-syntax-block"><code class="lua">function GetTableLength(table)
    local index = 0
    for _,k in pairs(table) do
        index = index + 1
    end
    return index
end</code></pre></div><div><p>398:&nbsp&nbsp<span class="show-code">GetTableLength(table)</span></p><pre class="code-syntax-block"><code class="lua">function GetTableLength(table)
    local index = 0
    for _,k in pairs(table) do
        index = index + 1
    end
    return index
end</code></pre></div><div><p>421:&nbsp&nbsp<span class="show-code">IsEmpty(tab)</span></p><pre class="code-syntax-block"><code class="lua">function IsEmpty(tab)
    if GetTableLength(tab) == 0 then
        return true
    end
    return false
end</code></pre></div><div><p>406:&nbsp&nbsp<span class="show-code">RemoveItemFromTable(tab, val)</span></p><pre class="code-syntax-block"><code class="lua">function RemoveItemFromTable(tab, val)
    print(&quot;Removing from table!&quot;)
    PrintTable(tab)
    local newTab = {}
    local index = 0
    for _,v in pairs(tab) do
        if not v:GetName() ~= val:GetName() then
            newTab[index] = v
            index = index + 1
        end
    end
    PrintTable(newTab)
    return newTab
end</code></pre></div></div><div class="file-block"><p id="vscripts-backup-generic-ability-manager"><b>vscripts/backup/generic_ability_manager.lua</b></p><div><p>164:&nbsp&nbsp<span class="show-code">GenericAbility:AddFunction(ability, funcName, func)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:AddFunction(ability, funcName, func)
    -- print(&quot;Adding the function &quot;..ability:GetAbilityName()..&quot;:&quot;..funcName..&quot;()&quot;)
    if not ability.funcs then
        ability.funcs = {}
    end
    if not ability[funcName] or not ability.funcs[funcName] then
        ability.funcs[funcName] = {}
        table.insert(ability.funcs[funcName], func)

        local function ExecuteFunctions(self, funcName, ...)
            -- print(&quot;Exec &quot;..funcName..&quot;()...&quot;)
            local finalRet
            for _,func in pairs(self.funcs[funcName]) do
                local ret = func(self, select(1, ...))
                if ret ~= nil then
                    finalRet = ret
                end
            end
            if finalRet ~= nil then
                -- print(&quot;Return: &quot;..tostring(finalRet))
            end
            return true
        end
        ability[funcName] = function(self, ...) return ExecuteFunctions(self, funcName, ...) end
    else
        table.insert(ability.funcs[funcName], func)
    end
end</code></pre></div><div><p>193:&nbsp&nbsp<span class="show-code">GenericAbility:AddFunctionOverwrite(ability, funcName, func)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:AddFunctionOverwrite(ability, funcName, func)
    -- print(&quot;Adding the function &quot;..ability:GetAbilityName()..&quot;:&quot;..funcName..&quot;() &lt;- OVERWRITE&quot;)
    if not ability.funcs then
        ability.funcs = {}
    end
    ability[funcName] = nil
    ability.funcs[funcName] = nil
    self:AddFunction(ability, funcName, func)
end</code></pre></div><div><p>213:&nbsp&nbsp<span class="show-code">GenericAbility:AddNewGenericAbility(unit, index, args)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:AddNewGenericAbility(unit, index, args)
    unit:AddAbility(&quot;generic_ability_q&quot;)
end</code></pre></div><div><p>203:&nbsp&nbsp<span class="show-code">GenericAbility:ClearCustomFunctions(ability)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:ClearCustomFunctions(ability)
    print(&quot;Reset Custom Functions!&quot;)
    if ability.funcs then
        for key,_ in pairs(ability.funcs) do
            ability[key] = nil
        end
        ability.funcs = nil
    end
end</code></pre></div><div><p>139:&nbsp&nbsp<span class="show-code">GenericAbility:GetAllGenericAbilites(unit)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:GetAllGenericAbilites(unit)
    local abilityTable = {}
    for i=0, 8 do
        local ability = unit:GetAbilityByIndex(i)
        if ability then
            local abilityName = ability:GetAbilityName()
            if abilityName:find(&quot;generic_ability&quot;) then
                table.insert(abilityTable, ability)
            end
        end
    end
    return abilityTable
end</code></pre></div><div><p>153:&nbsp&nbsp<span class="show-code">GenericAbility:GetGenericAbilityByIndex(unit, index)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:GetGenericAbilityByIndex(unit, index)
    local ability = unit:GetAbilityByIndex(index)
    if ability then
        local abilityName = ability:GetAbilityName()
        if not abilityName:find(&quot;generic_ability&quot;) then
            return nil
        end
    end
    return ability
end</code></pre></div><div><p>217:&nbsp&nbsp<span class="show-code">GenericAbility:GetStringLocalization(token)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:GetStringLocalization(token)

end</code></pre></div><div><p>5:&nbsp&nbsp<span class="show-code">GenericAbility:Init()</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:Init()
    self.started = true
    print(&quot;[GA] Initializing...&quot;)
end</code></pre></div><div><p>10:&nbsp&nbsp<span class="show-code">GenericAbility:InitHero(hero)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:InitHero(hero)
    print(&quot;Initializing for hero &quot;..hero:GetUnitName())
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(hero:entindex()))
    if not netTable then
        netTable = {}
    end
    if not netTable.nameLookup then
        netTable.nameLookup = {}
    end
    local nameTable = netTable.nameLookup
    if not netTable.abilities then
        netTable.abilities = {}
    end

    for i=0, 8 do
        local ability = hero:GetAbilityByIndex(i)
        if ability then
            local abilityName = ability:GetAbilityName()
            if abilityName:find(&quot;generic_ability&quot;) then
                ability.name = abilityName
                netTable.nameLookup[abilityName] = i

                local abilityTable = {}
                abilityTable.behavior = DOTA_ABILITY_BEHAVIOR_PASSIVE
                abilityTable.castRange = &quot;0&quot;
                abilityTable.cooldown = &quot;0&quot;
                abilityTable.manaCost = &quot;0&quot;
                abilityTable.aoeRadius = &quot;0&quot;
                abilityTable.duration = &quot;0&quot;

                abilityTable.name = abilityName
                abilityTable.title = &quot;Variable Ability&quot;
                abilityTable.description = &quot;&quot;
                abilityTable.lore = &quot;&quot;
                abilityTable.texture = &quot;rubick_empty1&quot;
                abilityTable.targetType = DOTA_UNIT_TARGET_NONE
                abilityTable.targetTeam = DOTA_UNIT_TARGET_TEAM_NONE
                abilityTable.targetFlags = DOTA_UNIT_TARGET_FLAG_NONE
                abilityTable.damageType = DAMAGE_TYPE_NONE
                abilityTable.specialDamageType = DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_NONE
                abilityTable.dispelType = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE
                abilityTable.spellImmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE
                abilityTable.attributes = {}

                netTable.abilities[i] = abilityTable
            end
        end
    end

    netTable.nameLookup = nameTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(hero:entindex()), netTable)
    print(&quot;Initialized Hero!&quot;)

    Timers:CreateTimer({
        useGameTime = false,
        endTime = 5,
        callback = function()
            local playerID = hero:GetPlayerID()
            local player = PlayerResource:GetPlayer(playerID)
            CustomGameEventManager:Send_ServerToPlayer(player, &quot;init_tooltips&quot;, {})
        end
    })
end</code></pre></div><div><p>105:&nbsp&nbsp<span class="show-code">GenericAbility:LoadAbilityFromTable(ability, abilityTable)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:LoadAbilityFromTable(ability, abilityTable)
    if abilityTable.Specialvalues then
        ability:ClearAllSpecialValues()
        for _,val in pairs(abilityTable.Specialvalues) do
            if not val.name then
                print(&quot;Wrong specialvalues format!&quot;)
            elseif not val.text then
                print(&quot;Wrong specialvalues format!&quot;)
            elseif not val.val then
                print(&quot;Wrong specialvalues format!&quot;)
            else
                ability:AddSpecialValue(val.name, val.text, val.val)
            end
        end
    end
    if abilityTable.Behavior then ability:SetBehavior(abilityTable.Behavior) end
    if abilityTable.Castrange then ability:SetCastRange(abilityTable.Castrange) end
    if abilityTable.Cooldown then ability:SetCooldown(abilityTable.Cooldown) end
    if abilityTable.Manacost then ability:SetManaCost(abilityTable.Manacost) end
    if abilityTable.Aoeradius then ability:SetAOERadius(abilityTable.Aoeradius) end
    if abilityTable.Duration then ability:SetAbilityDuration(abilityTable.Duration) end
    if abilityTable.Texture then ability:SetAbilityTextureName(abilityTable.Texture) end
    if abilityTable.Targettype then ability:SetAbilityTargetType(abilityTable.Targettype) end
    if abilityTable.Targetflags then ability:SetAbilityTargetFlags(abilityTable.Targetflags) end
    if abilityTable.Targetteam then ability:SetAbilityTargetTeam(abilityTable.Targetteam) end
    if abilityTable.Damagetype then ability:SetAbilityDamageType(abilityTable.Damagetype) end
    if abilityTable.Specialdamagetype then ability:SetAbilitySpecialDamageType(abilityTable.Specialdamagetype) end
    if abilityTable.Spellimmunity then ability:SetAbilitySpellImmunityType(abilityTable.Spellimmunity) end
    if abilityTable.Dispel then ability:SetAbilityDispelType(abilityTable.Dispel) end
    if abilityTable.Title then ability:SetAbilityTitle(abilityTable.Title) end
    if abilityTable.Description then ability:SetAbilityDescription(abilityTable.Description) end
    if abilityTable.Lore then ability:SetAbilityLore(abilityTable.Lore) end
end</code></pre></div><div><p>74:&nbsp&nbsp<span class="show-code">GenericAbility:ResetAbility(hero, ability, index)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:ResetAbility(hero, ability, index)
    print(&quot;Reset...&quot;..tostring(index))
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(hero:entindex()))
    local abilityName = ability:GetAbilityName()

    local abilityTable = {}
    abilityTable.behavior = DOTA_ABILITY_BEHAVIOR_PASSIVE
    abilityTable.castRange = &quot;0&quot;
    abilityTable.cooldown = &quot;0&quot;
    abilityTable.manaCost = &quot;0&quot;
    abilityTable.aoeRadius = &quot;0&quot;
    abilityTable.duration = &quot;0&quot;

    abilityTable.name = abilityName
    abilityTable.title = &quot;Variable Ability&quot;
    abilityTable.description = &quot;&quot;
    abilityTable.lore = &quot;&quot;
    abilityTable.texture = &quot;rubick_empty1&quot;
    abilityTable.targetType = DOTA_UNIT_TARGET_NONE
    abilityTable.targetTeam = DOTA_UNIT_TARGET_TEAM_NONE
    abilityTable.targetFlags = DOTA_UNIT_TARGET_FLAG_NONE
    abilityTable.damageType = DAMAGE_TYPE_NONE
    abilityTable.specialDamageType = DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_NONE
    abilityTable.dispelType = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE
    abilityTable.spellImmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE
    abilityTable.attributes = {}

    netTable.abilities[tostring(index)] = abilityTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(hero:entindex()), netTable)
end</code></pre></div><div><p>237:&nbsp&nbsp<span class="show-code">randomizeString(str)</span></p><pre class="code-syntax-block"><code class="lua">function randomizeString(str)
    local newString = randomString(str:len())
    for i=0,str:len() do
        local char = str[i]
        if char == &quot; &quot; then
            newString[i] = &quot; &quot;
        end
    end
    return newString
end</code></pre></div><div><p>232:&nbsp&nbsp<span class="show-code">randomString(length)</span></p><pre class="code-syntax-block"><code class="lua">function randomString(length)
    if not length or length &lt;= 0 then return &#x27;&#x27; end
    return randomString(length - 1) .. charset[RandomInt(1, #charset)]
end</code></pre></div></div><div class="file-block"><p id="vscripts-backup-generic-ability-q"><b>vscripts/backup/generic_ability_q.lua</b></p><div><p>259:&nbsp&nbsp<span class="show-code">generic_ability_q:AddAttribute(name, text, val)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:AddAttribute(name, text, val)
    local caster = self:GetCaster()
    self:RemoveAttribute(name)
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[&quot;generic_ability_q&quot;]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    local newTable = {
        Name = name,
        Key = text,
        Val = val
    }
    local function GetTableLength(table)
        local index = 0
        for _,k in pairs(table) do
            index = index + 1
        end
        return index
    end
    table.insert(abilityTable.attributes, GetTableLength(abilityTable.attributes), newTable)
    netTable.abilities[tostring(abilityIndex)] = abilityTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()), netTable)
end</code></pre></div><div><p>15:&nbsp&nbsp<span class="show-code">generic_ability_q:AddSpecialValue(name, text, val)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:AddSpecialValue(name, text, val)
    self:AddAttribute(name, text, val)
end</code></pre></div><div><p>320:&nbsp&nbsp<span class="show-code">generic_ability_q:CastFilterResultTarget(hTarget)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:CastFilterResultTarget(hTarget)
    local caster = self:GetCaster()
    local targetType = self:GetAbilityTargetType()
    local targetTeam = self:GetAbilityTargetTeam()
    local targetFlags = self:GetAbilityTargetFlags()
    local spellImmunity = self:GetAbilitySpellImmunityType()

    --manipulate the flags according to the set spell immunity
    if bit.band(spellImmunity, DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_ALLIES_NO) ~= 0 then
        targetFlags = targetFlags + DOTA_UNIT_TARGET_FLAG_NOT_MAGIC_IMMUNE_ALLIES
    end
    if bit.band(spellImmunity, DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_ENEMIES_YES) ~= 0 then
        targetFlags = targetFlags + DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES
    end

    local team = caster:GetTeamNumber()
    local filter = UnitFilter(hTarget, targetTeam, targetType, targetFlags, team)

    return filter
end</code></pre></div><div><p>23:&nbsp&nbsp<span class="show-code">generic_ability_q:ClearAllSpecialValues()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:ClearAllSpecialValues()
    self:ClearAttributes()
end</code></pre></div><div><p>307:&nbsp&nbsp<span class="show-code">generic_ability_q:ClearAttributes()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:ClearAttributes()
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[&quot;generic_ability_q&quot;]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    abilityTable.attributes = {}
    netTable.abilities[tostring(abilityIndex)] = abilityTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()), netTable)
end</code></pre></div><div><p>103:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAbilityDamageType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAbilityDamageType()
    return self:GetNumberValue(&quot;damageType&quot;)
end</code></pre></div><div><p>127:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAbilityDescription()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAbilityDescription()
    return self:GetStringValue(&quot;description&quot;)
end</code></pre></div><div><p>119:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAbilityDispelType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAbilityDispelType()
    return self:GetNumberValue(&quot;dispelType&quot;)
end</code></pre></div><div><p>135:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAbilityLore()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAbilityLore()
    return self:GetStringValue(&quot;lore&quot;)
end</code></pre></div><div><p>111:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAbilitySpellImmunityType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAbilitySpellImmunityType()
    return self:GetNumberValue(&quot;spellImmunity&quot;)
end</code></pre></div><div><p>87:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAbilityTargetFlags()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAbilityTargetFlags()
    return self:GetNumberValue(&quot;targetFlags&quot;)
end</code></pre></div><div><p>95:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAbilityTargetTeam()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAbilityTargetTeam()
    return self:GetNumberValue(&quot;targetTeam&quot;)
end</code></pre></div><div><p>79:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAbilityTargetType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAbilityTargetType()
    return self:GetNumberValue(&quot;targetType&quot;)
end</code></pre></div><div><p>71:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAbilityTextureName()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAbilityTextureName()
    return self:GetStringValue(&quot;texture&quot;)
end</code></pre></div><div><p>143:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAbilityTitle()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAbilityTitle()
    return self:GetStringValue(&quot;title&quot;)
end</code></pre></div><div><p>232:&nbsp&nbsp<span class="show-code">generic_ability_q:GetAttribute(name, level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetAttribute(name, level)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[&quot;generic_ability_q&quot;]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    local attributeTable = abilityTable.attributes
    local function findAttribute(table, attrName)
        for _,obj in pairs(table) do
            if obj.Name:lower() == attrName:lower() then
                return obj.Val
            end
        end
    end
    local curVal = findAttribute(attributeTable, name)
    if type(curVal) == &quot;string&quot; then
        local values = {}
        for value in curVal:gmatch(&quot;%w+&quot;) do table.insert(values, value) end
        if values[level] then
            curVal = values[level]
        end
    end
    return curVal
end</code></pre></div><div><p>27:&nbsp&nbsp<span class="show-code">generic_ability_q:GetBehavior()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetBehavior()
    local val
    if IsClient() then
        val = self:LimitFunctionCall(function(self, valType) return self:GetNumberValue(valType) end, 200, &quot;behavior&quot;, &quot;behavior&quot;)
    else
        val = self:GetNumberValue(&quot;behavior&quot;)
    end
    return val
end</code></pre></div><div><p>41:&nbsp&nbsp<span class="show-code">generic_ability_q:GetCastRange(vLocation, hTarget)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetCastRange(vLocation, hTarget)
    return self:GetNumberValue(&quot;castRange&quot;)
end</code></pre></div><div><p>49:&nbsp&nbsp<span class="show-code">generic_ability_q:GetCooldown(level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetCooldown(level)
    return self:GetNumberValue(&quot;cooldown&quot;)
end</code></pre></div><div><p>11:&nbsp&nbsp<span class="show-code">generic_ability_q:GetLevelSpecialValueFor(name, level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetLevelSpecialValueFor(name, level)
    return tonumber(self:GetAttribute(name, level))
end</code></pre></div><div><p>57:&nbsp&nbsp<span class="show-code">generic_ability_q:GetManaCost(level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetManaCost(level)
    local val
    if IsClient() then
        val = self:LimitFunctionCall(function(self, valType) return self:GetNumberValue(valType) end, 50, &quot;manaCost&quot;, &quot;manaCost&quot;)
    else
        val = self:GetNumberValue(&quot;manaCost&quot;)
    end
    return val
end</code></pre></div><div><p>188:&nbsp&nbsp<span class="show-code">generic_ability_q:GetNumberValue(valType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetNumberValue(valType)
    -- print(&quot;Get Value of &quot;..valType)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[&quot;generic_ability_q&quot;]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    local curVal = abilityTable[valType]
    if type(curVal) == &quot;string&quot; then
        local values = {}
        for value in curVal:gmatch(&quot;%w+&quot;) do table.insert(values, value) end
        if values[self:GetLevel()] then
            curVal = values[self:GetLevel()]
        end
    end
    return tonumber(curVal)
end</code></pre></div><div><p>7:&nbsp&nbsp<span class="show-code">generic_ability_q:GetSpecialValueFor(name)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetSpecialValueFor(name)
    return tonumber(self:GetAttribute(name, self:GetLevel()))
end</code></pre></div><div><p>208:&nbsp&nbsp<span class="show-code">generic_ability_q:GetStringValue(valType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:GetStringValue(valType)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[&quot;generic_ability_q&quot;]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    return abilityTable[valType]
end</code></pre></div><div><p>173:&nbsp&nbsp<span class="show-code">generic_ability_q:LimitFunctionCall(func, cycle, save, ...)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:LimitFunctionCall(func, cycle, save, ...)
    if not self[save] then
        self[save] = {}
        self[save].tick = 0
    end
    self[save].tick = self[save].tick + 1
    if self[save].tick % cycle == 0 or self[save].val == nil then
        local ret = func(self, select(1, ...))
        self[save].val = ret
        self[save].tick = 0
        return ret
    end
    return self[save].val
end</code></pre></div><div><p>151:&nbsp&nbsp<span class="show-code">generic_ability_q:OnProjectileHit(target, loc)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:OnProjectileHit(target, loc)
    local caster = self:GetCaster()
    if target then
        print(self:GetSpecialValueFor(&quot;damage&quot;))
        print(self:GetAbilityDamageType())
        local damageTable = {
            attacker = caster,
            victim = target,
            ability = self,
            damage = self:GetSpecialValueFor(&quot;damage&quot;),
            damage_type = self:GetAbilityDamageType(),
        }
        ApplyDamage(damageTable)
    end
    return true
end</code></pre></div><div><p>285:&nbsp&nbsp<span class="show-code">generic_ability_q:RemoveAttribute(name)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:RemoveAttribute(name)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[&quot;generic_ability_q&quot;]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    local attributeTable = abilityTable.attributes
    local function removeAttribute(table, attrName)
        for _,obj in pairs(table) do
            if obj.Name:lower() == attrName:lower() then
                obj = nil
            end
        end
        return table
    end
    abilityTable.attributes = removeAttribute(attributeTable, name)
    netTable.abilities[tostring(abilityIndex)] = abilityTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()), netTable)
end</code></pre></div><div><p>19:&nbsp&nbsp<span class="show-code">generic_ability_q:RemoveSpecialValue(name)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:RemoveSpecialValue(name)
    self:RemoveAttribute(name)
end</code></pre></div><div><p>107:&nbsp&nbsp<span class="show-code">generic_ability_q:SetAbilityDamageType(damageType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetAbilityDamageType(damageType)
    self:SetValues(&quot;damageType&quot;, damageType)
end</code></pre></div><div><p>131:&nbsp&nbsp<span class="show-code">generic_ability_q:SetAbilityDescription(description)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetAbilityDescription(description)
    self:SetValues(&quot;description&quot;, description)
end</code></pre></div><div><p>123:&nbsp&nbsp<span class="show-code">generic_ability_q:SetAbilityDispelType(dispelType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetAbilityDispelType(dispelType)
    self:SetValues(&quot;dispelType&quot;, dispelType)
end</code></pre></div><div><p>139:&nbsp&nbsp<span class="show-code">generic_ability_q:SetAbilityLore(lore)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetAbilityLore(lore)
    self:SetValues(&quot;lore&quot;, lore)
end</code></pre></div><div><p>115:&nbsp&nbsp<span class="show-code">generic_ability_q:SetAbilitySpellImmunityType(spellImmunity)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetAbilitySpellImmunityType(spellImmunity)
    self:SetValues(&quot;spellImmunity&quot;, spellImmunity)
end</code></pre></div><div><p>91:&nbsp&nbsp<span class="show-code">generic_ability_q:SetAbilityTargetFlags(targetFlags)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetAbilityTargetFlags(targetFlags)
    self:SetValues(&quot;targetFlags&quot;, targetFlags)
end</code></pre></div><div><p>99:&nbsp&nbsp<span class="show-code">generic_ability_q:SetAbilityTargetTeam(targetTeam)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetAbilityTargetTeam(targetTeam)
    self:SetValues(&quot;targetTeam&quot;, targetTeam)
end</code></pre></div><div><p>83:&nbsp&nbsp<span class="show-code">generic_ability_q:SetAbilityTargetType(targetType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetAbilityTargetType(targetType)
    self:SetValues(&quot;targetType&quot;, targetType)
end</code></pre></div><div><p>75:&nbsp&nbsp<span class="show-code">generic_ability_q:SetAbilityTextureName(texture)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetAbilityTextureName(texture)
    self:SetValues(&quot;texture&quot;, texture)
end</code></pre></div><div><p>147:&nbsp&nbsp<span class="show-code">generic_ability_q:SetAbilityTitle(title)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetAbilityTitle(title)
    self:SetValues(&quot;title&quot;, title)
end</code></pre></div><div><p>37:&nbsp&nbsp<span class="show-code">generic_ability_q:SetBehavior(behavior)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetBehavior(behavior)
    self:SetValues(&quot;behavior&quot;, behavior)
end</code></pre></div><div><p>45:&nbsp&nbsp<span class="show-code">generic_ability_q:SetCastRange(castRange)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetCastRange(castRange)
    self:SetValues(&quot;castRange&quot;, castRange)
end</code></pre></div><div><p>53:&nbsp&nbsp<span class="show-code">generic_ability_q:SetCooldown(cooldown)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetCooldown(cooldown)
    self:SetValues(&quot;cooldown&quot;, cooldown)
end</code></pre></div><div><p>67:&nbsp&nbsp<span class="show-code">generic_ability_q:SetManaCost(manaCost)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetManaCost(manaCost)
    self:SetValues(&quot;manaCost&quot;, manaCost)
end</code></pre></div><div><p>219:&nbsp&nbsp<span class="show-code">generic_ability_q:SetValues(valType, val)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability_q:SetValues(valType, val)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return 0 end
    local abilityIndex = netTable.nameLookup[self:GetAbilityName()]
    if not abilityIndex then return 0 end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return 0 end
    abilityTable[valType] = val
    netTable.abilities[tostring(abilityIndex)] = abilityTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()), netTable)
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-blink-strike"><b>vscripts/cores/blink_strike.lua</b></p><div><p>14:&nbsp&nbsp<span class="show-code">blink_strike:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function blink_strike:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_UNIT_TARGET,
        Castrange = &quot;%range&quot;,
        Cooldown = &quot;%cooldown&quot;,
        Manacost    = &quot;%manacost&quot;,
        Texture = &quot;120px-Backstab_icon&quot;,
        Targettype = DOTA_UNIT_TARGET_BASIC + DOTA_UNIT_TARGET_HERO,
        Targetflags = DOTA_UNIT_TARGET_FLAG_NONE,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY + DOTA_UNIT_TARGET_TEAM_FRIENDLY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE,
        Damagetype = DAMAGE_TYPE_MAGICAL,
        Title = &quot;Blink Strike&quot;,
        Description = &quot;Teleports behind of targeted unit, deals damage if target is an enemy.&quot;,
        Lore = &quot;Basic Lore :(&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>7:&nbsp&nbsp<span class="show-code">blink_strike:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function blink_strike:GetFunctions()
    local funcs = {
        &quot;OnSpellStart&quot;,
    }
    return funcs
end</code></pre></div><div><p>3:&nbsp&nbsp<span class="show-code">blink_strike:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function blink_strike:GetReferenceItem()
    return &quot;item_ability_core_common_blink_strike&quot;
end</code></pre></div><div><p>34:&nbsp&nbsp<span class="show-code">blink_strike:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function blink_strike:OnSpellStart()
    local caster = self:GetCaster()
    local target = self:GetCursorTarget()
    if target == caster then
        caster:Interrupt()
        EmitSoundOnClient(&quot;General.CastFail_InvalidTarget_Hero&quot;, caster:GetPlayerOwner())
        FireGameEvent(&#x27;custom_error_show&#x27;, {player_ID = caster:GetPlayerID(), _error = &quot;Ability Can&#x27;t Target Self&quot;})
        self:RefundManaCost()
        self:EndCooldown()
    else
        local fv = target:GetForwardVector()
        local origin = target:GetAbsOrigin()
        local distance = 70
        local particleName = &quot;particles/core_abilities/blink_strike/storm/blink_start.vpcf&quot;
        local particle = ParticleManager:CreateParticle(particleName, PATTACH_ABSORIGIN_FOLLOW, caster)
        ParticleManager:ReleaseParticleIndex(particle)

        local position = origin + caster:GetForwardVector() * distance
        FindClearSpaceForUnit(caster, position, false)
        caster:SetForwardVector(fv)

        if caster:GetTeam() == target:GetTeam() then
        else
            self:DealDamage(self:GetSpecialValueFor(&quot;damage&quot;), caster, target, self:GetAbilitySpecialDamageType())
            local order = 
            {
                UnitIndex = caster:entindex(),
                OrderType = DOTA_UNIT_ORDER_ATTACK_TARGET,
                TargetIndex = target:entindex()
            }

            ExecuteOrderFromTable(order)
        end
        local particleName = &quot;particles/core_abilities/blink_strike/storm/blink_end.vpcf&quot;
        local particle = ParticleManager:CreateParticle(particleName, PATTACH_ABSORIGIN_FOLLOW, target)
        ParticleManager:ReleaseParticleIndex(particle)
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-column-of-destruction"><b>vscripts/cores/column_of_destruction.lua</b></p><div><p>47:&nbsp&nbsp<span class="show-code">column_of_destruction:DelayedAction(caster, loc, radius, targetTeam,targetType, targetFlags, duration, delay)</span></p><pre class="code-syntax-block"><code class="lua">function column_of_destruction:DelayedAction(caster, loc, radius, targetTeam,targetType, targetFlags, duration, delay)
    local enemies = FindUnitsInRadius(caster:GetTeamNumber(), loc, nil, radius, targetTeam, targetType, targetFlags, FIND_CLOSEST, false)
    for _,enemy in pairs(enemies) do
        enemy:AddNewModifier(caster, self, &quot;modifier_stunned&quot;, {Duration = duration})
        self:DealDamage(self:GetSpecialValueFor(&quot;damage&quot;), caster, enemy, self:GetAbilitySpecialDamageType())
    end
end</code></pre></div><div><p>18:&nbsp&nbsp<span class="show-code">column_of_destruction:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function column_of_destruction:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_POINT + DOTA_ABILITY_BEHAVIOR_AOE,
        Castrange = &quot;%range&quot;,
        Cooldown = &quot;%cooldown&quot;,
        Manacost    = &quot;%manacost&quot;,
        Aoeradius = &quot;%radius&quot;,
        Duration = &quot;%duration&quot;,
        Texture = &quot;120px-Bellows_of_Creation_Echo_Stomp_icon&quot;,
        Targettype = DOTA_UNIT_TARGET_BASIC + DOTA_UNIT_TARGET_HERO,
        Targetflags = DOTA_UNIT_TARGET_FLAG_NONE,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE,
        Damagetype = DAMAGE_TYPE_MAGICAL,
        Title = &quot;Column of Destruction&quot;,
        Description = &quot;After a short delay stuns all enemies inside the targeted area while dealing damage.&quot;,
        Lore = &quot;Basic Lore :(&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>8:&nbsp&nbsp<span class="show-code">column_of_destruction:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function column_of_destruction:GetFunctions()
    local funcs = {
        &quot;PlayEffect&quot;,
        &quot;OnSpellStart&quot;,
        &quot;DelayedAction&quot;,
    }
    return funcs
end</code></pre></div><div><p>4:&nbsp&nbsp<span class="show-code">column_of_destruction:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function column_of_destruction:GetReferenceItem()
    return &quot;item_ability_core_common_column_of_destruction&quot;
end</code></pre></div><div><p>55:&nbsp&nbsp<span class="show-code">column_of_destruction:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function column_of_destruction:OnSpellStart()
    local caster = self:GetCaster()
    local loc = self:GetCursorPosition()

    local radius = self:GetSpecialValueFor(&quot;radius&quot;)
    local targetTeam = self:GetAbilityTargetTeam()
    local targetType = self:GetAbilityTargetType()
    local targetFlags = self:GetAbilityTargetFlags()
    local duration = self:GetSpecialValueFor(&quot;duration&quot;)
    local delay = self:GetSpecialValueFor(&quot;delay&quot;)
    self:PlayEffect(loc, radius)
    

    Timers:CreateTimer(delay, function()
        self:DelayedAction(caster, loc, radius, targetTeam, targetType, targetFlags, duration, delay)
        end)    
    
end</code></pre></div><div><p>40:&nbsp&nbsp<span class="show-code">column_of_destruction:PlayEffect(loc, optVal)</span></p><pre class="code-syntax-block"><code class="lua">function column_of_destruction:PlayEffect(loc, optVal)
    local particle = ParticleManager:CreateParticle(&quot;particles/econ/items/lina/lina_ti7/light_strike_array_pre_ti7.vpcf&quot;, PATTACH_CUSTOMORIGIN, self:GetCaster())
    ParticleManager:SetParticleControl(particle, 0, loc)
    ParticleManager:SetParticleControl(particle, 1, Vector(1, 1, optVal/500))
    ParticleManager:ReleaseParticleIndex(particle)
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-dispel-magic"><b>vscripts/cores/dispel_magic.lua</b></p><div><p>15:&nbsp&nbsp<span class="show-code">dispel_magic:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function dispel_magic:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_NO_TARGET,
        Cooldown = &quot;%cooldown&quot;,
        Manacost = &quot;%manacost&quot;,
        Texture = &quot;120px-Arsenal_of_the_Demonic_Vessel_Aphotic_Shield_icon&quot;,
        Targettype = DOTA_UNIT_TARGET_HERO,
        Targetflags = DOTA_UNIT_TARGET_FLAG,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_ALLIES_YES,
        Damagetype = DAMAGE_TYPE_NONE,
        Title = &quot;Dispel Magic&quot;,
        Description = &quot;Removes most negative effects from your hero while increasing Chaos Damage Resistance.&quot;,
        Lore = &quot;Basic Lore :(&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>8:&nbsp&nbsp<span class="show-code">dispel_magic:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function dispel_magic:GetFunctions()
    local funcs = {
        &quot;OnSpellStart&quot;,
    }
    return funcs
end</code></pre></div><div><p>4:&nbsp&nbsp<span class="show-code">dispel_magic:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function dispel_magic:GetReferenceItem()
    return &quot;item_ability_core_common_dispel_magic&quot;
end</code></pre></div><div><p>34:&nbsp&nbsp<span class="show-code">dispel_magic:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function dispel_magic:OnSpellStart()
    local caster = self:GetCaster()

    local RemovePositiveBuffs = false
    local RemoveDebuffs = true
    local BuffsCreatedThisFrameOnly = false
    local RemoveStuns = true
    local RemoveExceptions = false
    caster:Purge( RemovePositiveBuffs, RemoveDebuffs, BuffsCreatedThisFrameOnly, RemoveStuns, RemoveExceptions)
    local duration = self:GetSpecialValueFor(&quot;duration&quot;)
    caster:AddNewModifier(caster, self, &quot;modifier_dispel_magic_buff&quot;, {Duration = duration})

end</code></pre></div><div><p>70:&nbsp&nbsp<span class="show-code">modifier_dispel_magic_buff:GetAttributes()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_dispel_magic_buff:GetAttributes()
    return &quot;MODIFIER_ATTRIBUTE_MULTIPLE&quot;
end</code></pre></div><div><p>67:&nbsp&nbsp<span class="show-code">modifier_dispel_magic_buff:GetEffectAttachType()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_dispel_magic_buff:GetEffectAttachType()
    return &quot;follow_hitloc&quot;
end</code></pre></div><div><p>63:&nbsp&nbsp<span class="show-code">modifier_dispel_magic_buff:GetEffectName()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_dispel_magic_buff:GetEffectName()
    return &quot;particles/core_abilities/dispel_magic/dispel_magic_chaos/dispel_magic_shield.vpcf&quot;
end</code></pre></div><div><p>55:&nbsp&nbsp<span class="show-code">modifier_dispel_magic_buff:IsDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_dispel_magic_buff:IsDebuff()
    return true
end</code></pre></div><div><p>51:&nbsp&nbsp<span class="show-code">modifier_dispel_magic_buff:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_dispel_magic_buff:IsHidden()
    return false
end</code></pre></div><div><p>59:&nbsp&nbsp<span class="show-code">modifier_dispel_magic_buff:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_dispel_magic_buff:IsPurgable()
    return true
end</code></pre></div><div><p>74:&nbsp&nbsp<span class="show-code">modifier_dispel_magic_buff:OnCreated(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_dispel_magic_buff:OnCreated(event)
    if IsServer() then
        local ability = self:GetAbility()
        self.bonusResistance = ability:GetSpecialValueFor(&quot;bonus_resistance&quot;)
        ability:ModifyElementalStat(&quot;chaos_resistance&quot;, self.bonusResistance)
    end
end</code></pre></div><div><p>84:&nbsp&nbsp<span class="show-code">modifier_dispel_magic_buff:OnDestroy()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_dispel_magic_buff:OnDestroy()
    if IsServer() then
        local ability = self:GetAbility()
        ability:ModifyElementalStat(&quot;chaos_resistance&quot;, -self.bonusResistance)
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-energy-bolt"><b>vscripts/cores/energy_bolt.lua</b></p><div><p>15:&nbsp&nbsp<span class="show-code">energy_bolt:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function energy_bolt:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_UNIT_TARGET,
        Cooldown = &quot;%cooldown&quot;,
        Manacost = &quot;%manacost&quot;,
        Castrange = &quot;%range&quot;,
        Texture = &quot;120px-Blessing_of_the_Crested_Umbra_Magic_Missile_icon&quot;,
        Targettype = DOTA_UNIT_TARGET_HERO + DOTA_UNIT_TARGET_BASIC,
        Targetflags = DOTA_UNIT_TARGET_FLAG,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_YES,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE,
        Damagetype = DAMAGE_TYPE_NONE,
        Title = &quot;Energy Bolt&quot;,
        Description = &quot;Fires an energy bolt to targeted enemy that deals damage.&quot;,
        Lore = &quot;A simple powerful blast, but never underestimate it&#x27;s power.&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>6:&nbsp&nbsp<span class="show-code">energy_bolt:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function energy_bolt:GetFunctions()
    local funcs = {
        &quot;GetProjectileParticle&quot;,
        &quot;OnProjectileHitUnit&quot;,
        &quot;OnSpellStart&quot;,
    }
    return funcs
end</code></pre></div><div><p>35:&nbsp&nbsp<span class="show-code">energy_bolt:GetProjectileParticle()</span></p><pre class="code-syntax-block"><code class="lua">function energy_bolt:GetProjectileParticle()
    return &quot;particles/econ/items/templar_assassin/templar_assassin_butterfly/templar_assassin_meld_attack_butterfly.vpcf&quot;
end</code></pre></div><div><p>2:&nbsp&nbsp<span class="show-code">energy_bolt:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function energy_bolt:GetReferenceItem()
    return &quot;item_ability_core_common_energy_bolt&quot;
end</code></pre></div><div><p>39:&nbsp&nbsp<span class="show-code">energy_bolt:OnProjectileHitUnit(hTarget)</span></p><pre class="code-syntax-block"><code class="lua">function energy_bolt:OnProjectileHitUnit(hTarget)
    local caster = self:GetCaster()
    self:DealDamage(self:GetSpecialValueFor(&quot;damage&quot;), caster, hTarget, self:GetAbilitySpecialDamageType())
end</code></pre></div><div><p>44:&nbsp&nbsp<span class="show-code">energy_bolt:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function energy_bolt:OnSpellStart()
    local caster = self:GetCaster()
    local casterLoc = caster:GetAbsOrigin()
    local target = self:GetCursorTarget()
    local speed = 1600

    self:DoTrackingProjectile(casterLoc, caster, target, speed)
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-fiendish-hunger"><b>vscripts/cores/fiendish_hunger.lua</b></p><div><p>16:&nbsp&nbsp<span class="show-code">fiendish_hunger:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function fiendish_hunger:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_PASSIVE,
        Texture = &quot;orc_devour&quot;,
        Targettype = DOTA_UNIT_TARGET_BASIC + DOTA_UNIT_TARGET_HERO,
        Targetflags = DOTA_UNIT_TARGET_FLAG_NONE,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE,
        Damagetype = DAMAGE_TYPE_NONE,
        Title = &quot;Fiendish Hunger&quot;,
        Description = &quot;Allows caster to restore health upon dealing damage based on percentage of damage dealt.&quot;,
        Lore = &quot;Basic Lore :(&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>8:&nbsp&nbsp<span class="show-code">fiendish_hunger:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function fiendish_hunger:GetFunctions()
    local funcs = {
        &quot;GetPassives&quot;,
        &quot;OnUpgrade&quot;,
    }
    return funcs
end</code></pre></div><div><p>33:&nbsp&nbsp<span class="show-code">fiendish_hunger:GetPassives()</span></p><pre class="code-syntax-block"><code class="lua">function fiendish_hunger:GetPassives()
    local passives = {
        &quot;modifier_passive_fiendish_hunger&quot;,
    }
    return passives
end</code></pre></div><div><p>4:&nbsp&nbsp<span class="show-code">fiendish_hunger:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function fiendish_hunger:GetReferenceItem()
    return &quot;item_ability_core_passive_fiendish_hunger&quot;
end</code></pre></div><div><p>58:&nbsp&nbsp<span class="show-code">modifier_passive_fiendish_hunger:DeclareFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_passive_fiendish_hunger:DeclareFunctions()
    local funcs =  {
        MODIFIER_EVENT_ON_TAKEDAMAGE,
    }
    return funcs
end</code></pre></div><div><p>42:&nbsp&nbsp<span class="show-code">modifier_passive_fiendish_hunger:IsDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_passive_fiendish_hunger:IsDebuff()
    return false
end</code></pre></div><div><p>54:&nbsp&nbsp<span class="show-code">modifier_passive_fiendish_hunger:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_passive_fiendish_hunger:IsHidden()
    return false
end</code></pre></div><div><p>46:&nbsp&nbsp<span class="show-code">modifier_passive_fiendish_hunger:IsPassive()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_passive_fiendish_hunger:IsPassive()
    return true
end</code></pre></div><div><p>50:&nbsp&nbsp<span class="show-code">modifier_passive_fiendish_hunger:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_passive_fiendish_hunger:IsPurgable()
    return false
end</code></pre></div><div><p>65:&nbsp&nbsp<span class="show-code">modifier_passive_fiendish_hunger:OnTakeDamage( event )</span></p><pre class="code-syntax-block"><code class="lua">function modifier_passive_fiendish_hunger:OnTakeDamage( event )
    if event.attacker == self:GetParent() then
        local level = self:GetAbility():GetLevel()
        local lifesteal = 6 + (3 * level)
        local heal = lifesteal * event.damage / 100
        Elements:HealUnit(event.attacker, event.attacker, heal)
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-fireball"><b>vscripts/cores/fireball.lua</b></p><div><p>18:&nbsp&nbsp<span class="show-code">fireball:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function fireball:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_DIRECTIONAL + DOTA_ABILITY_BEHAVIOR_POINT,
        Castrange = &quot;%range&quot;,
        Cooldown = &quot;%cooldown&quot;,
        Manacost = &quot;%manacost&quot;,
        Texture = &quot;lina_dragon_slave&quot;,
        Targettype = DOTA_UNIT_TARGET_BASIC + DOTA_UNIT_TARGET_HERO,
        Targetflags = DOTA_UNIT_TARGET_FLAG_NONE,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE,
        Damagetype = DAMAGE_TYPE_MAGICAL,
        Title = &quot;Fireball&quot;,
        Description = &quot;Fires a fireball in a straight line to deal damage to all enemies it passes.&quot;,
        Lore = &quot;Basic Lore :(&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>9:&nbsp&nbsp<span class="show-code">fireball:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function fireball:GetFunctions()
    local funcs = {
        &quot;GetProjectileParticle&quot;,
        &quot;OnSpellStart&quot;,
        &quot;OnProjectileHitUnit&quot;,
    }
    return funcs
end</code></pre></div><div><p>38:&nbsp&nbsp<span class="show-code">fireball:GetProjectileParticle()</span></p><pre class="code-syntax-block"><code class="lua">function fireball:GetProjectileParticle()
    return &quot;particles/core_abilities/fireball/fireball.vpcf&quot;
end</code></pre></div><div><p>5:&nbsp&nbsp<span class="show-code">fireball:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function fireball:GetReferenceItem()
    return &quot;item_ability_core_common_fireball&quot;
end</code></pre></div><div><p>42:&nbsp&nbsp<span class="show-code">fireball:OnProjectileHitUnit(hTarget)</span></p><pre class="code-syntax-block"><code class="lua">function fireball:OnProjectileHitUnit(hTarget)
    local caster = self:GetCaster()
    hTarget:AddNewModifier(caster, self, &quot;modifier_fireball_damage&quot;, {Duration = 0.25})
    -- self:DealDamage(self:GetSpecialValueFor(&quot;damage&quot;), caster, hTarget, self:GetAbilitySpecialDamageType())
    return false
end</code></pre></div><div><p>49:&nbsp&nbsp<span class="show-code">fireball:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function fireball:OnSpellStart()
    local caster = self:GetCaster()
    local loc = self:GetCursorPosition()
    local casterLoc = caster:GetAbsOrigin()

    local direction = (loc - casterLoc):Normalized()
    local speed = self:GetSpecialValueFor(&quot;projectile_speed&quot;)
    local distance = self:GetSpecialValueFor(&quot;range&quot;)

    self:DoLinearProjectile(casterLoc, direction, speed, distance, 100, 250)
end</code></pre></div><div><p>67:&nbsp&nbsp<span class="show-code">modifier_fireball_damage:IsDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_fireball_damage:IsDebuff()
    return true
end</code></pre></div><div><p>63:&nbsp&nbsp<span class="show-code">modifier_fireball_damage:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_fireball_damage:IsHidden()
    return true
end</code></pre></div><div><p>71:&nbsp&nbsp<span class="show-code">modifier_fireball_damage:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_fireball_damage:IsPurgable()
    return false
end</code></pre></div><div><p>75:&nbsp&nbsp<span class="show-code">modifier_fireball_damage:OnCreated(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_fireball_damage:OnCreated(event)
    if IsServer() then 
        local ability = self:GetAbility()
        ability:DealDamage(ability:GetSpecialValueFor(&quot;damage&quot;), self:GetCaster(), self:GetParent(), ability:GetAbilitySpecialDamageType())
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-freeze"><b>vscripts/cores/freeze.lua</b></p><div><p>16:&nbsp&nbsp<span class="show-code">freeze:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function freeze:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_UNIT_TARGET,
        Cooldown = &quot;%cooldown&quot;,
        Manacost = &quot;%manacost&quot;,
        Castrange = &quot;%range&quot;,
        Texture = &quot;crystal_maiden_frostbite&quot;,
        Targettype = DOTA_UNIT_TARGET_HERO + DOTA_UNIT_TARGET_BASIC,
        Targetflags = DOTA_UNIT_TARGET_FLAG,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_YES,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE,
        Damagetype = DAMAGE_TYPE_NONE,
        Title = &quot;Freeze&quot;,
        Description = &quot;Fires a fsat projectile at target unit to freeze it and deal damage over time&quot;,
        Lore = &quot;Basic Lore :(&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>7:&nbsp&nbsp<span class="show-code">freeze:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function freeze:GetFunctions()
    local funcs = {
        &quot;GetProjectileParticle&quot;,
        &quot;OnProjectileHitUnit&quot;,
        &quot;OnSpellStart&quot;,
    }
    return funcs
end</code></pre></div><div><p>36:&nbsp&nbsp<span class="show-code">freeze:GetProjectileParticle()</span></p><pre class="code-syntax-block"><code class="lua">function freeze:GetProjectileParticle()
    return &quot;particles/core_abilities/freeze/freeze.vpcf&quot;
end</code></pre></div><div><p>3:&nbsp&nbsp<span class="show-code">freeze:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function freeze:GetReferenceItem()
    return &quot;item_ability_core_common_freeze&quot;
end</code></pre></div><div><p>40:&nbsp&nbsp<span class="show-code">freeze:OnProjectileHitUnit(hTarget)</span></p><pre class="code-syntax-block"><code class="lua">function freeze:OnProjectileHitUnit(hTarget)
    local caster = self:GetCaster()
    local duration = self:GetSpecialValueFor(&quot;freeze_duration&quot;)
    hTarget:AddNewModifier(caster, self, &quot;modifier_freeze_debuff&quot;, {Duration = duration})
end</code></pre></div><div><p>46:&nbsp&nbsp<span class="show-code">freeze:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function freeze:OnSpellStart()
    local caster = self:GetCaster()
    local casterLoc = caster:GetAbsOrigin()
    local target = self:GetCursorTarget()
    local speed = 1600

    self:DoTrackingProjectile(casterLoc, caster, target, speed)
end</code></pre></div><div><p>69:&nbsp&nbsp<span class="show-code">modifier_freeze_debuff:CheckState()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_freeze_debuff:CheckState()     
    local state = {
        [MODIFIER_STATE_STUNNED] = true,
    }
    return state
end</code></pre></div><div><p>76:&nbsp&nbsp<span class="show-code">modifier_freeze_debuff:GetAttributes()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_freeze_debuff:GetAttributes()
    return MODIFIER_ATTRIBUTE_MULTIPLE
end</code></pre></div><div><p>80:&nbsp&nbsp<span class="show-code">modifier_freeze_debuff:GetEffectName()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_freeze_debuff:GetEffectName()
    return &quot;particles/core_abilities/freeze/freeze_debuff.vpcf&quot;
end</code></pre></div><div><p>61:&nbsp&nbsp<span class="show-code">modifier_freeze_debuff:IsDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_freeze_debuff:IsDebuff()
    return true
end</code></pre></div><div><p>57:&nbsp&nbsp<span class="show-code">modifier_freeze_debuff:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_freeze_debuff:IsHidden()
    return false
end</code></pre></div><div><p>65:&nbsp&nbsp<span class="show-code">modifier_freeze_debuff:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_freeze_debuff:IsPurgable()
    return true
end</code></pre></div><div><p>84:&nbsp&nbsp<span class="show-code">modifier_freeze_debuff:OnCreated(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_freeze_debuff:OnCreated(event)
    if IsServer() then
        local ability = self:GetAbility()
        local damage = ability:GetSpecialValueFor(&quot;damage&quot;)
        local duration = event.Duration
        self.interval = 0.1
        self.damage = (damage / duration) * self.interval
        self:StartIntervalThink(self.interval)
        ability:DealDamage(self.damage, self:GetCaster(), self:GetParent(), ability:GetAbilitySpecialDamageType())
    end
end</code></pre></div><div><p>96:&nbsp&nbsp<span class="show-code">modifier_freeze_debuff:OnIntervalThink()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_freeze_debuff:OnIntervalThink()
    if IsServer() then
        local ability = self:GetAbility()
        ability:DealDamage(self.damage, self:GetCaster(), self:GetParent(), ability:GetAbilitySpecialDamageType())
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-heal"><b>vscripts/cores/heal.lua</b></p><div><p>15:&nbsp&nbsp<span class="show-code">heal:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function heal:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_NO_TARGET,
        Cooldown = &quot;%cooldown&quot;,
        Manacost = &quot;%manacost&quot;,
        Texture = &quot;oracle_purifying_flames&quot;,
        Targettype = DOTA_UNIT_TARGET_HERO,
        Targetflags = DOTA_UNIT_TARGET_FLAG,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_ALLIES_YES,
        Damagetype = DAMAGE_TYPE_NONE,
        Title = &quot;Heal&quot;,
        Description = &quot;Heals the caster briefly.&quot;,
        Lore = &quot;Basic Lore :(&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>7:&nbsp&nbsp<span class="show-code">heal:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function heal:GetFunctions()
    local funcs = {
        &quot;PlayEffect&quot;,
        &quot;OnSpellStart&quot;,
    }
    return funcs
end</code></pre></div><div><p>3:&nbsp&nbsp<span class="show-code">heal:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function heal:GetReferenceItem()
    return &quot;item_ability_core_common_heal&quot;
end</code></pre></div><div><p>40:&nbsp&nbsp<span class="show-code">heal:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function heal:OnSpellStart()
    local caster = self:GetCaster()
    local count = self:GetSpecialValueFor(&quot;heal&quot;)


    self:PlayEffect(caster)
    self:HealUnit(caster, caster, count)
end</code></pre></div><div><p>34:&nbsp&nbsp<span class="show-code">heal:PlayEffect(unit, optVal)</span></p><pre class="code-syntax-block"><code class="lua">function heal:PlayEffect(unit, optVal)
    local particle = ParticleManager:CreateParticle(&quot;particles/core_abilities/heal/heal.vpcf&quot;, PATTACH_ABSORIGIN_FOLLOW, unit)
    ParticleManager:SetParticleControlEnt(particle, 0, unit, PATTACH_ABSORIGIN_FOLLOW, &quot;attach_hitloc&quot;, unit:GetAbsOrigin(), true)
    ParticleManager:ReleaseParticleIndex(particle)
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-healing-touch"><b>vscripts/cores/healing_touch.lua</b></p><div><p>15:&nbsp&nbsp<span class="show-code">healing_touch:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function healing_touch:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_UNIT_TARGET,
        Cooldown = &quot;%cooldown&quot;,
        Manacost = &quot;%manacost&quot;,
        Castrange = &quot;%range&quot;,
        Texture = &quot;beastmaster_quillbeast_frenzy&quot;,
        Targettype = DOTA_UNIT_TARGET_HERO + DOTA_UNIT_TARGET_BASIC,
        Targetflags = DOTA_UNIT_TARGET_FLAG,
        Targetteam = DOTA_UNIT_TARGET_TEAM_FRIENDLY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_ALLIES_YES,
        Damagetype = DAMAGE_TYPE_NONE,
        Title = &quot;Healing Touch&quot;,
        Description = &quot;Heals targeted ally.&quot;,
        Lore = &quot;Basic Lore :(&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>6:&nbsp&nbsp<span class="show-code">healing_touch:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function healing_touch:GetFunctions()
    local funcs = {
        &quot;GetProjectileParticle&quot;,
        &quot;OnProjectileHitUnit&quot;,
        &quot;OnSpellStart&quot;,
    }
    return funcs
end</code></pre></div><div><p>35:&nbsp&nbsp<span class="show-code">healing_touch:GetProjectileParticle()</span></p><pre class="code-syntax-block"><code class="lua">function healing_touch:GetProjectileParticle()
    return &quot;particles/healing_touch/healing_touch_proj.vpcf&quot;
end</code></pre></div><div><p>2:&nbsp&nbsp<span class="show-code">healing_touch:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function healing_touch:GetReferenceItem()
    return &quot;item_ability_core_common_healing_touch&quot;
end</code></pre></div><div><p>39:&nbsp&nbsp<span class="show-code">healing_touch:OnProjectileHitUnit(hTarget)</span></p><pre class="code-syntax-block"><code class="lua">function healing_touch:OnProjectileHitUnit(hTarget)
    local caster = self:GetCaster()
    local count = self:GetSpecialValueFor(&quot;heal&quot;)
    local particle = ParticleManager:CreateParticle(&quot;particles/healing_touch/healing_touch_effect.vpcf&quot;, PATTACH_ABSORIGIN_FOLLOW, hTarget)
    ParticleManager:SetParticleControlEnt(particle, 0, hTarget, PATTACH_ABSORIGIN_FOLLOW, &quot;attach_hitloc&quot;, hTarget:GetAbsOrigin(), true)
    ParticleManager:ReleaseParticleIndex(particle)
    self:HealUnit(caster, hTarget, count)
end</code></pre></div><div><p>48:&nbsp&nbsp<span class="show-code">healing_touch:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function healing_touch:OnSpellStart()
    local caster = self:GetCaster()
    local casterLoc = caster:GetAbsOrigin()
    local target = self:GetCursorTarget()
    local speed = 1100

    self:DoTrackingProjectile(casterLoc, caster, target, speed)
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-plague-swarm"><b>vscripts/cores/plague_swarm.lua</b></p><div><p>59:&nbsp&nbsp<span class="show-code">modifier_plague_swarm_spawner:OnCreated(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_plague_swarm_spawner:OnCreated(event)
    if IsClient() then return end
    self.radius = event.radius
    self.particle = ParticleManager:CreateParticle(&quot;particles/core_abilities/plague_swarm/plague_swarm_pit.vpcf&quot;, PATTACH_ABSORIGIN, self:GetParent())
    ParticleManager:SetParticleControl(self.particle, 0, self:GetParent():GetAbsOrigin())
    ParticleManager:SetParticleControl(self.particle, 1, Vector(self.radius,0,0))
    self.targetTeam = event.targetTeam
    self.targetType = event.targetType
    self.targetFlags = event.targetFlags
    self.damage = event.damage

    self.interval = event.interval
    self:StartIntervalThink(self.interval)

end</code></pre></div><div><p>83:&nbsp&nbsp<span class="show-code">modifier_plague_swarm_spawner:OnDestroy()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_plague_swarm_spawner:OnDestroy()
    if IsClient() then return end
    ParticleManager:DestroyParticle(self.particle, false)
end</code></pre></div><div><p>75:&nbsp&nbsp<span class="show-code">modifier_plague_swarm_spawner:OnIntervalThink()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_plague_swarm_spawner:OnIntervalThink()
    if IsClient() then return end

    local randLoc = self:GetParent():GetAbsOrigin() + RandomVector(RandomInt(0, self.radius))
    local newSwarm = Swarm(self:GetCaster(), self:GetParent(), self:GetAbility(), randLoc, self.targetTeam, self.targetType, self.targetFlags, self.damage)
    newSwarm:spawn()
end</code></pre></div><div><p>43:&nbsp&nbsp<span class="show-code">plague_swarm:CastOnPosition(loc)</span></p><pre class="code-syntax-block"><code class="lua">function plague_swarm:CastOnPosition(loc)
    local caster = self:GetCaster()

    local radius = self:GetSpecialValueFor(&quot;radius&quot;)
    local targetTeam = self:GetAbilityTargetTeam()
    local targetType = self:GetAbilityTargetType()
    local targetFlags = self:GetAbilityTargetFlags()
    local duration = self:GetSpecialValueFor(&quot;duration&quot;)
    local interval = self:GetSpecialValueFor(&quot;spawn_interval&quot;)
    local damage = self:GetSpecialValueFor(&quot;damage_per_swarm&quot;)

    local thinker = CreateModifierThinker(caster, self, &quot;modifier_plague_swarm_spawner&quot;, {Duration=duration, radius=radius, targetTeam=targetTeam, targetFlags=targetFlags, targetType=targetType, interval=interval, damage=damage}, loc, caster:GetTeamNumber(), false)
end</code></pre></div><div><p>16:&nbsp&nbsp<span class="show-code">plague_swarm:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function plague_swarm:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_POINT + DOTA_ABILITY_BEHAVIOR_AOE,
        Castrange = &quot;%range&quot;,
        Cooldown = &quot;%cooldown&quot;,
        Manacost    = &quot;%manacost&quot;,
        Aoeradius = &quot;%radius&quot;,
        Duration = &quot;%duration&quot;,
        Texture = &quot;leshrac_split_earth&quot;,
        Targettype = DOTA_UNIT_TARGET_BASIC + DOTA_UNIT_TARGET_HERO,
        Targetflags = DOTA_UNIT_TARGET_FLAG_NONE,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE,
        Damagetype = DAMAGE_TYPE_MAGICAL,
        Title = &quot;Plague Swarm&quot;,
        Description = &quot;Continously spawns swarms that search for nearby enemies and attack them. They despawn if no enemy is nearby.&quot;,
        Lore = &quot;Calling out everything that lurks in the dark&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>8:&nbsp&nbsp<span class="show-code">plague_swarm:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function plague_swarm:GetFunctions()
    local funcs = {
        &quot;OnSpellStart&quot;,
        &quot;CastOnPosition&quot;,
    }
    return funcs
end</code></pre></div><div><p>4:&nbsp&nbsp<span class="show-code">plague_swarm:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function plague_swarm:GetReferenceItem()
    return &quot;item_ability_core_uncommon_plague_swarm&quot;
end</code></pre></div><div><p>38:&nbsp&nbsp<span class="show-code">plague_swarm:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function plague_swarm:OnSpellStart()
    local loc = self:GetCursorPosition()
    self:CastOnPosition(loc)
end</code></pre></div><div><p>97:&nbsp&nbsp<span class="show-code">Swarm:__eq(sp)</span></p><pre class="code-syntax-block"><code class="lua">function Swarm:__eq(sp)
    return (self.id == sp.id)
end</code></pre></div><div><p>158:&nbsp&nbsp<span class="show-code">Swarm:isAlive()</span></p><pre class="code-syntax-block"><code class="lua">function Swarm:isAlive()
    return self.alive
end</code></pre></div><div><p>162:&nbsp&nbsp<span class="show-code">Swarm:Kill(noTarget)</span></p><pre class="code-syntax-block"><code class="lua">function Swarm:Kill(noTarget)
    self.ability:DealDamage(self.damage, self.caster, self.target, self.ability:GetAbilitySpecialDamageType())
    ParticleManager:DestroyParticle(self.particle, noTarget)
end</code></pre></div><div><p>101:&nbsp&nbsp<span class="show-code">Swarm:spawn()</span></p><pre class="code-syntax-block"><code class="lua">function Swarm:spawn()
    self.particle = ParticleManager:CreateParticle(&quot;particles/core_abilities/plague_swarm/plague_swarm_projectile_controller.vpcf&quot;, PATTACH_CUSTOMORIGIN, self.caster)
    ParticleManager:SetParticleControl(self.particle, 0, self.loc)
    ParticleManager:SetParticleControl(self.particle, 1, self.loc)
    self.timer = Timers:CreateTimer(function()
        local kill = self:tick()
        if not kill then
            return 0.01
        else
            return nil
        end
    end)
end</code></pre></div><div><p>115:&nbsp&nbsp<span class="show-code">Swarm:tick()</span></p><pre class="code-syntax-block"><code class="lua">function Swarm:tick()
    -- print(&quot;tick!&quot;, self.spawnTimer)
    self.spawnTimer = self.spawnTimer + 0.01
    if self.spawnTimer &lt; 1 then
        self.curLoc = self.curLoc + Vector(0,0,2)
        ParticleManager:SetParticleControl(self.particle, 1, self.curLoc)
    else
        if not self.target then
            local enemies = FindUnitsInRadius(self.caster:GetTeamNumber(), self.curLoc, nil, 500, self.targetTeam, self.targetType, self.targetFlags, FIND_CLOSEST, false)
            for _,enemy in pairs(enemies) do
                self.target = enemy
                break
            end
            if not self.target then
                self:Kill(true)
                return true
            end
        end
        local targetLoc = self.target:GetAbsOrigin() + Vector(0,0,100)
        local direction = (targetLoc - self.curLoc):Normalized()
        local speed = 600 * 0.01 * 3
        self.curLoc = self.curLoc + direction * speed
        ParticleManager:SetParticleControl(self.particle, 1, self.curLoc)

        local distance = (targetLoc - self.curLoc):Length2D()
        if distance &lt; 5 then
            self:Kill(false)
            return true
        end
    end
    if self.target then
        if not self.target:IsAlive() then
            self:Kill(true)
            return true
        end
    end
    if self.spawnTimer &gt; 6 then
        self:Kill(true)
        return true
    end
    return false
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-shake"><b>vscripts/cores/shake.lua</b></p><div><p>78:&nbsp&nbsp<span class="show-code">modifier_shake_damage_per_second:IsDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_shake_damage_per_second:IsDebuff()
    return true
end</code></pre></div><div><p>70:&nbsp&nbsp<span class="show-code">modifier_shake_damage_per_second:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_shake_damage_per_second:IsHidden()
    return false
end</code></pre></div><div><p>74:&nbsp&nbsp<span class="show-code">modifier_shake_damage_per_second:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_shake_damage_per_second:IsPurgable()
    return false
end</code></pre></div><div><p>82:&nbsp&nbsp<span class="show-code">modifier_shake_damage_per_second:OnCreated(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_shake_damage_per_second:OnCreated(event)
    if IsServer() then
        local ability = self:GetAbility()
        local damage = ability:GetSpecialValueFor(&quot;total_damage&quot;)
        local duration = event.Duration
        self.interval = 0.1
        self.damage = (damage / duration) * self.interval
        self:StartIntervalThink(self.interval)
    end
end</code></pre></div><div><p>93:&nbsp&nbsp<span class="show-code">modifier_shake_damage_per_second:OnIntervalThink()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_shake_damage_per_second:OnIntervalThink()
    if IsServer() then
        local ability = self:GetAbility()
        ability:DealDamage(self.damage, self:GetCaster(), self:GetParent(), ability:GetAbilitySpecialDamageType())
    end
end</code></pre></div><div><p>51:&nbsp&nbsp<span class="show-code">shake:CastOnPosition(loc)</span></p><pre class="code-syntax-block"><code class="lua">function shake:CastOnPosition(loc)
    local caster = self:GetCaster()

    local radius = self:GetSpecialValueFor(&quot;radius&quot;)
    local targetTeam = self:GetAbilityTargetTeam()
    local targetType = self:GetAbilityTargetType()
    local targetFlags = self:GetAbilityTargetFlags()
    local duration = self:GetSpecialValueFor(&quot;spawn_interval&quot;)

    self:PlayEffect(loc, radius)

    local enemies = FindUnitsInRadius(caster:GetTeamNumber(), loc, nil, radius, targetTeam, targetType, targetFlags, FIND_CLOSEST, false)
    for _,enemy in pairs(enemies) do
        enemy:AddNewModifier(caster, self, &quot;modifier_shake_damage_per_second&quot;, {Duration = duration})
    end
end</code></pre></div><div><p>17:&nbsp&nbsp<span class="show-code">shake:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function shake:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_POINT + DOTA_ABILITY_BEHAVIOR_AOE,
        Castrange = &quot;%range&quot;,
        Cooldown = &quot;%cooldown&quot;,
        Manacost    = &quot;%manacost&quot;,
        Aoeradius = &quot;%radius&quot;,
        Duration = &quot;%duration&quot;,
        Texture = &quot;leshrac_split_earth&quot;,
        Targettype = DOTA_UNIT_TARGET_BASIC + DOTA_UNIT_TARGET_HERO,
        Targetflags = DOTA_UNIT_TARGET_FLAG_NONE,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE,
        Damagetype = DAMAGE_TYPE_MAGICAL,
        Title = &quot;Shake&quot;,
        Description = &quot;Shakes the ground in an area to damage all enemies within over time.&quot;,
        Lore = &quot;Basic Lore :(&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>8:&nbsp&nbsp<span class="show-code">shake:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function shake:GetFunctions()
    local funcs = {
        &quot;PlayEffect&quot;,
        &quot;OnSpellStart&quot;,
        &quot;CastOnPosition&quot;,
    }
    return funcs
end</code></pre></div><div><p>4:&nbsp&nbsp<span class="show-code">shake:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function shake:GetReferenceItem()
    return &quot;item_ability_core_common_shake&quot;
end</code></pre></div><div><p>46:&nbsp&nbsp<span class="show-code">shake:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function shake:OnSpellStart()
    local loc = self:GetCursorPosition()
    self:CastOnPosition(loc)
end</code></pre></div><div><p>39:&nbsp&nbsp<span class="show-code">shake:PlayEffect(loc, optVal)</span></p><pre class="code-syntax-block"><code class="lua">function shake:PlayEffect(loc, optVal)
    local particle = ParticleManager:CreateParticle(&quot;particles/core_abilities/shake/shake.vpcf&quot;, PATTACH_CUSTOMORIGIN, self:GetCaster())
    ParticleManager:SetParticleControl(particle, 0, loc)
    ParticleManager:SetParticleControl(particle, 1, Vector(1, 1, optVal/500))
    ParticleManager:ReleaseParticleIndex(particle)
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-spark"><b>vscripts/cores/spark.lua</b></p><div><p>15:&nbsp&nbsp<span class="show-code">spark:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function spark:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_UNIT_TARGET,
        Castrange = &quot;%range&quot;,
        Cooldown = &quot;%cooldown&quot;,
        Manacost    = &quot;%manacost&quot;,
        Texture = &quot;zuus_lightning_bolt&quot;,
        Targettype = DOTA_UNIT_TARGET_BASIC + DOTA_UNIT_TARGET_HERO,
        Targetflags = DOTA_UNIT_TARGET_FLAG_NONE,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE,
        Damagetype = DAMAGE_TYPE_MAGICAL,
        Title = &quot;Spark&quot;,
        Description = &quot;Shocks a single enemy to deal damage.&quot;,
        Lore = &quot;Basic Lore :(&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>7:&nbsp&nbsp<span class="show-code">spark:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function spark:GetFunctions()
    local funcs = {
        &quot;PlayEffect&quot;,
        &quot;OnSpellStart&quot;,
    }
    return funcs
end</code></pre></div><div><p>3:&nbsp&nbsp<span class="show-code">spark:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function spark:GetReferenceItem()
    return &quot;item_ability_core_common_spark&quot;
end</code></pre></div><div><p>43:&nbsp&nbsp<span class="show-code">spark:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function spark:OnSpellStart()
    local caster = self:GetCaster()
    local target = self:GetCursorTarget()

    self:PlayEffect(caster, target)
    self:DealDamage(self:GetSpecialValueFor(&quot;damage&quot;), caster, target, self:GetAbilitySpecialDamageType())
end</code></pre></div><div><p>35:&nbsp&nbsp<span class="show-code">spark:PlayEffect(startUnit, endUnit, optVal)</span></p><pre class="code-syntax-block"><code class="lua">function spark:PlayEffect(startUnit, endUnit, optVal)
    local particleName = &quot;particles/core_abilities/spark/spark.vpcf&quot;
    local particle = ParticleManager:CreateParticle(particleName, PATTACH_ABSORIGIN_FOLLOW, startUnit)
    ParticleManager:SetParticleControlEnt(particle, 0, endUnit, PATTACH_POINT_FOLLOW, &quot;attach_hitloc&quot;, endUnit:GetAbsOrigin(), true)
    ParticleManager:SetParticleControlEnt(particle, 1, startUnit, PATTACH_POINT_FOLLOW, &quot;attach_attack1&quot;, startUnit:GetAbsOrigin(), true)
    ParticleManager:ReleaseParticleIndex(particle)
end</code></pre></div></div><div class="file-block"><p id="vscripts-cores-weakness"><b>vscripts/cores/weakness.lua</b></p><div><p>97:&nbsp&nbsp<span class="show-code">modifier_weakness_aura_debuff:DeclareFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_aura_debuff:DeclareFunctions()
    local funcs =  {
        MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE,
        MODIFIER_PROPERTY_DAMAGEOUTGOING_PERCENTAGE,
    }
    return funcs
end</code></pre></div><div><p>117:&nbsp&nbsp<span class="show-code">modifier_weakness_aura_debuff:GetModifierDamageOutgoing_Percentage()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_aura_debuff:GetModifierDamageOutgoing_Percentage()
    return self.outgoingPerc
end</code></pre></div><div><p>113:&nbsp&nbsp<span class="show-code">modifier_weakness_aura_debuff:GetModifierIncomingDamage_Percentage()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_aura_debuff:GetModifierIncomingDamage_Percentage()
    return self.incomingPerc
end</code></pre></div><div><p>93:&nbsp&nbsp<span class="show-code">modifier_weakness_aura_debuff:IsDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_aura_debuff:IsDebuff()
    return true
end</code></pre></div><div><p>85:&nbsp&nbsp<span class="show-code">modifier_weakness_aura_debuff:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_aura_debuff:IsHidden()
    return false
end</code></pre></div><div><p>89:&nbsp&nbsp<span class="show-code">modifier_weakness_aura_debuff:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_aura_debuff:IsPurgable()
    return false
end</code></pre></div><div><p>105:&nbsp&nbsp<span class="show-code">modifier_weakness_aura_debuff:OnCreated(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_aura_debuff:OnCreated(event)
    if IsServer() then
        local ability = self:GetAbility()
        self.incomingPerc = ability:GetSpecialValueFor(&quot;damage_amplificaton&quot;)
        self.outgoingPerc = ability:GetSpecialValueFor(&quot;damage_reduction&quot;)
    end
end</code></pre></div><div><p>67:&nbsp&nbsp<span class="show-code">modifier_weakness_passive_aura_emit:GetAuraRadius()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_passive_aura_emit:GetAuraRadius()
    return self:GetAbility():GetSpecialValueFor(&quot;radius&quot;)
end</code></pre></div><div><p>79:&nbsp&nbsp<span class="show-code">modifier_weakness_passive_aura_emit:GetAuraSearchFlags()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_passive_aura_emit:GetAuraSearchFlags()
    return self:GetAbility():GetAbilityTargetFlags()
end</code></pre></div><div><p>71:&nbsp&nbsp<span class="show-code">modifier_weakness_passive_aura_emit:GetAuraSearchTeam()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_passive_aura_emit:GetAuraSearchTeam()
    return self:GetAbility():GetAbilityTargetTeam()
end</code></pre></div><div><p>75:&nbsp&nbsp<span class="show-code">modifier_weakness_passive_aura_emit:GetAuraSearchType()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_passive_aura_emit:GetAuraSearchType()
    return self:GetAbility():GetAbilityTargetType()
end</code></pre></div><div><p>63:&nbsp&nbsp<span class="show-code">modifier_weakness_passive_aura_emit:GetModifierAura()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_passive_aura_emit:GetModifierAura()
    return &quot;modifier_weakness_aura_debuff&quot;
end</code></pre></div><div><p>59:&nbsp&nbsp<span class="show-code">modifier_weakness_passive_aura_emit:IsAura()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_passive_aura_emit:IsAura()
    return true
end</code></pre></div><div><p>43:&nbsp&nbsp<span class="show-code">modifier_weakness_passive_aura_emit:IsDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_passive_aura_emit:IsDebuff()
    return false
end</code></pre></div><div><p>55:&nbsp&nbsp<span class="show-code">modifier_weakness_passive_aura_emit:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_passive_aura_emit:IsHidden()
    return false
end</code></pre></div><div><p>47:&nbsp&nbsp<span class="show-code">modifier_weakness_passive_aura_emit:IsPassive()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_passive_aura_emit:IsPassive()
    return true
end</code></pre></div><div><p>51:&nbsp&nbsp<span class="show-code">modifier_weakness_passive_aura_emit:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_weakness_passive_aura_emit:IsPurgable()
    return false
end</code></pre></div><div><p>15:&nbsp&nbsp<span class="show-code">weakness:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function weakness:GetAbilityTable()
    local abilityTable = {
        Behavior = DOTA_ABILITY_BEHAVIOR_PASSIVE + DOTA_ABILITY_BEHAVIOR_AURA,
        Aoeradius = &quot;%radius&quot;,
        Duration = &quot;%duration&quot;,
        Texture = &quot;satyr_trickster_purge&quot;,
        Targettype = DOTA_UNIT_TARGET_BASIC + DOTA_UNIT_TARGET_HERO,
        Targetflags = DOTA_UNIT_TARGET_FLAG_NONE,
        Targetteam = DOTA_UNIT_TARGET_TEAM_ENEMY,
        Dispel = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE,
        Spellimmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE,
        Damagetype = DAMAGE_TYPE_NONE,
        Title = &quot;Weakness Aura&quot;,
        Description = &quot;Emits a dark aura that weakens enemies, reducing their damage dealt while amplifying their damage taken from any source.&quot;,
        Lore = &quot;Basic Lore :(&quot;,
    }
    return abilityTable
end</code></pre></div><div><p>8:&nbsp&nbsp<span class="show-code">weakness:GetFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function weakness:GetFunctions()
    local funcs = {
        &quot;GetPassives&quot;,
    }
    return funcs
end</code></pre></div><div><p>34:&nbsp&nbsp<span class="show-code">weakness:GetPassives()</span></p><pre class="code-syntax-block"><code class="lua">function weakness:GetPassives()
    local passives = {
        &quot;modifier_weakness_passive_aura_emit&quot;,
    }
    return passives
end</code></pre></div><div><p>4:&nbsp&nbsp<span class="show-code">weakness:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function weakness:GetReferenceItem()
    return &quot;item_ability_core_common_weakness&quot;
end</code></pre></div></div><div class="file-block"><p id="vscripts-heroic-abilities-cycle-of-power"><b>vscripts/heroic_abilities/cycle_of_power.lua</b></p><div><p>72:&nbsp&nbsp<span class="show-code">cycle_damage(keys)</span></p><pre class="code-syntax-block"><code class="lua">function cycle_damage(keys) --requires = caster target is_poison base_damage ad_pct ap_pct per_level self_hp_pct self_max_hp_pct self_mana_pct self_max_mana_pct target_hp_pct target_max_hp_pct target_mana_pct target_max_mana_pct
    local caster = keys.caster
    local target = keys.target
    local ability = keys.ability
    local attacker = caster
    local victim = target
    local damage = ability:GetLevelSpecialValueFor(&quot;damage_bonus&quot;, ability:GetLevel() - 1) + (ability:GetLevelSpecialValueFor(&quot;damage_bonus_per_level&quot;, ability:GetLevel() - 1) * caster:GetLevel())
    if caster:HasModifier(&quot;modifier_cycle_fire&quot;) then
        local damage = (damage + caster:GetModifierStackCount(&quot;modifier_fire_power&quot;, caster) * ability:GetLevelSpecialValueFor(&quot;damage_bonus_per_power&quot;, ability:GetLevel() - 1)) * (100 + caster:GetModifierStackCount(&quot;modifier_fire_power&quot;, caster) - target:GetModifierStackCount(&quot;modifier_fire_resistance&quot;, caster)) / 100
        local specialType = SPECIAL_DAMAGE_TYPE_FIRE
        local damageTable = {
            damage = damage,
            attacker = caster,
            victim = target,
            damage_type = DAMAGE_TYPE_PURE,
            ability = self,
        }
        
        Elements:ApplyDamage(damageTable, specialType)
    elseif caster:HasModifier(&quot;modifier_cycle_water&quot;) then
        local damage = (damage + caster:GetModifierStackCount(&quot;modifier_water_power&quot;, caster) * ability:GetLevelSpecialValueFor(&quot;damage_bonus_per_power&quot;, ability:GetLevel() - 1)) * (100 + caster:GetModifierStackCount(&quot;modifier_water_power&quot;, caster) - target:GetModifierStackCount(&quot;modifier_water_resistance&quot;, caster)) / 100
        local specialType = SPECIAL_DAMAGE_TYPE_WATER
        local damageTable = {
            damage = damage,
            attacker = caster,
            victim = target,
            damage_type = DAMAGE_TYPE_PURE,
            ability = self,
        }
        
        Elements:ApplyDamage(damageTable, specialType)
    elseif caster:HasModifier(&quot;modifier_cycle_earth&quot;) then
        local damage = (damage + caster:GetModifierStackCount(&quot;modifier_earth_power&quot;, caster) * ability:GetLevelSpecialValueFor(&quot;damage_bonus_per_power&quot;, ability:GetLevel() - 1)) * (100 + caster:GetModifierStackCount(&quot;modifier_earth_power&quot;, caster) - target:GetModifierStackCount(&quot;modifier_earth_resistance&quot;, caster)) / 100
        local specialType = SPECIAL_DAMAGE_TYPE_EARTH
        local damageTable = {
            damage = damage,
            attacker = caster,
            victim = target,
            damage_type = DAMAGE_TYPE_PURE,
            ability = self,
        }
        
        Elements:ApplyDamage(damageTable, specialType)
    elseif caster:HasModifier(&quot;modifier_cycle_storm&quot;) then
        local damage = (damage + caster:GetModifierStackCount(&quot;modifier_storm_power&quot;, caster) * ability:GetLevelSpecialValueFor(&quot;damage_bonus_per_power&quot;, ability:GetLevel() - 1)) * (100 + caster:GetModifierStackCount(&quot;modifier_storm_power&quot;, caster) - target:GetModifierStackCount(&quot;modifier_storm_resistance&quot;, caster)) / 100
        local specialType = SPECIAL_DAMAGE_TYPE_STORM
        local damageTable = {
            damage = damage,
            attacker = caster,
            victim = target,
            damage_type = DAMAGE_TYPE_PURE,
            ability = self,
        }
        Elements:ApplyDamage(damageTable, specialType)
    elseif caster:HasModifier(&quot;modifier_cycle_order&quot;) then
        local damage = (damage + caster:GetModifierStackCount(&quot;modifier_order_power&quot;, caster) * ability:GetLevelSpecialValueFor(&quot;damage_bonus_per_power&quot;, ability:GetLevel() - 1)) * (100 + caster:GetModifierStackCount(&quot;modifier_order_power&quot;, caster) - target:GetModifierStackCount(&quot;modifier_order_resistance&quot;, caster)) / 100
        local specialType = SPECIAL_DAMAGE_TYPE_ORDER
        local damageTable = {
            damage = damage,
            attacker = caster,
            victim = target,
            damage_type = DAMAGE_TYPE_PURE,
            ability = self,
        }
        Elements:ApplyDamage(damageTable, specialType)
    elseif caster:HasModifier(&quot;modifier_cycle_chaos&quot;) then
        local damage = (damage + caster:GetModifierStackCount(&quot;modifier_chaos_power&quot;, caster) * ability:GetLevelSpecialValueFor(&quot;damage_bonus_per_power&quot;, ability:GetLevel() - 1)) * (100 + caster:GetModifierStackCount(&quot;modifier_chaos_power&quot;, caster) - target:GetModifierStackCount(&quot;modifier_chaos_resistance&quot;, caster)) / 100
        local specialType = SPECIAL_DAMAGE_TYPE_CHAOS
        local damageTable = {
            damage = damage,
            attacker = caster,
            victim = target,
            damage_type = DAMAGE_TYPE_PURE,
            ability = self,
        }
        Elements:ApplyDamage(damageTable, specialType)
    end
end</code></pre></div><div><p>0:&nbsp&nbsp<span class="show-code">Leap( keys )</span></p><pre class="code-syntax-block"><code class="lua">function Leap( keys )
    local caster = keys.caster
    local ability = keys.ability
    local ability_level = ability:GetLevel() - 1    

    caster:Stop()
    ProjectileManager:ProjectileDodge(caster)

    -- Ability variables
    ability.leap_direction = caster:GetForwardVector()
    ability.leap_distance = ability:GetLevelSpecialValueFor(&quot;cast_range&quot;, ability_level)
    ability.leap_speed = 45
    ability.leap_traveled = 0
    ability.leap_z = 0
    for i=0, 15, 1 do 
        local current_ability = keys.caster:GetAbilityByIndex(i)
        if current_ability ~= nil and current_ability:GetCooldown(current_ability:GetLevel()-1) ~=  0 then
            local remaining_cooldown = current_ability:GetCooldownTimeRemaining()
            if remaining_cooldown ~=  0 and current_ability ~= ability  then
                current_ability:EndCooldown()
                local cooldown_new = remaining_cooldown * (100 - ability:GetLevelSpecialValueFor(&quot;active_cooldown_reduction&quot;, ability:GetLevel() - 1)) /100
                current_ability:StartCooldown(cooldown_new)
            end
        end
    end
    if caster:HasModifier(&quot;modifier_cycle_fire&quot;) then
        caster:RemoveModifierByName(&quot;modifier_cycle_fire&quot;)
        ability:ApplyDataDrivenModifier(caster, caster, &quot;modifier_cycle_water&quot;, {})
    elseif caster:HasModifier(&quot;modifier_cycle_water&quot;) then
        caster:RemoveModifierByName(&quot;modifier_cycle_water&quot;)
        ability:ApplyDataDrivenModifier(caster, caster, &quot;modifier_cycle_earth&quot;, {})
    elseif caster:HasModifier(&quot;modifier_cycle_earth&quot;) then
        caster:RemoveModifierByName(&quot;modifier_cycle_earth&quot;)
        ability:ApplyDataDrivenModifier(caster, caster, &quot;modifier_cycle_storm&quot;, {})
    elseif caster:HasModifier(&quot;modifier_cycle_storm&quot;) then
        caster:RemoveModifierByName(&quot;modifier_cycle_storm&quot;)
        ability:ApplyDataDrivenModifier(caster, caster, &quot;modifier_cycle_order&quot;, {})
    elseif caster:HasModifier(&quot;modifier_cycle_order&quot;) then
        caster:RemoveModifierByName(&quot;modifier_cycle_order&quot;)
        ability:ApplyDataDrivenModifier(caster, caster, &quot;modifier_cycle_chaos&quot;, {})
    elseif caster:HasModifier(&quot;modifier_cycle_chaos&quot;) then
        caster:RemoveModifierByName(&quot;modifier_cycle_chaos&quot;)
        ability:ApplyDataDrivenModifier(caster, caster, &quot;modifier_cycle_fire&quot;, {})
    end
end</code></pre></div><div><p>46:&nbsp&nbsp<span class="show-code">LeapHorizonal( keys )</span></p><pre class="code-syntax-block"><code class="lua">function LeapHorizonal( keys )
    local caster = keys.target
    local ability = keys.ability

    if ability.leap_traveled &lt; ability.leap_distance then
        caster:SetAbsOrigin(caster:GetAbsOrigin() + ability.leap_direction * ability.leap_speed)
        ability.leap_traveled = ability.leap_traveled + ability.leap_speed
    else
        caster:InterruptMotionControllers(true)
    end
end</code></pre></div><div><p>58:&nbsp&nbsp<span class="show-code">LeapVertical( keys )</span></p><pre class="code-syntax-block"><code class="lua">function LeapVertical( keys )
    local caster = keys.target
    local ability = keys.ability

    
    if ability.leap_traveled &lt; ability.leap_distance/2 then
        ability.leap_z = ability.leap_z + ability.leap_speed/2
        caster:SetAbsOrigin(GetGroundPosition(caster:GetAbsOrigin(), caster) + Vector(0,0,ability.leap_z))
    else
        ability.leap_z = ability.leap_z - ability.leap_speed/2
        caster:SetAbsOrigin(GetGroundPosition(caster:GetAbsOrigin(), caster) + Vector(0,0,ability.leap_z))
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-heroic-abilities-shaman-dragon-spirit"><b>vscripts/heroic_abilities/shaman_dragon_spirit.lua</b></p><div><p>44:&nbsp&nbsp<span class="show-code">dragon_attack(keys)</span></p><pre class="code-syntax-block"><code class="lua">function dragon_attack(keys)
    local ability = keys.ability
    local caster_owner = keys.caster:GetPlayerOwner() 
    local target = keys.target
    local nearby_allied_units = FindUnitsInRadius(keys.caster:GetTeam(), keys.caster:GetAbsOrigin(), nil, 10000,
        DOTA_UNIT_TARGET_TEAM_FRIENDLY, DOTA_UNIT_TARGET_HERO + DOTA_UNIT_TARGET_BASIC, DOTA_UNIT_TARGET_FLAG_INVULNERABLE, FIND_ANY_ORDER, false)
        
    for i, nearby_ally in ipairs(nearby_allied_units) do  
        if nearby_ally:HasModifier(&quot;modifier_shaman_spirit_guide_stats&quot;) then
            local target_owner = nearby_ally:GetPlayerOwner() 
            if caster_owner == target_owner then
                ability:ApplyDataDrivenModifier(keys.caster, nearby_ally, &quot;modifier_shaman_spirit_attack&quot;, {})
                nearby_ally:PerformAttack(target, true, true, true, false, true, false, true)
            end        
        end
    end    
end</code></pre></div><div><p>0:&nbsp&nbsp<span class="show-code">Kill( keys )</span></p><pre class="code-syntax-block"><code class="lua">function Kill( keys )
    local caster_owner = keys.caster:GetPlayerOwner() 
    local nearby_allied_units = FindUnitsInRadius(keys.caster:GetTeam(), keys.caster:GetAbsOrigin(), nil, 10000,
        DOTA_UNIT_TARGET_TEAM_FRIENDLY, DOTA_UNIT_TARGET_HERO + DOTA_UNIT_TARGET_BASIC, DOTA_UNIT_TARGET_FLAG_INVULNERABLE, FIND_ANY_ORDER, false)
        
    for i, nearby_ally in ipairs(nearby_allied_units) do 
        if nearby_ally:HasModifier(&quot;modifier_shaman_spirit_guide_stats&quot;) then
            print(&quot;Snake seems dead&quot;)
            local target_owner = nearby_ally:GetPlayerOwner() 

            if caster_owner == target_owner then
                nearby_ally:ForceKill(true)
            end        
        end
    end    
end</code></pre></div><div><p>17:&nbsp&nbsp<span class="show-code">move( keys )</span></p><pre class="code-syntax-block"><code class="lua">function move( keys )

    local fv = keys.caster:GetForwardVector()
    local origin = keys.caster:GetAbsOrigin()
    local distance = -30


    local position = origin + fv * distance

    local caster_owner = keys.caster:GetPlayerOwner() 
    local nearby_allied_units = FindUnitsInRadius(keys.caster:GetTeam(), keys.caster:GetAbsOrigin(), nil, 10000,
        DOTA_UNIT_TARGET_TEAM_FRIENDLY, DOTA_UNIT_TARGET_HERO + DOTA_UNIT_TARGET_BASIC, DOTA_UNIT_TARGET_FLAG_INVULNERABLE, FIND_ANY_ORDER, false)
        
    for i, nearby_ally in ipairs(nearby_allied_units) do  
        if nearby_ally:HasModifier(&quot;modifier_shaman_spirit_guide_stats&quot;) then
            local target_owner = nearby_ally:GetPlayerOwner() 
            if caster_owner == target_owner then

                local final_position = Vector(position.x, position.y, position.z + 70)
                nearby_ally:SetAbsOrigin(final_position)
                nearby_ally:SetForwardVector(fv)
            end        
        end
    end    
end</code></pre></div></div><div class="file-block"><p id="vscripts-libs-ability-aspect-manager"><b>vscripts/libs/ability_aspect_manager.lua</b></p><div><p>181:&nbsp&nbsp<span class="show-code">AbilityAspects:AddAbilitySpecialKeys(ability, specials)</span></p><pre class="code-syntax-block"><code class="lua">function AbilityAspects:AddAbilitySpecialKeys(ability, specials)
    local keys = 0
    for key in specials:gmatch(&quot;[%u_]+&quot;) do
        local value = DOTA_EXTRA_ENUMS[key]
        if value then
            keys = keys + value
        end
    end
    ability:SetAbilitySpecialKeys(keys)
end</code></pre></div><div><p>110:&nbsp&nbsp<span class="show-code">AbilityAspects:AddRune(ability, index, item)</span></p><pre class="code-syntax-block"><code class="lua">function AbilityAspects:AddRune(ability, index, item)
    local runeName = item:GetName()
    local curRunes = ability:GetCurrentRunes()
    if FindValueInTable(curRunes, runeName) then return false end

    local runeKVs = item:GetAbilityKeyValues()
    if runeKVs.KeyRequirements then
        local requirements = runeKVs.KeyRequirements
        if not ability:HasSpecialAbilityKey(DOTA_EXTRA_ENUMS[requirements]) then
            RuneBuilder:SetRuneDisabled(ability, index)
            return true
        else
            RuneBuilder:SetRuneDisabled(ability, index, &quot;enabled&quot;)
        end
    end

    curRunes[index] = runeName
    ability:SetCurrentRunes(curRunes)
    local runeShortName = runeKVs.RuneName
    assert(require(&quot;runes/&quot;..runeShortName..&quot;&quot;), &quot;No valid rune found for &quot;..runeShortName)
    local rune = _G[runeShortName]

    if rune[&quot;GetAdditionalFunctions&quot;] then
        local funcs = rune:GetAdditionalFunctions()
        for _,func in pairs(funcs) do
            GenericAbility:AddFunction(ability, func, rune[func], runeName)
        end
    end

    local specials = self:ExtractAbilitySpecials(runeKVs)
    for _,special in pairs(specials) do
        ability:AddSpecialRuneValue(special.name, special.text, special.val, runeShortName)
    end

    local function ModifyValuesConstant(self, addFunc)
        if addFunc then
            local addTable = addFunc(self)
            for key, val in pairs(addTable) do
                self:ModifyActualValue(key, val, &quot;Add&quot;)
            end
        end
    end
    local function ModifyValuesPercentage(self, multiplyFunc)
        if multiplyFunc then
            local multiplyTable = multiplyFunc(self)
            for key, val in pairs(multiplyTable) do
                self:ModifyActualValue(key, val, &quot;Multiply&quot;)
            end
        end
    end
    local addFunc = nil
    local multiplyFunc = nil
    if rune[&quot;ModifyValuesConstant&quot;] then addFunc = rune[&quot;ModifyValuesConstant&quot;] end
    if rune[&quot;ModifyValuesPercentage&quot;] then multiplyFunc = rune[&quot;ModifyValuesPercentage&quot;] end
    local modifyFuncConstant = function(self, ...) return ModifyValuesConstant(self, addFunc) end
    GenericAbility:AddFunction(ability, &quot;ModifyValuesConstant&quot;, modifyFuncConstant, runeName)
    local modifyFuncPercentage = function(self, ...) return ModifyValuesPercentage(self, multiplyFunc) end
    GenericAbility:AddFunction(ability, &quot;ModifyValuesPercentage&quot;, modifyFuncPercentage, runeName)

    local function ModifyValuesGlobal(self, globalFunc)
        if globalFunc then
            local val = globalFunc(self)
            self:ModifyActualValueGlobal(val)
        end
    end
    local globalFunc = nil
    if rune[&quot;ModifyValuesGlobal&quot;] then globalFunc = rune[&quot;ModifyValuesGlobal&quot;] end
    local modifyFuncGlobal = function(self, ...) return ModifyValuesGlobal(self, globalFunc) end
    GenericAbility:AddFunction(ability, &quot;ModifyValuesGlobal&quot;, modifyFuncGlobal, runeName)
end</code></pre></div><div><p>5:&nbsp&nbsp<span class="show-code">AbilityAspects:BuildCoreAbility(caster)</span></p><pre class="code-syntax-block"><code class="lua">function AbilityAspects:BuildCoreAbility(caster)

    local inv = self:GetInventory(caster, &quot;backpack&quot;)
    local cores = {}
    local runes = {}
    local runeTable = CustomNetTables:GetTableValue(&quot;rune_slots&quot;, tostring(caster:entindex()))
    for key,val in pairs(runeTable) do
        local coreIndex = -1
        if key == &quot;abilityQ&quot; then
            coreIndex = 0
        elseif key == &quot;abilityW&quot; then
            coreIndex = 1
        elseif key == &quot;abilityE&quot; then
            coreIndex = 2
        end
        if coreIndex &gt;= 0 and tonumber(val.core) &gt;= 0 then
            local core = EntIndexToHScript(tonumber(val.core))
            if core:GetName():find(&quot;item_ability_core&quot;) then
                cores[coreIndex] = core
            end
            local runeCount = GetTableLength(val.runes)
            if runeCount &gt; 0 then
                runes[coreIndex] = {}
                for k,v in pairs(val.runes) do
                    runes[coreIndex][k] = EntIndexToHScript(tonumber(v))
                end
            end
        end
    end

    for index = 0, 2 do
        local ability = GenericAbility:GetGenericAbilityByIndex(caster, index)
        GenericAbility:ResetAbility(caster, ability, index)
        -- ability:ReloadAbility()
    end
    for index, core in pairs(cores) do
        -- Filter uncomplete cores:
        if not core then
            print(&quot;No Core! Aborting...&quot;)
            return
        end
        local coreKVs = core:GetAbilityKeyValues()
        if not coreKVs.SpecialAbilityType then
            print(&quot;No Special Ability Type set! Aborting...&quot;)
            return
        end
        if not coreKVs.SpecialDamageType then
            print(&quot;No Special Damage Type set! Aborting...&quot;)
            return
        end
        if not coreKVs.SpecialSpellName then
            print(&quot;No Spell Name set! Aborting...&quot;)
            return
        end

        local ability = GenericAbility:GetGenericAbilityByIndex(caster, index)
        if not ability then return end

        local spellName = coreKVs.SpecialSpellName
        assert(require(&quot;cores/&quot;..spellName..&quot;&quot;), &quot;No valid spell found for &quot;..spellName)
        local spell = _G[spellName]
        local funcs = spell:GetFunctions()
        local abilityTable = spell:GetAbilityTable()
        abilityTable.Specialvalues = self:ExtractAbilitySpecials(coreKVs)

        local coreID = core:entindex()
        local netTable = CustomNetTables:GetTableValue(&quot;item_extras&quot;, tostring(coreID))
        if netTable then
            abilityTable.Specialdamagetype = netTable.specialDamageType
        else
            abilityTable.Specialdamagetype = DOTA_EXTRA_ENUMS[coreKVs.SpecialDamageType]
        end

        GenericAbility:LoadAbilityFromTable(ability, abilityTable)
        AbilityAspects:AddAbilitySpecialKeys(ability, coreKVs.SpecialAbilityType)

        GenericAbility:ClearCustomFunctions(ability)
        GenericAbility:AddFunction(ability, &quot;GetReferenceItem&quot;, spell[&quot;GetReferenceItem&quot;])
        for _,val in pairs(funcs) do
            GenericAbility:AddFunction(ability, val, spell[val])
        end

        ability:SetCurrentRunes({})
        ability:ClearAllSpecialRuneValues()
        -- ability:PrintAllSpecialRuneValues()
        local spellRunes = runes[index]
        local rejected = {}
        if spellRunes then
            for k,v in pairs(spellRunes) do
                local reject = self:AddRune(ability, k, v)
                if reject then
                    rejected[k] = v
                end
            end
        end
        ability:ReloadAbility()
        if GetTableLength(rejected) &gt; 0 then
            for k,v in pairs(rejected) do
                self:AddRune(ability, k, v)
            end
            ability:ReloadAbility()
        end
    end
end</code></pre></div><div><p>192:&nbsp&nbsp<span class="show-code">AbilityAspects:ExtractAbilitySpecials(KVTable)</span></p><pre class="code-syntax-block"><code class="lua">function AbilityAspects:ExtractAbilitySpecials(KVTable)
    local specials = {}
    if KVTable[&quot;AbilitySpecial&quot;] then
        for _,special in pairs(KVTable[&quot;AbilitySpecial&quot;]) do
            local tempTable = {}
            for key,val in pairs(special) do
                if key ~= &quot;var_type&quot; then
                    local value, grow = self:GetValueGrow(val)
                    tempTable.val = value
                    tempTable.grow = grow
                    local name, flags = self:GetAbilitySpecialFlags(key)
                    tempTable.name = name
                    tempTable.text = name:gsub(&quot;_&quot;, &quot; &quot;):upper()
                    if GetTableLength(flags) &gt; 0 then
                        tempTable.flags = flags
                    end
                end
            end
            table.insert(specials, tempTable)
        end
    end
    return specials
end</code></pre></div><div><p>216:&nbsp&nbsp<span class="show-code">AbilityAspects:GetAbilitySpecialFlags(text)</span></p><pre class="code-syntax-block"><code class="lua">function AbilityAspects:GetAbilitySpecialFlags(text)
    if not text:find(&quot;flag&quot;) then return text, {} end
    local flags = {}
    local name = &quot;&quot;
    repeat
        local index = text:find(&quot;flag&quot;)
        local tempText = text:sub(index):sub(6)
        if name == &quot;&quot; then
            name = text:sub(0, index - 2)
        end
        if not tempText:find(&quot;flag&quot;) then
            table.insert(flags, tempText:upper())
            text = &quot;&quot;
        else
            index = tempText:find(&quot;flag&quot;)
            table.insert(flags, tempText:sub(0, index - 2):upper())
            text = tempText:sub(index)
        end
        text = tempText
    until not text:find(&quot;flag&quot;)

    return name, flags
end</code></pre></div><div><p>268:&nbsp&nbsp<span class="show-code">AbilityAspects:GetInventory(unit, invType)</span></p><pre class="code-syntax-block"><code class="lua">function AbilityAspects:GetInventory(unit, invType)
    local invTable = {}
    local startIndex = 0
    local endIndex = 13
    if invType == &quot;basic&quot; then
        endIndex = 5
    elseif invType == &quot;stash&quot; then
        startIndex = 9
    elseif invType == &quot;backpack&quot; then
        startIndex = 6
        endIndex = 8
    elseif invType == &quot;combined&quot; then
        endIndex = 8
    end
    for i=startIndex, endIndex do
        local item = unit:GetItemInSlot(i)
        if item then
            table.insert(invTable, i, item)
        end
    end
    return invTable
end</code></pre></div><div><p>240:&nbsp&nbsp<span class="show-code">AbilityAspects:GetValueGrow(text)</span></p><pre class="code-syntax-block"><code class="lua">function AbilityAspects:GetValueGrow(text)
  if not text:find(&quot; &quot;) then return text, &quot;0&quot; end
  local index = text:find(&quot; &quot;)
  local tempText = text:sub(index + 1)
  if tempText:find(&quot;+&quot;) then
    tempText = tempText:sub(2)
  end
  return text:sub(0, index - 1), tempText
end</code></pre></div></div><div class="file-block"><p id="vscripts-libs-ability-item-manager"><b>vscripts/libs/ability_item_manager.lua</b></p><div><p>63:&nbsp&nbsp<span class="show-code">GetTableLength(table)</span></p><pre class="code-syntax-block"><code class="lua">function GetTableLength(table)
    local index = 0
    for _,k in pairs(table) do
        index = index + 1
    end
    return index
end</code></pre></div><div><p>27:&nbsp&nbsp<span class="show-code">ItemManager:CreateNewValuesForItem(item)</span></p><pre class="code-syntax-block"><code class="lua">function ItemManager:CreateNewValuesForItem(item)
    print(&quot;[IM] Creating new values for &quot;..item:GetName())
    local itemID = item:entindex()
    local itemName = item:GetName()

    local itemTable = {}

    if itemName:find(&quot;ability_core&quot;) then
        local itemKVs = item:GetAbilityKeyValues()
        local damageType = itemKVs.SpecialDamageType
        if damageType == &quot;SPECIAL_DAMAGE_TYPE_RANDOM&quot; then
            itemTable.specialDamageType = 2^RandomInt(0, 5)
        else
            itemTable.specialDamageType = DOTA_EXTRA_ENUMS[damageType]
        end
    end

    itemTable.rarity = self:ExtractRarity(itemName)
    
    CustomNetTables:SetTableValue(&quot;item_extras&quot;, tostring(itemID), itemTable)
end</code></pre></div><div><p>49:&nbsp&nbsp<span class="show-code">ItemManager:ExtractRarity(name)</span></p><pre class="code-syntax-block"><code class="lua">function ItemManager:ExtractRarity(name)
    local itemType = &quot;ability_rune&quot;
    if name:find(&quot;ability_core&quot;) then itemType = &quot;ability_core&quot; end
    local index = name:find(itemType) + (itemType):len() + 1
    local temp = name:sub(index)
    local endIndex = temp:find(&quot;_&quot;) - 1
    local rarity = temp:sub(0, endIndex)
    return rarity
end</code></pre></div><div><p>5:&nbsp&nbsp<span class="show-code">ItemManager:Init()</span></p><pre class="code-syntax-block"><code class="lua">function ItemManager:Init()
    print(&quot;[IM] Initializing Item Manager...&quot;)
    -- ListenToGameEvent(&#x27;item_purchased &#x27;, Dynamic_Wrap(self, &#x27;OnInventoryChange&#x27;), self)
    -- GameRules:GetGameModeEntity():SetItemAddedToInventoryFilter(Dynamic_Wrap(self, &quot;OnItemAddedToInventory&quot;), self)
end</code></pre></div><div><p>11:&nbsp&nbsp<span class="show-code">ItemManager:OnItemAddedToInventory(event)</span></p><pre class="code-syntax-block"><code class="lua">function ItemManager:OnItemAddedToInventory(event)
    print(&quot;[IM] Inventory Changed!&quot;)
    
    local itemID = event.item_entindex_const
    local item = EntIndexToHScript(itemID)
    local itemName = item:GetName()
    if not itemName:find(&quot;ability_core&quot;) and not itemName:find(&quot;ability_rune&quot;) then return true end
    
    local netTable = CustomNetTables:GetTableValue(&quot;item_extras&quot;, tostring(itemID))
    if not netTable then
        self:CreateNewValuesForItem(item)
    end

    return true
end</code></pre></div></div><div class="file-block"><p id="vscripts-libs-creep-manager"><b>vscripts/libs/creep_manager.lua</b></p><div><p>248:&nbsp&nbsp<span class="show-code">CreepManager:CalculateRarity(num)</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:CalculateRarity(num)
    local fCommon = function(x) return 1/250 * x*x - x + 70 end
    local fUncommon = function(x) return fCommon(x) - 1/250 * x*x + 2/5 * x + 20 end
    local fRare = function(x) return fUncommon(x) + 1/1000 * x*x + 3/20 * x + 10 end
    local fLegendary = function(x) return fRare(x) - 1/500 * x*x + 2/5 * x end
    local fMythical = function(x) return fLegendary(x) + 1/10 * x end
    local fDivine = function(x) return fMythical(x) + 1/1000 * x*x - 1/20 * x end

    local rand = RandomInt(1, 100)
    if rand &lt;= fCommon(num) then return &quot;common&quot; end
    if rand &lt;= fUncommon(num) then return &quot;uncommon&quot; end
    if rand &lt;= fRare(num) then return &quot;rare&quot; end
    if rand &lt;= fLegendary(num) then return &quot;legendary&quot; end
    if rand &lt;= fMythical(num) then return &quot;mythical&quot; end
    if rand &lt;= fDivine(num) then return &quot;divine&quot; end
    print(&quot;[CM] Loot rarity error!&quot;, rand, num)
    return &quot;common&quot;
end</code></pre></div><div><p>208:&nbsp&nbsp<span class="show-code">CreepManager:DamageFilter(event)</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:DamageFilter(event)
    if event.entindex_inflictor_const == nil then
        if event.entindex_attacker_const then
            attacker = EntIndexToHScript(event.entindex_attacker_const)
            if attacker:HasModifier(&quot;modifier_elemental_attack&quot;) then
                local modifier = attacker:FindModifierByName(&quot;modifier_elemental_attack&quot;)
                local ability = attacker:FindAbilityByName(&quot;neutral_elemental_attack_&quot;..GetElementName(modifier:GetDamageType()))
                if not ability then return true end
                damageTable = {
                    attacker = attacker,
                    victim = EntIndexToHScript(event.entindex_victim_const),
                    damage = event.damage,
                    ability = ability,
                    damage_flags = event.damage_flags,
                    damage_type = DAMAGE_TYPE_MAGICAL,
                }
                Elements:ApplyDamage(damageTable, modifier:GetDamageType())
                return false
            end
        end
    end
    return true
end</code></pre></div><div><p>232:&nbsp&nbsp<span class="show-code">CreepManager:DropLoot(unit)</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:DropLoot(unit)
    local name = unit:GetUnitName()
    local kvs = self.unitKVs[name]
    if kvs then
        for _,drop in pairs(kvs.drops) do
            local chance = drop.chance
            local rarity = drop.rarity
            local rand = RandomInt(1, 100)
            if rand &lt;= chance then
                local actualRarity = self:CalculateRarity(rarity)
                -- print(&quot;[CM] Drop, with rarity: &quot;, actualRarity, rarity, chance)
            end
        end
    end
end</code></pre></div><div><p>172:&nbsp&nbsp<span class="show-code">CreepManager:GetStage(points)</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:GetStage(points)
    if points &lt; 10000 then
        return 1
    end
    return 2
end</code></pre></div><div><p>20:&nbsp&nbsp<span class="show-code">CreepManager:Init()</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:Init()
    self.started = true
    print(&quot;[CM] Initializing CreepManager...&quot;)
    ListenToGameEvent(&#x27;npc_spawned &#x27;, Dynamic_Wrap(self, &#x27;OnNPCSpawned&#x27;), self)
    GameRules:GetGameModeEntity():SetThink( &quot;OnThink&quot;, self, 20)
    self.startTime = nil
    self.unitKVs = {}
    self:PreloadKVs()
end</code></pre></div><div><p>72:&nbsp&nbsp<span class="show-code">CreepManager:InitAreas()</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:InitAreas()
    for i=1,9 do
        local area = Entities:FindByName(nil, &quot;neutral_area_0&quot;..tostring(i))
        if not area then break end
        local areaSpawner = Entities:FindAllByName(&quot;neutral_area_0&quot;..tostring(i)..&quot;_spawner&quot;)
        self.areas[i] = {}
        self.areas[i].area = area
        self.areas[i].spawner = areaSpawner
        self.areas[i].state = AREA_STATE_NONE
        self.areas[i].evolution = 0

        area.linkedIndex = i
    end
end</code></pre></div><div><p>30:&nbsp&nbsp<span class="show-code">CreepManager:InitFilters()</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:InitFilters()
    local mode = GameRules:GetGameModeEntity()
    mode:SetDamageFilter(Dynamic_Wrap(self, &#x27;DamageFilter&#x27;), self)
    if not self.initAreas and IsServer() then
        -- print(&quot;Init Areas!&quot;)
        self.initAreas = true
        self.areas = {}
        self:InitAreas()
    end
end</code></pre></div><div><p>97:&nbsp&nbsp<span class="show-code">CreepManager:OnNPCSpawned(event)</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:OnNPCSpawned(event)
    -- print(&quot;[CM] Something spawned!!&quot;)
end</code></pre></div><div><p>101:&nbsp&nbsp<span class="show-code">CreepManager:OnThink(event)</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:OnThink(event)
    -- if GameRules:State_Get() == DOTA_GAMERULES_STATE_GAME_IN_PROGRESS then
        local time = GameRules:GetGameTime()
        if not self.startTime then self.startTime = time end
        local interval = 30
        if (time - self.startTime) % interval &lt; 1 then
            -- print(&quot;[CM] Spawn Neutrals!&quot;)
            self:SpawnAllCreeps()
        end
    -- elseif GameRules:State_Get() &gt;= DOTA_GAMERULES_STATE_POST_GAME then
    if GameRules:State_Get() &gt;= DOTA_GAMERULES_STATE_POST_GAME then
        return nil
    end
    if not self.startTime then return 0.1 end
    return 1
end</code></pre></div><div><p>41:&nbsp&nbsp<span class="show-code">CreepManager:PreloadKVs()</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:PreloadKVs()
    print(&quot;[CM] Loading unit KVs...&quot;)
    local path = &quot;scripts/npc/npc_units_custom.txt&quot;
    local kvs = LoadKeyValues(path)
    for name, unitData in pairs(kvs) do
        self.unitKVs[name] = {}
        self.unitKVs[name].drops = {}
        self.unitKVs[name].resistances = {SPECIAL_DAMAGE_TYPE_FIRE = 0, SPECIAL_DAMAGE_TYPE_WATER = 0, SPECIAL_DAMAGE_TYPE_EARTH = 0, SPECIAL_DAMAGE_TYPE_STORM = 0, SPECIAL_DAMAGE_TYPE_ORDER = 0, SPECIAL_DAMAGE_TYPE_CHAOS = 0}
        self.unitKVs[name].attackType = DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_NONE
        for key, vals in pairs(unitData) do
            if key == &quot;DropChances&quot; then
                self.unitKVs[name].drops = vals
            end
            if key == &quot;Resistances&quot; then
                self.unitKVs[name].resistances = vals
            end
            if key == &quot;AttackType&quot; then
                self.unitKVs[name].attackType = DOTA_EXTRA_ENUMS[vals]
            end
        end
    end
    self.areaKVs = {}
    local path = &quot;scripts/data/units/area_data.txt&quot;
    local kvs = LoadKeyValues(path)
    for name, areaData in pairs(kvs) do
        self.areaKVs[name] = {}
        self.areaKVs[name].name = areaData.DisplayName
        self.areaKVs[name].stages = areaData.Stages
    end
end</code></pre></div><div><p>118:&nbsp&nbsp<span class="show-code">CreepManager:SpawnAllCreeps()</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:SpawnAllCreeps()
    if not self.areas then return end
    for i, areaTable in pairs(self.areas) do
        self:SpawnCreeps(areaTable, &quot;kobolds&quot;)
    end
end</code></pre></div><div><p>125:&nbsp&nbsp<span class="show-code">CreepManager:SpawnCreeps(area, spawnType)</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:SpawnCreeps(area, spawnType)
    -- initial tests
    -- print(&quot;Spawn Creeps in area with the type&quot;, spawnType)
    if not area.count then area.count = 0 end
    if not area.units then area.units = {} end
    -- print(area.count)
    if area.count == 0 then
        area.state = AREA_STATE_EMPTY
    end

    if area.state == AREA_STATE_NORMAL then return end
    if not self.areaKVs[spawnType] then return end

    local stage = self:GetStage(area.evolution)
    local areaTable = self.areaKVs[spawnType].stages[tostring(stage)]
    local count = RandomInt(areaTable.MinCount, areaTable.MaxCount)
    local bossChance = RandomInt(1, 100)
    if bossChance &lt;= tonumber(areaTable.BossChance) then
        -- print(&quot;Spawn Boss!&quot;)
    end

    local unitTable = {}
    local curVal = 0
    for _,unitData in pairs(areaTable.Units) do
        local chance = tonumber(unitData.Chance)
        unitTable[chance + curVal] = unitData.Name
        curVal = curVal + chance
    end

    area.count = count

    local spawner = ShuffleTable(area.spawner)
    local spawnerCount = GetTableLength(spawner)
    while count &gt; 0 do
        local index = (count % spawnerCount) + 1
        count = count - 1
        local chance = RandomInt(1, 100)
        for unitChance,unitName in pairs(unitTable) do
            if chance &lt;= tonumber(unitChance) then
                self:SpawnNeutral(unitName, spawner[index], area)
                break
            end
        end
    end
    area.state = AREA_STATE_NORMAL
end</code></pre></div><div><p>179:&nbsp&nbsp<span class="show-code">CreepManager:SpawnNeutral(name, spawner, area)</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:SpawnNeutral(name, spawner, area)
    local newLoc = spawner:GetAbsOrigin() + RandomVector(RandomInt(1, 500))
    local unit = CreateUnitByName(name, newLoc, true, nil, nil, DOTA_TEAM_NEUTRALS)
    table.insert(area.units, unit)
    -- unit:AddNewModifier(spawner, nil, &quot;modifier_kill&quot;, {Duration = 60})
    unit:AddNewModifier(spawner, nil, &quot;modifier_custom_neutrals&quot;, {areaID = area.area:entindex()})

    local netTable = CustomNetTables:GetTableValue(&quot;neutrals&quot;, tostring(unit:entindex()))
    if not netTable then 
        netTable = {}
    end
    netTable.attackType = self.unitKVs[name].attackType
    CustomNetTables:SetTableValue(&quot;neutrals&quot;, tostring(unit:entindex()), netTable)
    ability = unit:AddAbility(&quot;neutral_elemental_attack_&quot;..GetElementName(self.unitKVs[name].attackType))
    ability:SetLevel(1)

    -- print(area.area:IsTouching(unit))
    -- self:TestUnitLocInArea(spawner:GetAbsOrigin(), unit, area.area)
end</code></pre></div><div><p>199:&nbsp&nbsp<span class="show-code">CreepManager:TestUnitLocInArea(origLoc, unit, area)</span></p><pre class="code-syntax-block"><code class="lua">function CreepManager:TestUnitLocInArea(origLoc, unit, area)
    if not area:IsTouching(unit) then
        local newLoc = origLoc + RandomVector(RandomInt(1, 500))
        unit:SetAbsOrigin(newLoc)
        self:TestUnitLocInArea(unit, area)
    end
    return
end</code></pre></div><div><p>87:&nbsp&nbsp<span class="show-code">EnterArea(trigger)</span></p><pre class="code-syntax-block"><code class="lua">function EnterArea(trigger)
    local area = trigger.caller
    local hero = trigger.activator
    -- print(hero:GetName())
end</code></pre></div><div><p>93:&nbsp&nbsp<span class="show-code">LeaveArea(trigger)</span></p><pre class="code-syntax-block"><code class="lua">function LeaveArea(trigger)
    -- print(&quot;Leave&quot;, trigger)
end</code></pre></div><div><p>276:&nbsp&nbsp<span class="show-code">modifier_custom_neutrals:CheckState()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_custom_neutrals:CheckState()
    if self:GetStackCount() &gt; 1 then
        local state = {
            [MODIFIER_STATE_BLIND] = true,
            [MODIFIER_STATE_DISARMED] = true,
        }
        return state
    end
    return {}
end</code></pre></div><div><p>269:&nbsp&nbsp<span class="show-code">modifier_custom_neutrals:DeclareFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_custom_neutrals:DeclareFunctions()
    local funcs =  {
        MODIFIER_EVENT_ON_DEATH,
    }
    return funcs
end</code></pre></div><div><p>287:&nbsp&nbsp<span class="show-code">modifier_custom_neutrals:OnCreated(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_custom_neutrals:OnCreated(event)
    if IsClient() then return end
    local area = EntIndexToHScript(event.areaID)
    self.areaTable = CreepManager.areas[area.linkedIndex]
    self.startLoc = self:GetParent():GetAbsOrigin()
    self.startTime = GameRules:GetGameTime()
    self.aggro = false
    self:StartIntervalThink(0.25)
end</code></pre></div><div><p>330:&nbsp&nbsp<span class="show-code">modifier_custom_neutrals:OnDeath(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_custom_neutrals:OnDeath(event)
    if IsClient() then return end
    if event.unit == self:GetParent() then
        local count
        self.areaTable.units = RemoveFromTable(self.areaTable.units, self:GetParent())
        self.areaTable.count = self.areaTable.count - 1
        CreepManager:DropLoot(self:GetParent())
    end
end</code></pre></div><div><p>297:&nbsp&nbsp<span class="show-code">modifier_custom_neutrals:OnIntervalThink()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_custom_neutrals:OnIntervalThink()
    local curLoc = self:GetParent():GetAbsOrigin()
    local distance = (curLoc - self.startLoc):Length2D()
    if distance &gt; 400 then
        if not self.aggro then
            print(&quot;Start aggro timer!&quot;)
            self.aggro = true
            self:StartIntervalThink(4)
            return
        else
            print(&quot;Order back to start loc&quot;)
            self.aggro = false
            self.ret = true
            self:SetStackCount(2)
            local newOrder = {
                UnitIndex = self:GetParent():entindex(), 
                OrderType = DOTA_UNIT_ORDER_TAUNT,
                Position = self.startLoc, --Optional.  Only used when targeting the ground
                Queue = 0 --Optional.  Used for queueing up abilities
            }
            ExecuteOrderFromTable(newOrder)
            return
        end
    elseif self.aggro then
        print(&quot;Resetting aggro timer, back in range&quot;)
        self.aggro = false
    end
    if distance &lt; 50 then
        self.ret = false
        self:SetStackCount(0)
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-libs-custom-damage-manager"><b>vscripts/libs/custom_damage_manager.lua</b></p></div><div class="file-block"><p id="vscripts-libs-element-manager"><b>vscripts/libs/element_manager.lua</b></p><div><p>5:&nbsp&nbsp<span class="show-code">Elements:ApplyDamage(damageTable, specialType)</span></p><pre class="code-syntax-block"><code class="lua">function Elements:ApplyDamage(damageTable, specialType)
    local reduction = 0
    local amplification = 0
    reduction = damageTable.victim:GetModifierStackCount(&quot;modifier_&quot;..GetElementName(specialType)..&quot;_resistance&quot; , self)
    amplification = damageTable.attacker:GetModifierStackCount(&quot;modifier_&quot;..GetElementName(specialType)..&quot;_power&quot;, self)    

    damageTable.damage = (amplification - reduction + 100 ) * damageTable.damage / 100
    if not damageTable.damage_flags then
        damageTable.damage_flags = DOTA_DAMAGE_FLAG_IGNORES_MAGIC_ARMOR
    else
        damageTable.damage_flags = damageTable.damage_flags + DOTA_DAMAGE_FLAG_IGNORES_MAGIC_ARMOR
    end
    ApplyDamage(damageTable)
    if specialType ~= DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_NONE then
        self:ShowDamageNumbers(damageTable.victim, damageTable.damage, specialType)
    end
end</code></pre></div><div><p>74:&nbsp&nbsp<span class="show-code">Elements:HealUnit(target, source, amount)</span></p><pre class="code-syntax-block"><code class="lua">function Elements:HealUnit(target, source, amount)
    local pfx = &quot;particles/msg_fx/msg_heal.vpcf&quot;
    local particle = ParticleManager:CreateParticle(pfx, PATTACH_ABSORIGIN_FOLLOW, source)

    amount = math.floor(amount)
    local color = Vector(0, 255, 0)
    local digits = 1
    local lifetime = 1.0
    if amount ~= nil then
        digits = #tostring(amount)
    end

    ParticleManager:SetParticleControl(particle, 1, Vector(10, tonumber(amount), 0))
    ParticleManager:SetParticleControl(particle, 2, Vector(lifetime, digits, 0))
    ParticleManager:SetParticleControl(particle, 3, color)
    ParticleManager:ReleaseParticleIndex(particle)

    source:Heal(amount, target)
end</code></pre></div><div><p>23:&nbsp&nbsp<span class="show-code">Elements:ShowDamageNumbers(target, number, specialType)</span></p><pre class="code-syntax-block"><code class="lua">function Elements:ShowDamageNumbers(target, number, specialType)
    local pfx = &quot;&quot;
    local color = Vector(0,0,0)
    if specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_STORM then
        pfx = &quot;storm&quot;
        color = Vector(255, 204, 0)
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_ORDER then
        pfx = &quot;order&quot;
        color = Vector(240, 230, 140)
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_CHAOS then
        pfx = &quot;chaos&quot;
        color = Vector(72, 61, 139)
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_EARTH then
        pfx = &quot;earth&quot;
        color = Vector(205, 133, 63)
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_FIRE then
        pfx = &quot;fire&quot;
        color = Vector(255, 89, 0)
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_WATER then
        pfx = &quot;water&quot;
        color = Vector(30, 144, 255)
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_DIVINE then
        pfx = &quot;divine&quot;
        color = Vector(221, 160, 221)
    end

    local pfxPath = string.format(&quot;particles/msg/msg_%s.vpcf&quot;, pfx)

    number = math.floor(number)
    local digits = 0
    local presymbol = 1
    local postsymbol = 9
    local lifetime = 1.0
    if number ~= nil then
        digits = #tostring(number)
    end
    if presymbol ~= nil then
        digits = digits + 1
    end
    if postsymbol ~= nil then
        digits = digits + 1
    end

    local particle = ParticleManager:CreateParticle(pfxPath, PATTACH_ABSORIGIN_FOLLOW, target)
    -- ParticleManager:SetParticleControl(particle, 0, target:GetAbsOrigin() + Vector(0,0,200))
    ParticleManager:SetParticleControl(particle, 1, Vector(tonumber(presymbol), tonumber(number), tonumber(postsymbol)))
    ParticleManager:SetParticleControl(particle, 2, Vector(lifetime, digits, 0))
    ParticleManager:SetParticleControl(particle, 3, color)
    ParticleManager:ReleaseParticleIndex(particle)
end</code></pre></div></div><div class="file-block"><p id="vscripts-libs-extra-enums"><b>vscripts/libs/extra_enums.lua</b></p></div><div class="file-block"><p id="vscripts-libs-filters"><b>vscripts/libs/filters.lua</b></p><div><p>68:&nbsp&nbsp<span class="show-code">CompareContext(t1,t2,ignore_mt)</span></p><pre class="code-syntax-block"><code class="lua">function CompareContext(t1,t2,ignore_mt)
    local ty1 = type(t1)
    local ty2 = type(t2)
    if ty1 ~= ty2 then return false end
    -- non-table types can be directly compared
    if ty1 ~= &#x27;table&#x27; and ty2 ~= &#x27;table&#x27; then return t1 == t2 end
    -- as well as tables which have the metamethod __eq
    local mt = getmetatable(t1)
    if not ignore_mt and mt and mt.__eq then return t1 == t2 end
    for k1,v1 in pairs(t1) do
        local v2 = t2[k1]
        if v2 == nil or not CompareContext(v1,v2) then return false end
    end
    for k2,v2 in pairs(t2) do
        local v1 = t1[k2]
        if v1 == nil or not CompareContext(v1,v2) then return false end
    end
    return true
end</code></pre></div></div><div class="file-block"><p id="vscripts-libs-generic-ability"><b>vscripts/libs/generic_ability.lua</b></p><div><p>931:&nbsp&nbsp<span class="show-code">FindAttribute(table, attrName, actual)</span></p><pre class="code-syntax-block"><code class="lua">function FindAttribute(table, attrName, actual)
    for key,obj in pairs(table) do
        if obj.Name:lower() == attrName:lower() then
            if actual then
                return obj.ActualVal, key
            else
                return obj.Val, key
            end
        end
    end
end</code></pre></div><div><p>634:&nbsp&nbsp<span class="show-code">generic_ability:AddAttribute(name, text, val, grow, flags)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AddAttribute(name, text, val, grow, flags)
    self:RemoveAttribute(name)
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end

    local level = self:GetCaster():GetLevel() - 1

    local newTable = {
        Name = name,
        Key = text,
        Val = val,
        ActualVal = val + grow * level,
        Grow = grow,
    }
    if flags then
        newTable.Flags = flags
    end

    table.insert(abilityTable.attributes, GetTableLength(abilityTable.attributes), newTable)
    self:SetAbilityTable(abilityTable)
end</code></pre></div><div><p>880:&nbsp&nbsp<span class="show-code">generic_ability:AddEventModifier()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AddEventModifier()
    local modifierName = &quot;modifier_base_events_&quot;..self:GetAbilityClassName()
    local caster = self:GetCaster()
    if caster:HasModifier(modifierName) then
        return
    end
    caster:AddNewModifier(caster, self, modifierName, nil)
end</code></pre></div><div><p>806:&nbsp&nbsp<span class="show-code">generic_ability:AddPassives(passives)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AddPassives(passives)
    local caster = self:GetCaster()
    for _,passive in pairs(passives) do
        if not caster:HasModifier(passive) then
            caster:AddNewModifier(caster, self, passive, nil)
        end
    end
end</code></pre></div><div><p>688:&nbsp&nbsp<span class="show-code">generic_ability:AddRuneAttribute(name, text, val, runeName)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AddRuneAttribute(name, text, val, runeName)
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    local runeTable = abilityTable.runeAttributes
    if not runeTable[runeName] then runeTable[runeName] = {} end

    local newTable = {
        Name = name,
        Key = text,
        Val = val
    }
    runeTable[runeName][tostring(GetTableLength(runeTable[runeName]))] = newTable

    self:SetAbilityTable(abilityTable)
end</code></pre></div><div><p>35:&nbsp&nbsp<span class="show-code">generic_ability:AddSpecialRuneValue(name, text, val, runeName)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AddSpecialRuneValue(name, text, val, runeName)
    self:AddRuneAttribute(name, text, val, runeName)
end</code></pre></div><div><p>19:&nbsp&nbsp<span class="show-code">generic_ability:AddSpecialValue(name, text, val, grow, flags)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AddSpecialValue(name, text, val, grow, flags)
    self:AddAttribute(name, text, val, grow, flags)
end</code></pre></div><div><p>912:&nbsp&nbsp<span class="show-code">generic_ability:AttackedEvent(event)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AttackedEvent(event)
    if not event.target == self:GetCaster() then return end
    if self[&quot;OnAttacked&quot;] then self:OnAttacked(event) end
end</code></pre></div><div><p>894:&nbsp&nbsp<span class="show-code">generic_ability:AttackEvent(event)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AttackEvent(event)
    if not event.attacker == self:GetCaster() then return end
    if self[&quot;OnAttack&quot;] then self:OnAttack(event) end
end</code></pre></div><div><p>899:&nbsp&nbsp<span class="show-code">generic_ability:AttackLandedEvent(event)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AttackLandedEvent(event)
    if not event.attacker == self:GetCaster() then return end
    if self[&quot;OnAttackLanded&quot;] then self:OnAttackLanded(event) end
end</code></pre></div><div><p>889:&nbsp&nbsp<span class="show-code">generic_ability:AttackStartEvent(event)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:AttackStartEvent(event)
    if not event.attacker == self:GetCaster() then return end
    if self[&quot;OnAttackStart&quot;] then self:OnAttackStart(event) end
end</code></pre></div><div><p>431:&nbsp&nbsp<span class="show-code">generic_ability:CalculateActualValues()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:CalculateActualValues()
    if not IsServer() then return end
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end

    local actualTable = {}
    for key, val in pairs(abilityTable) do
        if type(val) ~= &quot;table&quot; then
            actualTable[key] = val
        end
    end
    local level = self:GetCaster():GetLevel() - 1
    for _,attr in pairs(abilityTable.attributes) do
        attr.ActualVal = attr.Val + attr.Grow * level
    end
    abilityTable.actualValues = actualTable
    self:SetAbilityTable(abilityTable)

    if self[&quot;ModifyValuesConstant&quot;] then self:ModifyValuesConstant() end
    if self[&quot;ModifyValuesPercentage&quot;] then self:ModifyValuesPercentage() end
    if self[&quot;ModifyValuesGlobal&quot;] then self:ModifyValuesGlobal() end
end</code></pre></div><div><p>772:&nbsp&nbsp<span class="show-code">generic_ability:CastFilterResultTarget(hTarget)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:CastFilterResultTarget(hTarget)
    local caster = self:GetCaster()
    local targetType = self:GetAbilityTargetType()
    local targetTeam = self:GetAbilityTargetTeam()
    local targetFlags = self:GetAbilityTargetFlags()
    local spellImmunity = self:GetAbilitySpellImmunityType()

    if not DOTA_EXTRA_ENUMS then
        require(&#x27;libs/extra_enums&#x27;)
    end

    --manipulate the flags according to the set spell immunity
    if bit.band(spellImmunity, DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_ALLIES_NO) ~= 0 then
        targetFlags = targetFlags + DOTA_UNIT_TARGET_FLAG_NOT_MAGIC_IMMUNE_ALLIES
    end
    if bit.band(spellImmunity, DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_ENEMIES_YES) ~= 0 then
        targetFlags = targetFlags + DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES
    end

    local team = caster:GetTeamNumber()
    local filter = UnitFilter(hTarget, targetTeam, targetType, targetFlags, team)

    return filter
end</code></pre></div><div><p>43:&nbsp&nbsp<span class="show-code">generic_ability:ClearAllSpecialRuneValues(runeName)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ClearAllSpecialRuneValues(runeName)
    self:ClearRuneAttributes(runeName)
end</code></pre></div><div><p>27:&nbsp&nbsp<span class="show-code">generic_ability:ClearAllSpecialValues()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ClearAllSpecialValues()
    self:ClearAttributes()
end</code></pre></div><div><p>672:&nbsp&nbsp<span class="show-code">generic_ability:ClearAttributes()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ClearAttributes()
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    abilityTable.attributes = {}
    self:SetAbilityTable(abilityTable)
end</code></pre></div><div><p>731:&nbsp&nbsp<span class="show-code">generic_ability:ClearRuneAttributes(runeName)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ClearRuneAttributes(runeName)
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    if not runeName then
        abilityTable.runeAttributes = {}
    else
        if not abilityTable.runeAttributes then
            return
        end
        abilityTable.runeAttributes[runeName] = {}
    end
    self:SetAbilityTable(abilityTable)
end</code></pre></div><div><p>251:&nbsp&nbsp<span class="show-code">generic_ability:DealDamage(damage, attacker, victim, specialDamageType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:DealDamage(damage, attacker, victim, specialDamageType)

    --modify the damage
    local eventData = {
        victim = victim,
        specialDamageType = specialDamageType,
    }
    if self[&quot;OnDealDamageCustom&quot;] then
        for _,func in pairs(self.funcs[&quot;OnDealDamageCustom&quot;]) do
            eventData.damage = damage
            local tempDamage = func(self, eventData)
            if tempDamage then
                damage = tempDamage
            end
        end
    end
    
    local damageTable = {
        damage = damage,
        attacker = attacker,
        victim = victim,
        damage_type = DAMAGE_TYPE_PURE,
        ability = self,
    }
    Elements:ApplyDamage(damageTable, specialDamageType)
end</code></pre></div><div><p>917:&nbsp&nbsp<span class="show-code">generic_ability:DeathEvent(event)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:DeathEvent(event)
    if not event.attacker == self:GetCaster() then return end
    if event.inflictor then
        if event.inflictor:GetName() == self:GetAbilityClassName() then
            if self[&quot;OnKilled&quot;] then self:OnKilled(event) end
        end
    end
    if self[&quot;OnDeath&quot;] then self:OnDeath(event) end
end</code></pre></div><div><p>287:&nbsp&nbsp<span class="show-code">generic_ability:DoLinearProjectile(startLoc, direction, speed, distance, width, visionRadius, extraData)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:DoLinearProjectile(startLoc, direction, speed, distance, width, visionRadius, extraData)
    local caster = self:GetCaster()
    if not visionRadius then visionRadius = 0 end

    if not extraData then extraData = {} end
    extraData.startX = startLoc.x
    extraData.startY = startLoc.y
    extraData.startZ = startLoc.z
    extraData.directionX = direction.x
    extraData.directionY = direction.y
    extraData.directionZ = direction.z
    extraData.speed = speed
    extraData.distance = distance
    extraData.width = width
    extraData.visionRadius = visionRadius

    local info = 
    {
        Ability = self,
        EffectName = self:GetProjectileParticle(),
        vSpawnOrigin = startLoc,
        fDistance = distance,
        fStartRadius = width,
        fEndRadius = width,
        Source = caster,
        bHasFrontalCone = (extraData.hasFrontalCone == true),
        bReplaceExisting = (extraData.replaceExisting == true),
        iUnitTargetTeam = self:GetAbilityTargetTeam(),
        iUnitTargetFlags = self:GetAbilityTargetFlags(),
        iUnitTargetType = self:GetAbilityTargetType(),
        fExpireTime = GameRules:GetGameTime() + 10.0,
        bDeleteOnHit = (extraData.deleteOnHit == true),
        vVelocity = direction * speed,
        bProvidesVision = (visionRadius &gt; 0),
        iVisionRadius = visionRadius,
        iVisionTeamNumber = caster:GetTeamNumber(),
        ExtraData = extraData,
    }
    local projectile = ProjectileManager:CreateLinearProjectile(info)
end</code></pre></div><div><p>328:&nbsp&nbsp<span class="show-code">generic_ability:DoTrackingProjectile(startLoc, startUnit, endUnit, speed, visionRadius, extraData)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:DoTrackingProjectile(startLoc, startUnit, endUnit, speed, visionRadius, extraData)
    local caster = self:GetCaster()
    if not visionRadius then visionRadius = 0 end

    if not extraData then extraData = {} end
    extraData.startX = startLoc.x
    extraData.startY = startLoc.y
    extraData.startZ = startLoc.z
    extraData.speed = speed
    extraData.targetID = endUnit:entindex()
    extraData.sourceID = startUnit:entindex()
    extraData.visionRadius = visionRadius

    local info = {
        Source = startUnit,
        Target = endUnit,
        Ability = self,    
        EffectName = self:GetProjectileParticle(),
        iMoveSpeed = speed,
        vSourceLoc= startLoc,
        bDrawsOnMinimap = false,
        bDodgeable = (extraData.dodgeable == true),
        bIsAttack = (extraData.isAttack == true),
        bVisibleToEnemies = (extraData.visibleToEnemies == true),
        bReplaceExisting = (extraData.replaceExisting == true),
        bProvidesVision = (visionRadius &gt; 0),
        iVisionRadius = visionRadius,
        iVisionTeamNumber = caster:GetTeamNumber(),
        ExtraData = extraData,
    }    
    
    local projectile = ProjectileManager:CreateTrackingProjectile(info)
end</code></pre></div><div><p>150:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityDamageType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityDamageType()
    return self:GetNumberValue(&quot;damageType&quot;)
end</code></pre></div><div><p>182:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityDescription()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityDescription()
    return self:GetStringValue(&quot;description&quot;)
end</code></pre></div><div><p>174:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityDispelType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityDispelType()
    return self:GetNumberValue(&quot;dispelType&quot;)
end</code></pre></div><div><p>101:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityDuration()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityDuration()
    return self:GetNumberValue(&quot;duration&quot;)
end</code></pre></div><div><p>190:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityLore()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityLore()
    return self:GetStringValue(&quot;lore&quot;)
end</code></pre></div><div><p>158:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilitySpecialDamageType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilitySpecialDamageType()
    return self:GetNumberValue(&quot;specialDamageType&quot;)
end</code></pre></div><div><p>215:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilitySpecialKeys()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilitySpecialKeys()
    return self:GetNumberValue(&quot;specialkeys&quot;)
end</code></pre></div><div><p>166:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilitySpellImmunityType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilitySpellImmunityType()
    return self:GetNumberValue(&quot;spellImmunity&quot;)
end</code></pre></div><div><p>752:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityTable()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityTable()
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return end
    local abilityIndex = netTable.nameLookup[self:GetAbilityClassName()]
    if not abilityIndex then return end
    local abilityTable = netTable.abilities[tostring(abilityIndex)]
    if not abilityTable then return end
    return abilityTable
end</code></pre></div><div><p>134:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityTargetFlags()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityTargetFlags()
    return self:GetNumberValue(&quot;targetFlags&quot;)
end</code></pre></div><div><p>142:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityTargetTeam()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityTargetTeam()
    return self:GetNumberValue(&quot;targetTeam&quot;)
end</code></pre></div><div><p>126:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityTargetType()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityTargetType()
    return self:GetNumberValue(&quot;targetType&quot;)
end</code></pre></div><div><p>109:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityTextureName()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityTextureName()
    return self:GetStringValue(&quot;texture&quot;)
end</code></pre></div><div><p>198:&nbsp&nbsp<span class="show-code">generic_ability:GetAbilityTitle()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAbilityTitle()
    return self:GetStringValue(&quot;title&quot;)
end</code></pre></div><div><p>93:&nbsp&nbsp<span class="show-code">generic_ability:GetAOERadius()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAOERadius()
    return self:GetNumberValue(&quot;aoeRadius&quot;)
end</code></pre></div><div><p>619:&nbsp&nbsp<span class="show-code">generic_ability:GetAttribute(name, level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetAttribute(name, level)
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    local attributeTable = abilityTable.attributes
    local curVal = FindAttribute(attributeTable, name, true)
    if type(curVal) == &quot;string&quot; then
        local values = {}
        for value in curVal:gmatch(&quot;[%w%.]+&quot;) do table.insert(values, value) end
        if values[level] then
            curVal = values[level]
        end
    end
    return curVal
end</code></pre></div><div><p>47:&nbsp&nbsp<span class="show-code">generic_ability:GetBehavior()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetBehavior()
    local val
    if IsClient() then
        -- val = self:LimitFunctionCall(function(self, valType) return self:GetNumberValue(valType) end, 200, &quot;behavior&quot;, &quot;behavior&quot;)
        val = self:GetNumberValue(&quot;behavior&quot;)
    else
        val = self:GetNumberValue(&quot;behavior&quot;)
    end
    return val
end</code></pre></div><div><p>117:&nbsp&nbsp<span class="show-code">generic_ability:GetCastPoint()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetCastPoint()
    return self:GetNumberValue(&quot;castPoint&quot;)
end</code></pre></div><div><p>62:&nbsp&nbsp<span class="show-code">generic_ability:GetCastRange(vLocation, hTarget)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetCastRange(vLocation, hTarget)
    return self:GetNumberValue(&quot;castRange&quot;)
end</code></pre></div><div><p>70:&nbsp&nbsp<span class="show-code">generic_ability:GetCooldown(level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetCooldown(level)
    return self:GetNumberValue(&quot;cooldown&quot;)
end</code></pre></div><div><p>206:&nbsp&nbsp<span class="show-code">generic_ability:GetCurrentRunes()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetCurrentRunes()
    return self.runes
end</code></pre></div><div><p>15:&nbsp&nbsp<span class="show-code">generic_ability:GetLevelSpecialValueFor(name, level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetLevelSpecialValueFor(name, level)
    return tonumber(self:GetAttribute(name, level))
end</code></pre></div><div><p>78:&nbsp&nbsp<span class="show-code">generic_ability:GetManaCost(level)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetManaCost(level)
    local val
    if IsClient() then
        -- val = self:LimitFunctionCall(function(self, valType) return self:GetNumberValue(valType) end, 50, &quot;manaCost&quot;, &quot;manaCost&quot;)
        val = self:GetNumberValue(&quot;manaCost&quot;)
    else
        val = self:GetNumberValue(&quot;manaCost&quot;)
    end
    return val
end</code></pre></div><div><p>583:&nbsp&nbsp<span class="show-code">generic_ability:GetNumberValue(valType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetNumberValue(valType)
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    local curVal = abilityTable[valType]
    -- if abilityTable.actualValues then
    --     if abilityTable.actualValues[valType] then
    --         curVal = abilityTable.actualValues[valType]
    --     end
    -- end
    curVal = self:ReplaceRelativeString(curVal)
    -- print(curVal)
    if type(curVal) == &quot;string&quot; then
        local values = {}
        for value in curVal:gmatch(&quot;[%w%.]+&quot;) do table.insert(values, value) end
        if values[self:GetLevel()] then
            curVal = values[self:GetLevel()]
        end
    end
    self.valType = curVal
    return tonumber(curVal)
end</code></pre></div><div><p>679:&nbsp&nbsp<span class="show-code">generic_ability:GetRuneAttribute(name, runeName)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetRuneAttribute(name, runeName)
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    local runeTable = abilityTable.runeAttributes
    if not runeTable[runeName] then return 0 end
    local attribute = FindAttribute(runeTable[runeName], name)
    return attribute
end</code></pre></div><div><p>31:&nbsp&nbsp<span class="show-code">generic_ability:GetSpecialRuneValueFor(name, runeName)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetSpecialRuneValueFor(name, runeName)
    return tonumber(self:GetRuneAttribute(name, runeName))
end</code></pre></div><div><p>11:&nbsp&nbsp<span class="show-code">generic_ability:GetSpecialValueFor(name)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetSpecialValueFor(name)
    return tonumber(self:GetAttribute(name, self:GetLevel()))
end</code></pre></div><div><p>605:&nbsp&nbsp<span class="show-code">generic_ability:GetStringValue(valType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:GetStringValue(valType)
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    return abilityTable[valType]
end</code></pre></div><div><p>223:&nbsp&nbsp<span class="show-code">generic_ability:HasSpecialAbilityKey(key)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:HasSpecialAbilityKey(key)
    if bit.band(self:GetAbilitySpecialKeys(), key) ~= 0 then
        return true
    end
    return false
end</code></pre></div><div><p>278:&nbsp&nbsp<span class="show-code">generic_ability:HealUnit(target, source, amount)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:HealUnit(target, source, amount)
    Elements:HealUnit(target, source, amount)
end</code></pre></div><div><p>3:&nbsp&nbsp<span class="show-code">generic_ability:IsInnate()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:IsInnate()
    return true
end</code></pre></div><div><p>416:&nbsp&nbsp<span class="show-code">generic_ability:LimitFunctionCall(func, cycle, save, ...)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:LimitFunctionCall(func, cycle, save, ...)
    if not self[save] then
        self[save] = {}
        self[save].tick = 0
    end
    self[save].tick = self[save].tick + 1
    if self[save].tick % cycle == 0 or self[save].val == nil then
        local ret = func(self, select(1, ...))
        self[save].val = ret
        self[save].tick = 0
        return ret
    end
    return self[save].val
end</code></pre></div><div><p>455:&nbsp&nbsp<span class="show-code">generic_ability:ModifyActualValue(name, value, valType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ModifyActualValue(name, value, valType)

    -- print(&quot;Modifying Actual Value!&quot;, valType, name, value)

    local function Combine(val1, val2)
        if valType == &quot;Add&quot; then
            return val1 + val2
        elseif valType == &quot;Multiply&quot; then
            return val1 * val2
        end
        return val1
    end

    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end

    local nameTable = {}
    --Test for specific keywords
    if name == &quot;DMG&quot; then
        for _,attr in pairs(abilityTable.attributes) do
            if attr.Flags then
                for _,flag in pairs(attr.Flags) do
                    if flag == &quot;DMG&quot; then
                        table.insert(nameTable, attr.Name)
                    end
                end
            end
        end
    elseif name == &quot;DUR&quot; then
        for _,attr in pairs(abilityTable.attributes) do
            if attr.Flags then
                for _,flag in pairs(attr.Flags) do
                    if flag == &quot;DUR&quot; then
                        table.insert(nameTable, attr.Name)
                    end
                end
            end
        end
    else
        table.insert(nameTable, name)
    end

    for _,attrName in pairs(nameTable) do
        local tableValues = {}
        local attrValue, attrIndex = FindAttribute(abilityTable.attributes, attrName, true)
        -- print(&quot;Relative: &quot;, attrValue, attrIndex, attrName)
        if attrIndex then
            for val in tostring(attrValue):gmatch(&quot;[%w%.]+&quot;) do table.insert(tableValues, val) end
        end

        local newValueString = &quot;&quot;
        for _,val in pairs(tableValues) do
            if tonumber(val) then
                newValueString = newValueString..tostring(Combine(tonumber(val), tonumber(value)))..&quot; &quot;
            end
        end

        if newValueString ~= &quot;&quot; then
            newValueString = newValueString:sub(1, -2)
            if attrIndex then
                abilityTable.attributes[attrIndex][&quot;ActualVal&quot;] = newValueString
            end
        end
    end

    abilityTable.actualValues = actualTable
    self:SetAbilityTable(abilityTable)
end</code></pre></div><div><p>524:&nbsp&nbsp<span class="show-code">generic_ability:ModifyActualValueGlobal(value)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ModifyActualValueGlobal(value)

    print(&quot;Modifying Actual Values globally!&quot;, value)

    local function Combine(val1, val2, inv)
        if inv then return val1 / val2 end
        return val1 * val2
    end

    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end

    local nameTable = {}
    --Test for specific keywords
    for _,attr in pairs(abilityTable.attributes) do
        if attr.Flags then
            local nonFlag = false
            local invFlag = false
            for _,flag in pairs(attr.Flags) do
                if flag == &quot;NON&quot; then
                    nonFlag = true
                elseif flag == &quot;INV&quot; then
                    invFlag = true
                end
            end
            if not nonFlag then
                table.insert(nameTable, {name = attr.Name, inverse = invFlag})
            end
        else
            table.insert(nameTable, {name = attr.Name, inverse = false})
        end
    end

    for _,attr in pairs(nameTable) do
        local tableValues = {}
        local attrValue, attrIndex = FindAttribute(abilityTable.attributes, attr.name, true)
        -- print(&quot;Relative: &quot;, attrValue, attrIndex, attr.name)
        if attrIndex then
            for val in tostring(attrValue):gmatch(&quot;[%w%.]+&quot;) do table.insert(tableValues, val) end
        end

        local newValueString = &quot;&quot;
        for _,val in pairs(tableValues) do
            if tonumber(val) then
                newValueString = newValueString..tostring(Combine(tonumber(val), tonumber(value), attr.inverse))..&quot; &quot;
            end
        end

        if newValueString ~= &quot;&quot; then
            newValueString = newValueString:sub(1, -2)
            if attrIndex then
                abilityTable.attributes[attrIndex][&quot;ActualVal&quot;] = newValueString
            end
        end
    end

    self:SetAbilityTable(abilityTable)
end</code></pre></div><div><p>282:&nbsp&nbsp<span class="show-code">generic_ability:ModifyElementalStat(statType, change)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ModifyElementalStat(statType, change)
    local caster = self:GetCaster()
    HeroStats:ModifyElementalStat(caster, statType, change)
end</code></pre></div><div><p>802:&nbsp&nbsp<span class="show-code">generic_ability:OnHeroLevelUp()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:OnHeroLevelUp()
    self:ReloadAbility()
end</code></pre></div><div><p>836:&nbsp&nbsp<span class="show-code">generic_ability:OnProjectileHit(hTarget, vLocation)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:OnProjectileHit(hTarget, vLocation)
    if hTarget then
        if self[&quot;OnProjectileHitUnit&quot;] then return self:OnProjectileHitUnit(hTarget) end
    else
        if self[&quot;OnProjectileFinish&quot;] then return self:OnProjectileFinish(vLocation) end
    end
    return false
end</code></pre></div><div><p>847:&nbsp&nbsp<span class="show-code">generic_ability:OnProjectileHit_ExtraData(hTarget, vLocation, extraData)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:OnProjectileHit_ExtraData(hTarget, vLocation, extraData)
    if extraData then
        if extraData.startX and extraData.startY and extraData.startZ then
            local start = Vector(extraData.startX, extraData.startY, extraData.startZ)
            extraData.startX = nil
            extraData.startY = nil
            extraData.startZ = nil
            extraData.start = start
        end
        if extraData.directionX and extraData.directionY and extraData.directionZ then
            local direction = Vector(extraData.directionX, extraData.directionY, extraData.directionZ)
            extraData.directionX = nil
            extraData.directionY = nil
            extraData.directionZ = nil
            extraData.direction = direction
        end
        if extraData.targetID then
            extraData.target = EntIndexToHScript(extraData.targetID)
            extraData.targetID = nil
        end
        if extraData.sourceID then
            extraData.source = EntIndexToHScript(extraData.sourceID)
            extraData.sourceID = nil
        end
    end
    if hTarget then
        if self[&quot;OnProjectileHitUnitExtra&quot;] then return self:OnProjectileHitUnitExtra(hTarget, extraData) end
    else
        if self[&quot;OnProjectileHitFinishExtra&quot;] then return self:OnProjectileHitFinishExtra(vLocation, extraData) end
    end
    return false
end</code></pre></div><div><p>797:&nbsp&nbsp<span class="show-code">generic_ability:OnUpgrade()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:OnUpgrade()
    self:ReloadAbility()
    self:AddEventModifier()
end</code></pre></div><div><p>721:&nbsp&nbsp<span class="show-code">generic_ability:PrintAllSpecialRuneValues()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:PrintAllSpecialRuneValues()
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    local runeTable = abilityTable.runeAttributes

    print(&quot;\n&lt;--- Print Rune Special Values ---&gt;\n&quot;)
    PrintTable(runeTable)
    print(&quot;\n&lt;--- End ---&gt;&quot;)
end</code></pre></div><div><p>230:&nbsp&nbsp<span class="show-code">generic_ability:ReloadAbility()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ReloadAbility()
    local caster = self:GetCaster()

    if self[&quot;GetPassives&quot;] then
        local passives = self:GetPassives()
        if type(passives) == &quot;table&quot; then
            if self:GetLevel() &gt; 0 then
                self:AddPassives(passives)
            end
        end
    end

    self:CalculateActualValues()
    self:UpdateCastPoint()
    self:UpdateAbilitySpecialKeys()
end</code></pre></div><div><p>656:&nbsp&nbsp<span class="show-code">generic_ability:RemoveAttribute(name)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:RemoveAttribute(name)
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    local attributeTable = abilityTable.attributes
    local function removeAttribute(table, attrName)
        for _,obj in pairs(table) do
            if obj.Name:lower() == attrName:lower() then
                obj = nil
            end
        end
        return table
    end
    abilityTable.attributes = removeAttribute(attributeTable, name)
    self:SetAbilityTable(abilityTable)
end</code></pre></div><div><p>704:&nbsp&nbsp<span class="show-code">generic_ability:RemoveRuneAttribute(name, runeName)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:RemoveRuneAttribute(name, runeName)
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    local runeTable = abilityTable.runeAttributes
    if not runeTable[runeName] then return 0 end
    local function removeAttribute(table, attrName)
        for _,obj in pairs(table) do
            if obj.Name:lower() == attrName:lower() then
                obj = nil
            end
        end
        return table
    end
    abilityTable.runeAttributes = removeAttribute(runeTable[runeName], name)
    self:SetAbilityTable(abilityTable)
end</code></pre></div><div><p>39:&nbsp&nbsp<span class="show-code">generic_ability:RemoveSpecialRuneValue(name, runeName)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:RemoveSpecialRuneValue(name, runeName)
    self:RemoveRuneAttribute(name, runeName)
end</code></pre></div><div><p>23:&nbsp&nbsp<span class="show-code">generic_ability:RemoveSpecialValue(name)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:RemoveSpecialValue(name)
    self:RemoveAttribute(name)
end</code></pre></div><div><p>402:&nbsp&nbsp<span class="show-code">generic_ability:ReplaceRelativeString(str)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:ReplaceRelativeString(str)
    str = tostring(str)
    local newString = str:match(&quot;%%(%a*)&quot;)
    if newString then
        local caster = self:GetCaster()
        local abilityTable = self:GetAbilityTable()
        if not abilityTable then return &quot;&quot; end
        newString = FindAttribute(abilityTable.attributes, newString, true)
    else
        return str
    end
    return newString
end</code></pre></div><div><p>154:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityDamageType(damageType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityDamageType(damageType)
    self:SetValues(&quot;damageType&quot;, damageType)
end</code></pre></div><div><p>186:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityDescription(description)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityDescription(description)
    self:SetValues(&quot;description&quot;, description)
end</code></pre></div><div><p>178:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityDispelType(dispelType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityDispelType(dispelType)
    self:SetValues(&quot;dispelType&quot;, dispelType)
end</code></pre></div><div><p>105:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityDuration(duration)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityDuration(duration)
    self:SetValues(&quot;duration&quot;, duration)
end</code></pre></div><div><p>194:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityLore(lore)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityLore(lore)
    self:SetValues(&quot;lore&quot;, lore)
end</code></pre></div><div><p>162:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilitySpecialDamageType(specialDamageType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilitySpecialDamageType(specialDamageType)
    self:SetValues(&quot;specialDamageType&quot;, specialDamageType)
end</code></pre></div><div><p>219:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilitySpecialKeys(specialkeys)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilitySpecialKeys(specialkeys)
    self:SetValues(&quot;specialkeys&quot;, specialkeys)
end</code></pre></div><div><p>170:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilitySpellImmunityType(spellImmunity)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilitySpellImmunityType(spellImmunity)
    self:SetValues(&quot;spellImmunity&quot;, spellImmunity)
end</code></pre></div><div><p>763:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityTable(abilityTable)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityTable(abilityTable)
    local caster = self:GetCaster()
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()))
    if not netTable then return end
    local abilityIndex = netTable.nameLookup[self:GetAbilityClassName()]
    netTable.abilities[tostring(abilityIndex)] = abilityTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(caster:entindex()), netTable)
end</code></pre></div><div><p>138:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityTargetFlags(targetFlags)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityTargetFlags(targetFlags)
    self:SetValues(&quot;targetFlags&quot;, targetFlags)
end</code></pre></div><div><p>146:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityTargetTeam(targetTeam)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityTargetTeam(targetTeam)
    self:SetValues(&quot;targetTeam&quot;, targetTeam)
end</code></pre></div><div><p>130:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityTargetType(targetType)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityTargetType(targetType)
    self:SetValues(&quot;targetType&quot;, targetType)
end</code></pre></div><div><p>113:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityTextureName(texture)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityTextureName(texture)
    self:SetValues(&quot;texture&quot;, texture)
end</code></pre></div><div><p>202:&nbsp&nbsp<span class="show-code">generic_ability:SetAbilityTitle(title)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAbilityTitle(title)
    self:SetValues(&quot;title&quot;, title)
end</code></pre></div><div><p>97:&nbsp&nbsp<span class="show-code">generic_ability:SetAOERadius(aoeRadius)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetAOERadius(aoeRadius)
    self:SetValues(&quot;aoeRadius&quot;, aoeRadius)
end</code></pre></div><div><p>58:&nbsp&nbsp<span class="show-code">generic_ability:SetBehavior(behavior)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetBehavior(behavior)
    self:SetValues(&quot;behavior&quot;, behavior)
end</code></pre></div><div><p>121:&nbsp&nbsp<span class="show-code">generic_ability:SetCastPoint(castPoint)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetCastPoint(castPoint)
    self:SetValues(&quot;castPoint&quot;, castPoint)
    self:UpdateCastPoint()
end</code></pre></div><div><p>66:&nbsp&nbsp<span class="show-code">generic_ability:SetCastRange(castRange)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetCastRange(castRange)
    self:SetValues(&quot;castRange&quot;, castRange)
end</code></pre></div><div><p>74:&nbsp&nbsp<span class="show-code">generic_ability:SetCooldown(cooldown)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetCooldown(cooldown)
    self:SetValues(&quot;cooldown&quot;, cooldown)
end</code></pre></div><div><p>210:&nbsp&nbsp<span class="show-code">generic_ability:SetCurrentRunes(curRunes)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetCurrentRunes(curRunes)
    self.runes = curRunes
    self:SetCurrentRunesInTable()
end</code></pre></div><div><p>745:&nbsp&nbsp<span class="show-code">generic_ability:SetCurrentRunesInTable()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetCurrentRunesInTable()
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    abilityTable.runes = self.runes
    self:SetAbilityTable(abilityTable)
end</code></pre></div><div><p>89:&nbsp&nbsp<span class="show-code">generic_ability:SetManaCost(manaCost)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetManaCost(manaCost)
    self:SetValues(&quot;manaCost&quot;, manaCost)
end</code></pre></div><div><p>611:&nbsp&nbsp<span class="show-code">generic_ability:SetValues(valType, val)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SetValues(valType, val)
    local abilityTable = self:GetAbilityTable()
    if not abilityTable then return 0 end
    -- abilityTable[valType] = self:ReplaceRelativeString(val)
    abilityTable[valType] = val
    self:SetAbilityTable(abilityTable)
end</code></pre></div><div><p>362:&nbsp&nbsp<span class="show-code">generic_ability:SummonUnit(name, location, modifiers)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:SummonUnit(name, location, modifiers)
    local caster = self:GetCaster()
    local unit = CreateUnitByName(name, location, true, caster, caster, caster:GetTeam())
    -- unit:SetAbsOrigin(location)
    unit:SetControllableByPlayer(caster:GetPlayerID(), true)
    unit:SetOwner(caster)

    if self[&quot;GetSummonModifiers&quot;] then
        modifiers = CombineTables(modifiers, self:GetSummonModifiers())
    end

    if modifiers then
        for _,modifier in pairs(modifiers) do
            local modifierTable = {}
            if not modifier.duration then modifier.duration = 0 end
            if not modifier.extra then modifier.extra = {} end
            if modifier.duration &gt; 0 then
                modifierTable.Duration = modifier.duration
            end
            if GetTableLength(modifier.extra) &gt; 0 then
                modifierTable = CombineTables(modifierTable, modifier.extra)
            end
            unit:AddNewModifier(caster, self, modifier.name, modifierTable)
        end
    end
end</code></pre></div><div><p>904:&nbsp&nbsp<span class="show-code">generic_ability:TakeDamageEvent(event)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:TakeDamageEvent(event)
    if event.unit == self:GetCaster() then
        if self[&quot;OnTakeDamage&quot;] then self:OnTakeDamage(event) end
    elseif event.attacker == self:GetCaster() then
        if self[&quot;OnDealDamage&quot;] then self:OnDealDamage(event) end
    end
end</code></pre></div><div><p>820:&nbsp&nbsp<span class="show-code">generic_ability:UpdateAbilitySpecialKeys()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:UpdateAbilitySpecialKeys()
    local keys = self:GetAbilitySpecialKeys()
    if not self[&quot;GetAdditionalAbilityKeys&quot;] then return end
    local newKeys = self:GetAdditionalAbilityKeys()
    for _,key in pairs(newKeys) do
        if bit.band(keys, key) == 0 then
            keys = keys + key
        end
    end
    self:SetAbilitySpecialKeys(keys)
end</code></pre></div><div><p>815:&nbsp&nbsp<span class="show-code">generic_ability:UpdateCastPoint()</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:UpdateCastPoint()
    local castPoint = self:GetCastPoint()
    self:SetOverrideCastPoint(castPoint)
end</code></pre></div><div><p>393:&nbsp&nbsp<span class="show-code">generic_ability:UpdateModifier(name)</span></p><pre class="code-syntax-block"><code class="lua">function generic_ability:UpdateModifier(name)
    local caster = self:GetCaster()
    local modifierName = &quot;modifier_&quot;..name:lower()..&quot;_&quot;..self:GetAbilityClassName()
    local modifier = caster:AddNewModifier(caster, self, modifierName, nil)
    if self:GetNumberValue(name) then
        modifier:SetStackCount(self:GetNumberValue(name))
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-libs-generic-ability-manager"><b>vscripts/libs/generic_ability_manager.lua</b></p><div><p>187:&nbsp&nbsp<span class="show-code">GenericAbility:AddFunction(ability, funcName, func, itemName)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:AddFunction(ability, funcName, func, itemName)
    -- print(&quot;Adding the function &quot;..ability:GetAbilityName()..&quot;:&quot;..funcName..&quot;() for &quot;)
    if not ability.funcs then
        ability.funcs = {}
    end
    if funcName == &quot;GetReferenceItem&quot; then
        ability[funcName] = func
        return
    end
    if not ability[funcName] or not ability.funcs[funcName] then
        ability.funcs[funcName] = {}

        local function ExecuteFunctions(self, funcName, ...)
            -- print(&quot;Exec &quot;..funcName..&quot;()...&quot;)
            local finalRet
            for _,func in pairs(self.funcs[funcName]) do
                local ret = func(self, select(1, ...))

                -- check the return value
                if ret ~= nil then
                    --combine results to table, if one of them is a table
                    if type(ret) == &quot;table&quot; then
                        if type(finalRet) ~= &quot;table&quot; then
                            if finalRet then 
                                finalRet = {finalRet}
                            else
                                finalRet = {}
                            end
                        end
                        CombineTables(finalRet, ret)
                    else
                        finalRet = ret
                    end
                end

            end
            return finalRet
        end
        ability[funcName] = function(self, ...) return ExecuteFunctions(self, funcName, ...) end
    end
    if not itemName then
        itemName = ability:GetReferenceItem()
    end
    ability.funcs[funcName][itemName] = func
    -- table.insert(ability.funcs[funcName], func)
end</code></pre></div><div><p>234:&nbsp&nbsp<span class="show-code">GenericAbility:AddFunctionOverwrite(ability, funcName, func)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:AddFunctionOverwrite(ability, funcName, func)
    -- print(&quot;Adding the function &quot;..ability:GetAbilityName()..&quot;:&quot;..funcName..&quot;() &lt;- OVERWRITE&quot;)
    if not ability.funcs then
        ability.funcs = {}
    end
    ability[funcName] = nil
    ability.funcs[funcName] = nil
    self:AddFunction(ability, funcName, func)
end</code></pre></div><div><p>274:&nbsp&nbsp<span class="show-code">GenericAbility:AddNewGenericAbility(unit, index, args)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:AddNewGenericAbility(unit, index, args)
    unit:AddAbility(&quot;generic_ability_q&quot;)
end</code></pre></div><div><p>264:&nbsp&nbsp<span class="show-code">GenericAbility:ClearCustomFunctions(ability)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:ClearCustomFunctions(ability)
    -- print(&quot;Reset Custom Functions!&quot;)
    if ability.funcs then
        for key,_ in pairs(ability.funcs) do
            ability[key] = nil
        end
        ability.funcs = nil
    end
end</code></pre></div><div><p>162:&nbsp&nbsp<span class="show-code">GenericAbility:GetAllGenericAbilites(unit)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:GetAllGenericAbilites(unit)
    local abilityTable = {}
    for i=0, 8 do
        local ability = unit:GetAbilityByIndex(i)
        if ability then
            local abilityName = ability:GetAbilityName()
            if abilityName:find(&quot;generic_ability&quot;) then
                table.insert(abilityTable, ability)
            end
        end
    end
    return abilityTable
end</code></pre></div><div><p>176:&nbsp&nbsp<span class="show-code">GenericAbility:GetGenericAbilityByIndex(unit, index)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:GetGenericAbilityByIndex(unit, index)
    local ability = unit:GetAbilityByIndex(index)
    if ability then
        local abilityName = ability:GetAbilityName()
        if not abilityName:find(&quot;generic_ability&quot;) then
            return nil
        end
    end
    return ability
end</code></pre></div><div><p>278:&nbsp&nbsp<span class="show-code">GenericAbility:GetStringLocalization(token)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:GetStringLocalization(token)

end</code></pre></div><div><p>5:&nbsp&nbsp<span class="show-code">GenericAbility:Init()</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:Init()
    self.started = true
    print(&quot;[GA] Initializing General Ability Manager...&quot;)
end</code></pre></div><div><p>10:&nbsp&nbsp<span class="show-code">GenericAbility:InitHero(hero)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:InitHero(hero)
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(hero:entindex()))
    if not netTable then
        netTable = {}
    else
        return
    end
    print(&quot;[GA] Initializing for hero &quot;..hero:GetUnitName())
    if not netTable.nameLookup then
        netTable.nameLookup = {}
    end
    local nameTable = netTable.nameLookup
    if not netTable.abilities then
        netTable.abilities = {}
    end

    for i=0, 8 do
        local ability = hero:GetAbilityByIndex(i)
        if ability then
            local abilityName = ability:GetAbilityName()
            if abilityName:find(&quot;generic_ability&quot;) then
                ability.name = abilityName
                netTable.nameLookup[abilityName] = i

                local abilityTable = {}
                abilityTable.behavior = DOTA_ABILITY_BEHAVIOR_PASSIVE
                abilityTable.castRange = &quot;0&quot;
                abilityTable.cooldown = &quot;0&quot;
                abilityTable.manaCost = &quot;0&quot;
                abilityTable.aoeRadius = &quot;0&quot;
                abilityTable.duration = &quot;0&quot;
                abilityTable.castPoint = &quot;0.3&quot;

                abilityTable.name = abilityName
                abilityTable.title = &quot;Variable Ability&quot;
                abilityTable.description = &quot;&quot;
                abilityTable.lore = &quot;&quot;
                abilityTable.texture = &quot;rubick_empty1&quot;
                abilityTable.targetType = DOTA_UNIT_TARGET_NONE
                abilityTable.targetTeam = DOTA_UNIT_TARGET_TEAM_NONE
                abilityTable.targetFlags = DOTA_UNIT_TARGET_FLAG_NONE
                abilityTable.damageType = DAMAGE_TYPE_NONE
                abilityTable.specialDamageType = DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_NONE
                abilityTable.dispelType = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE
                abilityTable.spellImmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE
                abilityTable.attributes = {}

                netTable.abilities[i] = abilityTable
                ability:ReloadAbility()
            end
        end
    end

    netTable.nameLookup = nameTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(hero:entindex()), netTable)
    print(&quot;[GA] Initialized Hero!&quot;)

    Timers:CreateTimer({
        useGameTime = false,
        endTime = 5,
        callback = function()
            local playerID = hero:GetPlayerID()
            local player = PlayerResource:GetPlayer(playerID)
            CustomGameEventManager:Send_ServerToPlayer(player, &quot;init_tooltips&quot;, {})
        end
    })
end</code></pre></div><div><p>127:&nbsp&nbsp<span class="show-code">GenericAbility:LoadAbilityFromTable(ability, abilityTable)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:LoadAbilityFromTable(ability, abilityTable)
    if abilityTable.Specialvalues then
        ability:ClearAllSpecialValues()
        for _,val in pairs(abilityTable.Specialvalues) do
            if not val.name then
                print(&quot;Wrong specialvalues format!&quot;)
            elseif not val.text then
                print(&quot;Wrong specialvalues format!&quot;)
            elseif not val.val then
                print(&quot;Wrong specialvalues format!&quot;)
            else
                ability:AddSpecialValue(val.name, val.text, val.val, val.grow, val.flags)
            end
        end
    end
    if abilityTable.Behavior then ability:SetBehavior(abilityTable.Behavior) end
    if abilityTable.Castrange then ability:SetCastRange(abilityTable.Castrange) end
    if abilityTable.Cooldown then ability:SetCooldown(abilityTable.Cooldown) end
    if abilityTable.Manacost then ability:SetManaCost(abilityTable.Manacost) end
    if abilityTable.Aoeradius then ability:SetAOERadius(abilityTable.Aoeradius) end
    if abilityTable.Duration then ability:SetAbilityDuration(abilityTable.Duration) end
    if abilityTable.Castpoint then ability:SetCastPoint(abilityTable.Castpoint) end
    if abilityTable.Texture then ability:SetAbilityTextureName(abilityTable.Texture) end
    if abilityTable.Targettype then ability:SetAbilityTargetType(abilityTable.Targettype) end
    if abilityTable.Targetflags then ability:SetAbilityTargetFlags(abilityTable.Targetflags) end
    if abilityTable.Targetteam then ability:SetAbilityTargetTeam(abilityTable.Targetteam) end
    if abilityTable.Damagetype then ability:SetAbilityDamageType(abilityTable.Damagetype) end
    if abilityTable.Specialdamagetype then ability:SetAbilitySpecialDamageType(abilityTable.Specialdamagetype) end
    if abilityTable.Spellimmunity then ability:SetAbilitySpellImmunityType(abilityTable.Spellimmunity) end
    if abilityTable.Dispel then ability:SetAbilityDispelType(abilityTable.Dispel) end
    if abilityTable.Title then ability:SetAbilityTitle(abilityTable.Title) end
    if abilityTable.Description then ability:SetAbilityDescription(abilityTable.Description) end
    if abilityTable.Lore then ability:SetAbilityLore(abilityTable.Lore) end
end</code></pre></div><div><p>115:&nbsp&nbsp<span class="show-code">GenericAbility:RemoveAllPassives(hero, ability)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:RemoveAllPassives(hero, ability)
    local modifiers = hero:FindAllModifiers()
    for _,modifier in pairs(modifiers) do
        -- if modifier:GetAbility() == ability then
        local name = modifier:GetName()
        if name:find(&quot;passive&quot;) then
            hero:RemoveModifierByName(name)
        end
        -- end
    end
end</code></pre></div><div><p>244:&nbsp&nbsp<span class="show-code">GenericAbility:RemoveFunction(ability, funcName, itemName)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:RemoveFunction(ability, funcName, itemName)
    if not ability.funcs then
        return
    end
    if not ability.funcs[funcName] then
        return
    end
    if not itemName then
        itemName = ability:GetReferenceItem()
    end
    for key, val in pairs(ability.funcs[funcName]) do
        print(&quot;[GA] &quot;..key..&quot;, &quot;..itemName)
        if key == itemName then
            ability.funcs[funcName][key] = nil
            print(&quot;[GA] Return!&quot;)
            return
        end
    end
end</code></pre></div><div><p>78:&nbsp&nbsp<span class="show-code">GenericAbility:ResetAbility(hero, ability, index)</span></p><pre class="code-syntax-block"><code class="lua">function GenericAbility:ResetAbility(hero, ability, index)
    -- print(&quot;Reset...&quot;..tostring(index))
    local netTable = CustomNetTables:GetTableValue(&quot;generic_ability&quot;, tostring(hero:entindex()))
    local abilityName = ability:GetAbilityName()

    self:RemoveAllPassives(hero, ability)

    local abilityTable = {}
    abilityTable.behavior = DOTA_ABILITY_BEHAVIOR_PASSIVE
    abilityTable.castRange = &quot;0&quot;
    abilityTable.cooldown = &quot;0&quot;
    abilityTable.manaCost = &quot;0&quot;
    abilityTable.aoeRadius = &quot;0&quot;
    abilityTable.duration = &quot;0&quot;
    abilityTable.castPoint = &quot;0.3&quot;

    abilityTable.name = abilityName
    abilityTable.title = &quot;Variable Ability&quot;
    abilityTable.description = &quot;&quot;
    abilityTable.lore = &quot;&quot;
    abilityTable.texture = &quot;rubick_empty1&quot;
    abilityTable.targetType = DOTA_UNIT_TARGET_NONE
    abilityTable.targetTeam = DOTA_UNIT_TARGET_TEAM_NONE
    abilityTable.targetFlags = DOTA_UNIT_TARGET_FLAG_NONE
    abilityTable.damageType = DAMAGE_TYPE_NONE
    abilityTable.specialDamageType = DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_NONE
    abilityTable.dispelType = DOTA_EXTRA_ENUMS.DOTA_ABILITY_DISPEL_TYPE_NONE
    abilityTable.spellImmunity = DOTA_EXTRA_ENUMS.SPELL_IMMUNITY_NONE
    abilityTable.attributes = {}
    abilityTable.runeAttributes = {}

    ability:SetCurrentRunes({})

    netTable.abilities[tostring(index)] = abilityTable
    CustomNetTables:SetTableValue(&quot;generic_ability&quot;, tostring(hero:entindex()), netTable)
end</code></pre></div><div><p>293:&nbsp&nbsp<span class="show-code">RandomizeString(str)</span></p><pre class="code-syntax-block"><code class="lua">function RandomizeString(str)
    local newString = RandomString(str:len())
    for i=0,str:len() do
        local char = str[i]
        if char == &quot; &quot; then
            newString[i] = &quot; &quot;
        end
    end
    return newString
end</code></pre></div><div><p>288:&nbsp&nbsp<span class="show-code">RandomString(length)</span></p><pre class="code-syntax-block"><code class="lua">function RandomString(length)
    if not length or length &lt;= 0 then return &#x27;&#x27; end
    return RandomString(length - 1) .. charset[RandomInt(1, #charset)]
end</code></pre></div></div><div class="file-block"><p id="vscripts-libs-rune-builder"><b>vscripts/libs/rune_builder.lua</b></p><div><p>184:&nbsp&nbsp<span class="show-code">GetTableLength(table)</span></p><pre class="code-syntax-block"><code class="lua">function GetTableLength(table)
    local index = 0
    for _,k in pairs(table) do
        index = index + 1
    end
    return index
end</code></pre></div><div><p>87:&nbsp&nbsp<span class="show-code">RuneBuilder:AddInventoryItem(event)</span></p><pre class="code-syntax-block"><code class="lua">function RuneBuilder:AddInventoryItem(event)
    local caster = PlayerResource:GetSelectedHeroEntity(event.playerID)
    local item = EntIndexToHScript(event.itemID)
    caster:AddItem(item)
    local tempSlot = RuneBuilder:FindItemSlot(caster, item)
    if tempSlot &gt;= 0 and event.itemSlot &gt;= 0 then
        caster:SwapItems(tempSlot, event.itemSlot)
    end
end</code></pre></div><div><p>30:&nbsp&nbsp<span class="show-code">RuneBuilder:CheckCurrentSelection()</span></p><pre class="code-syntax-block"><code class="lua">function RuneBuilder:CheckCurrentSelection()
    for t=2,3 do
        for i=0,PlayerResource:GetPlayerCountForTeam(t) do
            local playerID = PlayerResource:GetNthPlayerIDOnTeam(t, i)
            local unitID = PlayerResource:GetMainSelectedEntity(playerID)

            if self.playerSelects[playerID] then
                if self.playerSelects[playerID] ~= unitID then
                    print(&quot;Changed Selection!&quot;)
                    local player = PlayerResource:GetPlayer(playerID)
                    local runeTable = self.unitRunes[unitID]
                    if not runeTable then runeTable = {} end
                    CustomGameEventManager:Send_ServerToPlayer(player, &quot;load_runes&quot;, {unitID = self.playerSelects[playerID], runeTable = runeTable})
                end
            end
            self.playerSelects[playerID] = unitID
        end
    end
    return 0.1
end</code></pre></div><div><p>81:&nbsp&nbsp<span class="show-code">RuneBuilder:DeleteInventoryItem(event)</span></p><pre class="code-syntax-block"><code class="lua">function RuneBuilder:DeleteInventoryItem(event)
    local caster = PlayerResource:GetSelectedHeroEntity(event.playerID)
    local item = caster:GetItemInSlot(event.itemSlot)
    caster:TakeItem(item)
end</code></pre></div><div><p>97:&nbsp&nbsp<span class="show-code">RuneBuilder:FindItemSlot(unit, testItem)</span></p><pre class="code-syntax-block"><code class="lua">function RuneBuilder:FindItemSlot(unit, testItem)
    for i=0, 15 do
        local item = unit:GetItemInSlot(i)
        if item then
            if item:entindex() == testItem:entindex() then
                return i
            end
        end
    end
    return -1
end</code></pre></div><div><p>154:&nbsp&nbsp<span class="show-code">RuneBuilder:GetRuneSlotFromSlotNumber(slot)</span></p><pre class="code-syntax-block"><code class="lua">function RuneBuilder:GetRuneSlotFromSlotNumber(slot)
    slot = tonumber(slot)
    if slot == 15 then
        return &quot;core_slot_q&quot;
    elseif slot == 16 then
        return &quot;rune1_slot_q&quot;
    elseif slot == 17 then
        return &quot;rune2_slot_q&quot;
    elseif slot == 18 then
        return &quot;rune3_slot_q&quot;
    elseif slot == 19 then
        return &quot;core_slot_w&quot;
    elseif slot == 20 then
        return &quot;rune1_slot_w&quot;
    elseif slot == 21 then
        return &quot;rune2_slot_w&quot;
    elseif slot == 22 then
        return &quot;rune3_slot_w&quot;
    elseif slot == 23 then
        return &quot;core_slot_e&quot;
    elseif slot == 24 then
        return &quot;rune1_slot_e&quot;
    elseif slot == 25 then
        return &quot;rune2_slot_e&quot;
    elseif slot == 26 then
        return &quot;rune3_slot_e&quot;
    end
    return &quot;&quot;
end</code></pre></div><div><p>16:&nbsp&nbsp<span class="show-code">RuneBuilder:Init()</span></p><pre class="code-syntax-block"><code class="lua">function RuneBuilder:Init()
    -- self.started = true
    print(&quot;[RB] Initializing Rune Builder...&quot;)
    ListenToGameEvent(&#x27;npc_spawned&#x27;, Dynamic_Wrap(RuneBuilder, &#x27;OnNPCSpawned&#x27;), self)
    CustomGameEventManager:RegisterListener(&quot;delete_inv_item&quot;, Dynamic_Wrap(RuneBuilder, &quot;DeleteInventoryItem&quot;))
    CustomGameEventManager:RegisterListener(&quot;add_inv_item&quot;, Dynamic_Wrap(RuneBuilder, &quot;AddInventoryItem&quot;))
    CustomGameEventManager:RegisterListener(&quot;update_runes&quot;, Dynamic_Wrap(RuneBuilder, &quot;OnUpdateRunes&quot;))
    CustomGameEventManager:RegisterListener(&quot;save_runes&quot;, Dynamic_Wrap(RuneBuilder, &quot;OnSaveRunes&quot;))

    self.playerSelects = {}
    self.unitRunes = {}
    GameRules:GetGameModeEntity():SetThink(&quot;CheckCurrentSelection&quot;, self, &quot;SelectionThink&quot;, 0.1)
end</code></pre></div><div><p>51:&nbsp&nbsp<span class="show-code">RuneBuilder:OnNPCSpawned(event)</span></p><pre class="code-syntax-block"><code class="lua">function RuneBuilder:OnNPCSpawned(event)
    local npc = EntIndexToHScript(event.entindex)
    if npc:IsRealHero() and npc.bFirstSpawned == nil then
        npc.bFirstSpawned = true
        local playerID = npc:GetPlayerID()
        local player = PlayerResource:GetPlayer(playerID)
        if player then
            print(&quot;[RB] Init HUD for player!&quot;)
            CustomGameEventManager:Send_ServerToPlayer(player, &quot;init_tooltips&quot;, {})
            CustomGameEventManager:Send_ServerToPlayer(player, &quot;init_stat_tooltips&quot;, {})
            CustomGameEventManager:Send_ServerToPlayer(player, &quot;init_rune_slots&quot;, {})
            CustomGameEventManager:Send_ServerToPlayer(player, &quot;init_item_tooltips&quot;, {})
            CustomNetTables:SetTableValue(&quot;rune_slots&quot;, tostring(npc:entindex()), {})
        end
    end
end</code></pre></div><div><p>147:&nbsp&nbsp<span class="show-code">RuneBuilder:OnSaveRunes(event)</span></p><pre class="code-syntax-block"><code class="lua">function RuneBuilder:OnSaveRunes(event)
    local unitID = event.unitID
    print(EntIndexToHScript(unitID):GetName())
    PrintTable(event.runeTable)
    RuneBuilder.unitRunes[unitID] = event.runeTable
end</code></pre></div><div><p>109:&nbsp&nbsp<span class="show-code">RuneBuilder:OnUpdateRunes(event)</span></p><pre class="code-syntax-block"><code class="lua">function RuneBuilder:OnUpdateRunes(event)
    local caster = PlayerResource:GetSelectedHeroEntity(event.playerID)
    local netTable = CustomNetTables:GetTableValue(&quot;rune_slots&quot;, tostring(caster:entindex()))
    local runeTable = event.runeTable
    if not netTable.abilityQ then
        netTable.abilityQ = {}
        netTable.abilityW = {}
        netTable.abilityE = {}
    end
    netTable.abilityQ.core = &quot;-1&quot;;
    netTable.abilityQ.runes = {};
    netTable.abilityW.core = &quot;-1&quot;;
    netTable.abilityW.runes = {};
    netTable.abilityE.core = &quot;-1&quot;;
    netTable.abilityE.runes = {};

    for key,val in pairs(runeTable) do
        local slotName = RuneBuilder:GetRuneSlotFromSlotNumber(key)
        local tableName = &quot;&quot;
        if slotName:find(&quot;_q&quot;) then
            tableName = &quot;abilityQ&quot;
        elseif slotName:find(&quot;_w&quot;) then
            tableName = &quot;abilityW&quot;
        elseif slotName:find(&quot;_e&quot;) then
            tableName = &quot;abilityE&quot;
        end
        if slotName:find(&quot;core&quot;) then
            netTable[tableName].core = val.Id
        elseif slotName:find(&quot;rune&quot;) then
            local find = slotName:find(&quot;%d&quot;)
            local index = slotName:sub(find, find)
            netTable[tableName].runes[index] = val.Id
        end
    end
    CustomNetTables:SetTableValue(&quot;rune_slots&quot;, tostring(caster:entindex()), netTable)
    AbilityAspects:BuildCoreAbility(caster)
end</code></pre></div><div><p>68:&nbsp&nbsp<span class="show-code">RuneBuilder:SetRuneDisabled(ability, index, markType)</span></p><pre class="code-syntax-block"><code class="lua">function RuneBuilder:SetRuneDisabled(ability, index, markType)
    -- print(&quot;[RB] Set a rune disabled!&quot;)
    local className = ability:GetAbilityClassName()
    local suffix = className:gsub(&quot;generic_ability&quot;, &quot;&quot;)
    local slotName = &quot;rune&quot;..index..&quot;_slot&quot;..suffix

    local caster = ability:GetCaster()
    local playerID = caster:GetPlayerID()
    local player = PlayerResource:GetPlayer(playerID)
    if not markType then markType = &quot;disabled&quot; end
    CustomGameEventManager:Send_ServerToPlayer(player, &quot;mark_rune_slot&quot;, {slotName = slotName, markType = markType})
end</code></pre></div></div><div class="file-block"><p id="vscripts-libs-selection"><b>vscripts/libs/selection.lua</b></p><div><p>125:&nbsp&nbsp<span class="show-code">CDOTA_BaseNPC:SetSelectionOverride(reselect_unit)</span></p><pre class="code-syntax-block"><code class="lua">function CDOTA_BaseNPC:SetSelectionOverride(reselect_unit)
    local unit = self
    local reselectIndex = type(reselect_unit)==&quot;number&quot; and reselect_unit or reselect_unit:GetEntityIndex()

    CustomNetTables:SetTableValue(&quot;selection&quot;, tostring(unit:GetEntityIndex()), {entity = reselectIndex})
end</code></pre></div><div><p>64:&nbsp&nbsp<span class="show-code">CDOTA_PlayerResource:AddToSelection(playerID, unit_args)</span></p><pre class="code-syntax-block"><code class="lua">function CDOTA_PlayerResource:AddToSelection(playerID, unit_args)
    local player = self:GetPlayer(playerID)
    if player then
        local entities = Selection:GetEntIndexListFromTable(unit_args)
        CustomGameEventManager:Send_ServerToPlayer(player, &quot;selection_add&quot;, {entities = entities})
    end
end</code></pre></div><div><p>91:&nbsp&nbsp<span class="show-code">CDOTA_PlayerResource:GetMainSelectedEntity(playerID)</span></p><pre class="code-syntax-block"><code class="lua">function CDOTA_PlayerResource:GetMainSelectedEntity(playerID)
    local selectedEntities = self:GetSelectedEntities(playerID) 
    return selectedEntities and selectedEntities[&quot;0&quot;]
end</code></pre></div><div><p>87:&nbsp&nbsp<span class="show-code">CDOTA_PlayerResource:GetSelectedEntities(playerID)</span></p><pre class="code-syntax-block"><code class="lua">function CDOTA_PlayerResource:GetSelectedEntities(playerID)
    return Selection.entities[playerID] or {}
end</code></pre></div><div><p>96:&nbsp&nbsp<span class="show-code">CDOTA_PlayerResource:IsUnitSelected(playerID, unit)</span></p><pre class="code-syntax-block"><code class="lua">function CDOTA_PlayerResource:IsUnitSelected(playerID, unit)
    if not unit then return false end
    local entIndex = type(unit)==&quot;number&quot; and unit or IsValidEntity(unit) and unit:GetEntityIndex()
    if not entIndex then return false end
    
    local selectedEntities = self:GetSelectedEntities(playerID)
    for _,v in pairs(selectedEntities) do
        if v==entIndex then
            return true
        end
    end
    return false
end</code></pre></div><div><p>56:&nbsp&nbsp<span class="show-code">CDOTA_PlayerResource:NewSelection(playerID, unit_args)</span></p><pre class="code-syntax-block"><code class="lua">function CDOTA_PlayerResource:NewSelection(playerID, unit_args)
    local player = self:GetPlayer(playerID)
    if player then
        local entities = Selection:GetEntIndexListFromTable(unit_args)
        CustomGameEventManager:Send_ServerToPlayer(player, &quot;selection_new&quot;, {entities = entities})
    end
end</code></pre></div><div><p>110:&nbsp&nbsp<span class="show-code">CDOTA_PlayerResource:RefreshSelection()</span></p><pre class="code-syntax-block"><code class="lua">function CDOTA_PlayerResource:RefreshSelection()
    Timers:CreateTimer(0.03, function()
        FireGameEvent(&quot;dota_player_update_selected_unit&quot;, {})
    end)
end</code></pre></div><div><p>72:&nbsp&nbsp<span class="show-code">CDOTA_PlayerResource:RemoveFromSelection(playerID, unit_args)</span></p><pre class="code-syntax-block"><code class="lua">function CDOTA_PlayerResource:RemoveFromSelection(playerID, unit_args)
    local player = self:GetPlayer(playerID)
    if player then
        local entities = Selection:GetEntIndexListFromTable(unit_args)
        CustomGameEventManager:Send_ServerToPlayer(player, &quot;selection_remove&quot;, {entities = entities})
    end
end</code></pre></div><div><p>80:&nbsp&nbsp<span class="show-code">CDOTA_PlayerResource:ResetSelection(playerID)</span></p><pre class="code-syntax-block"><code class="lua">function CDOTA_PlayerResource:ResetSelection(playerID)
    local player = self:GetPlayer(playerID)
    if player then
        CustomGameEventManager:Send_ServerToPlayer(player, &quot;selection_reset&quot;, {})
    end
end</code></pre></div><div><p>116:&nbsp&nbsp<span class="show-code">CDOTA_PlayerResource:SetDefaultSelectionEntity(playerID, unit)</span></p><pre class="code-syntax-block"><code class="lua">function CDOTA_PlayerResource:SetDefaultSelectionEntity(playerID, unit)
    if not unit then unit = -1 end
    local entIndex = type(unit)==&quot;number&quot; and unit or unit:GetEntityIndex()
    local hero = self:GetSelectedHeroEntity(playerID)
    if hero then
        hero:SetSelectionOverride(unit)
    end
end</code></pre></div><div><p>153:&nbsp&nbsp<span class="show-code">Selection:GetEntIndexListFromTable(unit_args)</span></p><pre class="code-syntax-block"><code class="lua">function Selection:GetEntIndexListFromTable(unit_args)
    local entities = {}
    if type(unit_args)==&quot;number&quot; then
        table.insert(entities, unit_args) -- Entity Index
    -- Check contents of the table
    elseif type(unit_args)==&quot;table&quot; then
        if unit_args.IsCreature then
            table.insert(entities, unit_args:GetEntityIndex()) -- NPC Handle
        else
            for _,arg in pairs(unit_args) do
                -- Table of entity index values
                if type(arg)==&quot;number&quot; then
                    table.insert(entities, arg)
                -- Table of npc handles
                elseif type(arg)==&quot;table&quot; then
                    if arg.IsCreature then
                        table.insert(entities, arg:GetEntityIndex())
                    end
                end
            end
        end
    end
    return entities
end</code></pre></div><div><p>142:&nbsp&nbsp<span class="show-code">Selection:Init()</span></p><pre class="code-syntax-block"><code class="lua">function Selection:Init()
    Selection.entities = {} --Stores the selected entities of each playerID
    CustomGameEventManager:RegisterListener(&quot;selection_update&quot;, Dynamic_Wrap(Selection, &#x27;OnUpdate&#x27;))
end</code></pre></div><div><p>147:&nbsp&nbsp<span class="show-code">Selection:OnUpdate(event)</span></p><pre class="code-syntax-block"><code class="lua">function Selection:OnUpdate(event)
    local playerID = event.PlayerID
    Selection.entities[playerID] = event.entities
end</code></pre></div></div><div class="file-block"><p id="vscripts-libs-timers"><b>vscripts/libs/timers.lua</b></p><div><p>155:&nbsp&nbsp<span class="show-code">Timers:CreateTimer(name, args)</span></p><pre class="code-syntax-block"><code class="lua">function Timers:CreateTimer(name, args)
  if type(name) == &quot;function&quot; then
    args = {callback = name}
    name = DoUniqueString(&quot;timer&quot;)
  elseif type(name) == &quot;table&quot; then
    args = name
    name = DoUniqueString(&quot;timer&quot;)
  elseif type(name) == &quot;number&quot; then
    args = {endTime = name, callback = args}
    name = DoUniqueString(&quot;timer&quot;)
  end
  if not args.callback then
    print(&quot;Invalid timer created: &quot;..name)
    return
  end


  local now = GameRules:GetGameTime()
  if args.useGameTime ~= nil and args.useGameTime == false then
    now = Time()
  end

  if args.endTime == nil then
    args.endTime = now
  elseif args.useOldStyle == nil or args.useOldStyle == false then
    args.endTime = now + args.endTime
  end

  Timers.timers[name] = args 

  return name
end</code></pre></div><div><p>136:&nbsp&nbsp<span class="show-code">Timers:HandleEventError(name, event, err)</span></p><pre class="code-syntax-block"><code class="lua">function Timers:HandleEventError(name, event, err)
  print(err)

  -- Ensure we have data
  name = tostring(name or &#x27;unknown&#x27;)
  event = tostring(event or &#x27;unknown&#x27;)
  err = tostring(err or &#x27;unknown&#x27;)

  -- Tell everyone there was an error
  --Say(nil, name .. &#x27; threw an error on event &#x27;..event, false)
  --Say(nil, err, false)

  -- Prevent loop arounds
  if not self.errorHandled then
    -- Store that we handled an error
    self.errorHandled = true
  end
end</code></pre></div><div><p>60:&nbsp&nbsp<span class="show-code">Timers:new( o )</span></p><pre class="code-syntax-block"><code class="lua">function Timers:new( o )
  o = o or {}
  setmetatable( o, Timers )
  return o
end</code></pre></div><div><p>188:&nbsp&nbsp<span class="show-code">Timers:RemoveTimer(name)</span></p><pre class="code-syntax-block"><code class="lua">function Timers:RemoveTimer(name)
  Timers.timers[name] = nil
end</code></pre></div><div><p>192:&nbsp&nbsp<span class="show-code">Timers:RemoveTimers(killAll)</span></p><pre class="code-syntax-block"><code class="lua">function Timers:RemoveTimers(killAll)
  local timers = {}

  if not killAll then
    for k,v in pairs(Timers.timers) do
      if v.persist then
        timers[k] = v
      end
    end
  end

  Timers.timers = timers
end</code></pre></div><div><p>66:&nbsp&nbsp<span class="show-code">Timers:start()</span></p><pre class="code-syntax-block"><code class="lua">function Timers:start()
  Timers = self
  self.timers = {}
  
  local ent = Entities:CreateByClassname(&quot;info_target&quot;) -- Entities:FindByClassname(nil, &#x27;CWorld&#x27;)
  ent:SetThink(&quot;Think&quot;, self, &quot;timers&quot;, TIMERS_THINK)
end</code></pre></div><div><p>74:&nbsp&nbsp<span class="show-code">Timers:Think()</span></p><pre class="code-syntax-block"><code class="lua">function Timers:Think()
  if GameRules:State_Get() &gt;= DOTA_GAMERULES_STATE_POST_GAME then
    return
  end

  -- Track game time, since the dt passed in to think is actually wall-clock time not simulation time.
  local now = GameRules:GetGameTime()

  -- Process timers
  for k,v in pairs(Timers.timers) do
    local bUseGameTime = true
    if v.useGameTime ~= nil and v.useGameTime == false then
      bUseGameTime = false
    end
    local bOldStyle = false
    if v.useOldStyle ~= nil and v.useOldStyle == true then
      bOldStyle = true
    end

    local now = GameRules:GetGameTime()
    if not bUseGameTime then
      now = Time()
    end

    if v.endTime == nil then
      v.endTime = now
    end
    -- Check if the timer has finished
    if now &gt;= v.endTime then
      -- Remove from timers list
      Timers.timers[k] = nil
      
      -- Run the callback
      local status, nextCall = pcall(v.callback, GameRules:GetGameModeEntity(), v)

      -- Make sure it worked
      if status then
        -- Check if it needs to loop
        if nextCall then
          -- Change its end time

          if bOldStyle then
            v.endTime = v.endTime + nextCall - now
          else
            v.endTime = v.endTime + nextCall
          end

          Timers.timers[k] = v
        end

        -- Update timer data
        --self:UpdateTimerData()
      else
        -- Nope, handle the error
        Timers:HandleEventError(&#x27;Timer&#x27;, k, nextCall)
      end
    end
  end

  return TIMERS_THINK
end</code></pre></div></div><div class="file-block"><p id="vscripts-libs-util"><b>vscripts/libs/util.lua</b></p><div><p>107:&nbsp&nbsp<span class="show-code">CombineTables(table1, table2)</span></p><pre class="code-syntax-block"><code class="lua">function CombineTables(table1, table2)
    for key,val in pairs(table2) do
        if type(key) ~= &quot;number&quot; then
            table1[key] = val
        else
            table.insert(table1, val)
        end
    end
    return table1
end</code></pre></div><div><p>0:&nbsp&nbsp<span class="show-code">DebugPrint(...)</span></p><pre class="code-syntax-block"><code class="lua">function DebugPrint(...)
    local spew = Convars:GetInt(&#x27;barebones_spew&#x27;) or -1
    if spew == -1 and BAREBONES_DEBUG_SPEW then
        spew = 1
    end

    if spew == 1 then
        print(...)
    end
end</code></pre></div><div><p>11:&nbsp&nbsp<span class="show-code">DebugPrintTable(...)</span></p><pre class="code-syntax-block"><code class="lua">function DebugPrintTable(...)
    local spew = Convars:GetInt(&#x27;barebones_spew&#x27;) or -1
    if spew == -1 and BAREBONES_DEBUG_SPEW then
        spew = 1
    end

    if spew == 1 then
        PrintTable(...)
    end
end</code></pre></div><div><p>158:&nbsp&nbsp<span class="show-code">FindValueInTable(tab, value)</span></p><pre class="code-syntax-block"><code class="lua">function FindValueInTable(tab, value)
    for _,val in pairs(tab) do
        if val == value then
            return true
        end
    end
    return false
end</code></pre></div><div><p>84:&nbsp&nbsp<span class="show-code">GetElementName(specialType)</span></p><pre class="code-syntax-block"><code class="lua">function GetElementName(specialType)
    if specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_STORM then
        return &quot;storm&quot;
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_ORDER then
        return &quot;order&quot;
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_CHAOS then
        return &quot;chaos&quot;
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_EARTH then
        return &quot;earth&quot;
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_FIRE then
        return &quot;fire&quot;
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_WATER then
        return &quot;water&quot;
    elseif specialType == DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_DIVINE then
        return &quot;divine&quot;
    end
    return &quot;physical&quot;
end</code></pre></div><div><p>118:&nbsp&nbsp<span class="show-code">GetTableLength(table)</span></p><pre class="code-syntax-block"><code class="lua">function GetTableLength(table)
    local index = 0
    for _,k in pairs(table) do
        index = index + 1
    end
    return index
end</code></pre></div><div><p>151:&nbsp&nbsp<span class="show-code">IsEmpty(tab)</span></p><pre class="code-syntax-block"><code class="lua">function IsEmpty(tab)
    if GetTableLength(tab) == 0 then
        return true
    end
    return false
end</code></pre></div><div><p>22:&nbsp&nbsp<span class="show-code">PrintTable(t, indent, done)</span></p><pre class="code-syntax-block"><code class="lua">function PrintTable(t, indent, done)
    -- print ( string.format (&#x27;PrintTable type %s&#x27;, type(keys)) )
    if t == {} then print(&quot;Empty table!&quot;) end
    if type(t) ~= &quot;table&quot; then return end

    done = done or {}
    done[t] = true
    indent = indent or 0

    local l = {}
    for k, v in pairs(t) do
        table.insert(l, k)
    end

    table.sort(l)
    for k, v in ipairs(l) do
        -- Ignore FDesc
        if v ~= &#x27;FDesc&#x27; then
            local value = t[v]

            if type(value) == &quot;table&quot; and not done[value] then
                done [value] = true
                print(string.rep (&quot;\t&quot;, indent)..tostring(v)..&quot;:&quot;)
                PrintTable (value, indent + 2, done)
            elseif type(value) == &quot;userdata&quot; and not done[value] then
                done [value] = true
                print(string.rep (&quot;\t&quot;, indent)..tostring(v)..&quot;: &quot;..tostring(value))
                PrintTable ((getmetatable(value) and getmetatable(value).__index) or getmetatable(value), indent + 2, done)
            else
                if t.FDesc and t.FDesc[v] then
                    print(string.rep (&quot;\t&quot;, indent)..tostring(t.FDesc[v]))
                else
                    print(string.rep (&quot;\t&quot;, indent)..tostring(v)..&quot;: &quot;..tostring(value))
                end
            end
        end
    end
end</code></pre></div><div><p>138:&nbsp&nbsp<span class="show-code">RemoveFromTable(tab, element)</span></p><pre class="code-syntax-block"><code class="lua">function RemoveFromTable(tab, element)
    local newTable = {}
    local count = 0
    for _,elem in pairs(tab) do
        if not elem == element then
            table.insert(newTable, elem)
        else
            count = count + 1
        end
    end
    return newTable, count
end</code></pre></div><div><p>126:&nbsp&nbsp<span class="show-code">RemoveItemFromTable(tab, val)</span></p><pre class="code-syntax-block"><code class="lua">function RemoveItemFromTable(tab, val)
    local newTab = {}
    local index = 0
    for _,v in pairs(tab) do
        if not v:GetName() ~= val:GetName() then
            newTab[index] = v
            index = index + 1
        end
    end
    return newTab
end</code></pre></div><div><p>167:&nbsp&nbsp<span class="show-code">ShuffleTable(tab)</span></p><pre class="code-syntax-block"><code class="lua">function ShuffleTable(tab)
  for i = #tab, 2, -1 do
    local j = math.random(i)
    tab[i], tab[j] = tab[j], tab[i]
  end
  return tab
end</code></pre></div></div><div class="file-block"><p id="vscripts-runes-cascade"><b>vscripts/runes/cascade.lua</b></p><div><p>7:&nbsp&nbsp<span class="show-code">cascade:GetAdditionalFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function cascade:GetAdditionalFunctions()
    local funcs = {
        &quot;OnProjectileHitUnitExtra&quot;,
    }
    return funcs
end</code></pre></div><div><p>3:&nbsp&nbsp<span class="show-code">cascade:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function cascade:GetReferenceItem()
    return &quot;item_ability_rune_rare_cascade&quot;
end</code></pre></div><div><p>14:&nbsp&nbsp<span class="show-code">cascade:OnProjectileHitUnitExtra(hTarget, extraData)</span></p><pre class="code-syntax-block"><code class="lua">function cascade:OnProjectileHitUnitExtra(hTarget, extraData)
    local cascadeCount = 0
    local runeName = &quot;cascade&quot;
    local varName = &quot;CascadeCount&quot;..&quot;_&quot;..runeName
    if extraData[varName] then
        cascadeCount = extraData[varName]
    end

    local maxCascade = self:GetSpecialRuneValueFor(&quot;cascade_count&quot;, runeName)
    if cascadeCount &gt;= maxCascade then
        return
    end

    local newData = {}
    newData[varName] = cascadeCount + 1

    local caster = self:GetCaster()
    local targetLoc = hTarget:GetAbsOrigin()
    local radius = self:GetSpecialRuneValueFor(&quot;cascade_radius&quot;, runeName)
    -- local radius = 200
    local targetTeam = self:GetAbilityTargetTeam()
    local targetType = self:GetAbilityTargetType()
    local targetFlags = self:GetAbilityTargetFlags()
    local enemies = FindUnitsInRadius(caster:GetTeamNumber(), targetLoc, nil, radius, targetTeam, targetType, targetFlags, FIND_CLOSEST, false)
    for _,enemy in pairs(enemies) do
        if enemy ~= hTarget then
            self:DoTrackingProjectile(targetLoc, hTarget, enemy, extraData.speed, extraData.visionRadius, newData)
        end
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-runes-corpse-control"><b>vscripts/runes/corpse_control.lua</b></p><div><p>24:&nbsp&nbsp<span class="show-code">corpse_control:GetAdditionalAbilityKeys()</span></p><pre class="code-syntax-block"><code class="lua">function corpse_control:GetAdditionalAbilityKeys()
    local values = {
        DOTA_EXTRA_ENUMS.SPECIAL_ABILITY_KEY_SUMMON
    }
    return values
end</code></pre></div><div><p>8:&nbsp&nbsp<span class="show-code">corpse_control:GetAdditionalFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function corpse_control:GetAdditionalFunctions()
    local funcs = {
        &quot;OnDealDamageCustom&quot;,
        &quot;GetAdditionalAbilityKeys&quot;
    }
    return funcs
end</code></pre></div><div><p>4:&nbsp&nbsp<span class="show-code">corpse_control:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function corpse_control:GetReferenceItem()
    return &quot;item_ability_rune_uncommon_corpse_control&quot;
end</code></pre></div><div><p>16:&nbsp&nbsp<span class="show-code">corpse_control:OnDealDamageCustom(eventData)</span></p><pre class="code-syntax-block"><code class="lua">function corpse_control:OnDealDamageCustom(eventData)
    local caster = self:GetCaster()
    local target = eventData.victim
    local duration = self:GetSpecialRuneValueFor(&quot;duration&quot;, &quot;corpse_control&quot;)

    target:AddNewModifier(caster, self, &quot;modifier_corpse_control_debuff&quot;, {Duration = duration})
end</code></pre></div><div><p>49:&nbsp&nbsp<span class="show-code">modifier_corpse_control_debuff:DeclareFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_corpse_control_debuff:DeclareFunctions()
    local funcs =  {
        MODIFIER_EVENT_ON_DEATH,
    }
    return funcs
end</code></pre></div><div><p>45:&nbsp&nbsp<span class="show-code">modifier_corpse_control_debuff:IsDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_corpse_control_debuff:IsDebuff()
    return true
end</code></pre></div><div><p>33:&nbsp&nbsp<span class="show-code">modifier_corpse_control_debuff:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_corpse_control_debuff:IsHidden()
    return false
end</code></pre></div><div><p>37:&nbsp&nbsp<span class="show-code">modifier_corpse_control_debuff:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_corpse_control_debuff:IsPurgable()
    return true
end</code></pre></div><div><p>41:&nbsp&nbsp<span class="show-code">modifier_corpse_control_debuff:IsStunDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_corpse_control_debuff:IsStunDebuff()
    return false
end</code></pre></div><div><p>56:&nbsp&nbsp<span class="show-code">modifier_corpse_control_debuff:OnDeath(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_corpse_control_debuff:OnDeath(event)
    if IsServer() then
        if event.unit == self:GetParent() then
            local parent = self:GetParent()
            local ability = self:GetAbility()
            local duration = ability:GetSpecialRuneValueFor(&quot;skeleton_duration&quot;, &quot;corpse_control&quot;)
            local modifiers = {}
            modifiers.first = {
                name = &quot;modifier_kill&quot;,
                duration = duration,
            }
            ability:SummonUnit(&quot;npc_dota_corpse_skeleton&quot;, parent:GetAbsOrigin(), modifiers)
        end
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-runes-critical"><b>vscripts/runes/critical.lua</b></p><div><p>7:&nbsp&nbsp<span class="show-code">critical:GetAdditionalFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function critical:GetAdditionalFunctions()
    local funcs = {
        &quot;OnDealDamageCustom&quot;,
    }
    return funcs
end</code></pre></div><div><p>3:&nbsp&nbsp<span class="show-code">critical:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function critical:GetReferenceItem()
    return &quot;item_ability_rune_common_critical&quot;
end</code></pre></div><div><p>14:&nbsp&nbsp<span class="show-code">critical:ModifyValuesConstant()</span></p><pre class="code-syntax-block"><code class="lua">function critical:ModifyValuesConstant()
    local values = {
        cooldown = &quot;2&quot;,
    }
    return values
end</code></pre></div><div><p>29:&nbsp&nbsp<span class="show-code">critical:ModifyValuesGlobal()</span></p><pre class="code-syntax-block"><code class="lua">function critical:ModifyValuesGlobal()
    return &quot;1.3&quot;
end</code></pre></div><div><p>21:&nbsp&nbsp<span class="show-code">critical:ModifyValuesPercentage()</span></p><pre class="code-syntax-block"><code class="lua">function critical:ModifyValuesPercentage()
    local values = {
        manaCost = &quot;0.5&quot;,
        DMG = &quot;1.2&quot;,
    }
    return values
end</code></pre></div><div><p>33:&nbsp&nbsp<span class="show-code">critical:OnDealDamageCustom(eventData)</span></p><pre class="code-syntax-block"><code class="lua">function critical:OnDealDamageCustom(eventData)
    local damage = eventData.damage
    local chance = self:GetSpecialRuneValueFor(&quot;crit_chance&quot;, &quot;critical&quot;)
    local damageMult = self:GetSpecialRuneValueFor(&quot;crit_mult&quot;, &quot;critical&quot;) / 100

    if RandomInt(0, 100) &lt;= chance then
        
        local target = eventData.victim
        local targetLoc = target:GetAbsOrigin()
        local particle = ParticleManager:CreateParticle(&quot;particles/runes/critical.vpcf&quot;, PATTACH_ABSORIGIN_FOLLOW, target)
        ParticleManager:SetParticleControlEnt(particle, 0, target, PATTACH_ABSORIGIN_FOLLOW, &quot;attach_hitloc&quot;, targetLoc, false)
        ParticleManager:SetParticleControlEnt(particle, 1, target, PATTACH_ABSORIGIN_FOLLOW, &quot;attach_hitloc&quot;, targetLoc, false)
        ParticleManager:SetParticleControl(particle, 3, self:GetCaster():GetAbsOrigin())
        ParticleManager:ReleaseParticleIndex(particle)

        return damage * damageMult
    end
end</code></pre></div></div><div class="file-block"><p id="vscripts-runes-scorching-army"><b>vscripts/runes/scorching_army.lua</b></p><div><p>69:&nbsp&nbsp<span class="show-code">modifier_scorching_army_aura:GetAuraDuration()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_aura:GetAuraDuration()
    return 0.5
end</code></pre></div><div><p>65:&nbsp&nbsp<span class="show-code">modifier_scorching_army_aura:GetAuraRadius()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_aura:GetAuraRadius()
    return self.radius
end</code></pre></div><div><p>57:&nbsp&nbsp<span class="show-code">modifier_scorching_army_aura:GetAuraSearchFlags()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_aura:GetAuraSearchFlags()
    return DOTA_DAMAGE_FLAG_NONE
end</code></pre></div><div><p>53:&nbsp&nbsp<span class="show-code">modifier_scorching_army_aura:GetAuraSearchTeam()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_aura:GetAuraSearchTeam()
    return DOTA_UNIT_TARGET_TEAM_ENEMY
end</code></pre></div><div><p>61:&nbsp&nbsp<span class="show-code">modifier_scorching_army_aura:GetAuraSearchType()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_aura:GetAuraSearchType()
    return DOTA_UNIT_TARGET_BASIC + DOTA_UNIT_TARGET_HERO
end</code></pre></div><div><p>49:&nbsp&nbsp<span class="show-code">modifier_scorching_army_aura:GetModifierAura()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_aura:GetModifierAura()
    return &quot;modifier_scorching_army_debuff&quot;
end</code></pre></div><div><p>45:&nbsp&nbsp<span class="show-code">modifier_scorching_army_aura:IsAura()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_aura:IsAura()
    return true 
end</code></pre></div><div><p>28:&nbsp&nbsp<span class="show-code">modifier_scorching_army_aura:IsDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_aura:IsDebuff()
    return false
end</code></pre></div><div><p>36:&nbsp&nbsp<span class="show-code">modifier_scorching_army_aura:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_aura:IsHidden()
    return false
end</code></pre></div><div><p>32:&nbsp&nbsp<span class="show-code">modifier_scorching_army_aura:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_aura:IsPurgable()
    return false
end</code></pre></div><div><p>40:&nbsp&nbsp<span class="show-code">modifier_scorching_army_aura:OnCreated(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_aura:OnCreated(event)
    if IsClient() then return end
    self.radius = self:GetAbility():GetSpecialRuneValueFor(&quot;radius&quot;, &quot;scorching_army&quot;)
end</code></pre></div><div><p>83:&nbsp&nbsp<span class="show-code">modifier_scorching_army_debuff:IsDebuff()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_debuff:IsDebuff()
    return true
end</code></pre></div><div><p>79:&nbsp&nbsp<span class="show-code">modifier_scorching_army_debuff:IsHidden()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_debuff:IsHidden()
    return false
end</code></pre></div><div><p>75:&nbsp&nbsp<span class="show-code">modifier_scorching_army_debuff:IsPurgable()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_debuff:IsPurgable()
    return false
end</code></pre></div><div><p>87:&nbsp&nbsp<span class="show-code">modifier_scorching_army_debuff:OnCreated(event)</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_debuff:OnCreated(event)
    if IsClient() then return end
    self.interval = 0.5
    self.damage = self:GetAbility():GetSpecialRuneValueFor(&quot;damage_per_second&quot;, &quot;scorching_army&quot;) * self.interval
    self:StartIntervalThink(self.interval)
end</code></pre></div><div><p>94:&nbsp&nbsp<span class="show-code">modifier_scorching_army_debuff:OnIntervalThink()</span></p><pre class="code-syntax-block"><code class="lua">function modifier_scorching_army_debuff:OnIntervalThink()
    if IsClient() then return end
    local ability = self:GetAbility()
    local attacker = self:GetAuraOwner()
    if not attacker or not IsValidEntity(attacker) or not attacker:IsAlive() then return end
    ability:DealDamage(self.damage, self:GetAuraOwner(), self:GetParent(), DOTA_EXTRA_ENUMS.SPECIAL_DAMAGE_TYPE_FIRE)
end</code></pre></div><div><p>10:&nbsp&nbsp<span class="show-code">scorching_army:GetAdditionalFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function scorching_army:GetAdditionalFunctions()
    local funcs = {
        &quot;GetSummonModifiers&quot;,
    }
    return funcs
end</code></pre></div><div><p>6:&nbsp&nbsp<span class="show-code">scorching_army:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function scorching_army:GetReferenceItem()
    return &quot;item_ability_rune_common_scorching_army&quot;
end</code></pre></div><div><p>17:&nbsp&nbsp<span class="show-code">scorching_army:GetSummonModifiers()</span></p><pre class="code-syntax-block"><code class="lua">function scorching_army:GetSummonModifiers()
    local values = {
        {
            name = &quot;modifier_scorching_army_aura&quot;,
        },
    }
    return values
end</code></pre></div></div><div class="file-block"><p id="vscripts-runes-split"><b>vscripts/runes/split.lua</b></p><div><p>49:&nbsp&nbsp<span class="show-code">RotateVector2D(v, theta)</span></p><pre class="code-syntax-block"><code class="lua">function RotateVector2D(v, theta)
    local xp = v.x*math.cos(theta)-v.y*math.sin(theta)
    local yp = v.x*math.sin(theta)+v.y*math.cos(theta)
    return Vector(xp,yp,v.z):Normalized()
end</code></pre></div><div><p>7:&nbsp&nbsp<span class="show-code">split:GetAdditionalFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function split:GetAdditionalFunctions()
    local funcs = {
        &quot;OnProjectileHitFinishExtra&quot;,
        &quot;OnSpellStart&quot;,
    }
    return funcs
end</code></pre></div><div><p>3:&nbsp&nbsp<span class="show-code">split:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function split:GetReferenceItem()
    return &quot;item_ability_rune_uncommon_split&quot;
end</code></pre></div><div><p>15:&nbsp&nbsp<span class="show-code">split:ModifyValuesConstant()</span></p><pre class="code-syntax-block"><code class="lua">function split:ModifyValuesConstant()
    local values = {
        manaCost = &quot;100&quot;,
    }
    return values
end</code></pre></div><div><p>26:&nbsp&nbsp<span class="show-code">split:OnProjectileHitFinishExtra(vLocation, extraData)</span></p><pre class="code-syntax-block"><code class="lua">function split:OnProjectileHitFinishExtra(vLocation, extraData)
    local splitCount = 0
    local runeName = &quot;split&quot;
    local varName = &quot;SplitCount&quot;..runeName
    if extraData[varName] then
        splitCount = extraData[varName]
    end

    local maxSplit = self:GetSpecialRuneValueFor(&quot;split_count&quot;, runeName)
    if splitCount &gt;= maxSplit then
        -- print(&quot;Can&#x27;t split more than &quot;..tostring(maxSplit)..&quot; times!&quot;)
        return
    end

    local newData = extraData
    newData[varName] = splitCount + 1
    local direction1 = RotateVector2D(extraData.direction, math.rad(-45))
    local direction2 = RotateVector2D(extraData.direction, math.rad(45))
    local newDistance = extraData.distance * 0.75
    self:DoLinearProjectile(vLocation, direction1, extraData.speed, newDistance, extraData.width, extraData.visionRadius, newData)
    self:DoLinearProjectile(vLocation, direction2, extraData.speed, newDistance, extraData.width, extraData.visionRadius, newData)
end</code></pre></div><div><p>22:&nbsp&nbsp<span class="show-code">split:OnSpellStart()</span></p><pre class="code-syntax-block"><code class="lua">function split:OnSpellStart()
    print(&quot;SpellStart!&quot;)
end</code></pre></div></div><div class="file-block"><p id="vscripts-runes-split-back"><b>vscripts/runes/split_back.lua</b></p><div><p>37:&nbsp&nbsp<span class="show-code">RotateVector2D(v, theta)</span></p><pre class="code-syntax-block"><code class="lua">function RotateVector2D(v, theta)
    local xp = v.x*math.cos(theta)-v.y*math.sin(theta)
    local yp = v.x*math.sin(theta)+v.y*math.cos(theta)
    return Vector(xp,yp,v.z):Normalized()
end</code></pre></div><div><p>7:&nbsp&nbsp<span class="show-code">split_back:GetAdditionalFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function split_back:GetAdditionalFunctions()
    local funcs = {
        &quot;OnProjectileHitFinishExtra&quot;,
    }
    return funcs
end</code></pre></div><div><p>3:&nbsp&nbsp<span class="show-code">split_back:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function split_back:GetReferenceItem()
    return &quot;item_ability_rune_uncommon_split&quot;
end</code></pre></div><div><p>14:&nbsp&nbsp<span class="show-code">split_back:OnProjectileHitFinishExtra(vLocation, extraData)</span></p><pre class="code-syntax-block"><code class="lua">function split_back:OnProjectileHitFinishExtra(vLocation, extraData)
    local splitCount = 0
    local runeName = &quot;split_back&quot;
    local varName = &quot;SplitCount&quot;..runeName
    if extraData[varName] then
        splitCount = extraData[varName]
    end

    local maxSplit = self:GetSpecialRuneValueFor(&quot;split_count&quot;, runeName)
    if splitCount &gt;= maxSplit then
        -- print(&quot;Can&#x27;t split_back more than &quot;..tostring(maxSplit)..&quot; times!&quot;)
        return
    end

    local newData = extraData
    newData[varName] = splitCount + 1
    local direction1 = RotateVector2D(extraData.direction, math.rad(-135))
    local direction2 = RotateVector2D(extraData.direction, math.rad(135))
    local newDistance = extraData.distance * 0.75
    self:DoLinearProjectile(vLocation, direction1, extraData.speed, newDistance, extraData.width, extraData.visionRadius, newData)
    self:DoLinearProjectile(vLocation, direction2, extraData.speed, newDistance, extraData.width, extraData.visionRadius, newData)
end</code></pre></div></div><div class="file-block"><p id="vscripts-runes-time-drain"><b>vscripts/runes/time_drain.lua</b></p><div><p>7:&nbsp&nbsp<span class="show-code">time_drain:GetAdditionalFunctions()</span></p><pre class="code-syntax-block"><code class="lua">function time_drain:GetAdditionalFunctions()
    local funcs = {
        &quot;OnKilled&quot;,
    }
    return funcs
end</code></pre></div><div><p>3:&nbsp&nbsp<span class="show-code">time_drain:GetReferenceItem()</span></p><pre class="code-syntax-block"><code class="lua">function time_drain:GetReferenceItem()
    return &quot;item_ability_rune_uncommon_time_drain&quot;
end</code></pre></div><div><p>14:&nbsp&nbsp<span class="show-code">time_drain:OnKilled(eventData)</span></p><pre class="code-syntax-block"><code class="lua">function time_drain:OnKilled(eventData)
    local caster = self:GetCaster()
    
    for i=0,2 do
        local ability = caster:GetAbilityByIndex(i)
        local curCooldown = ability:GetCooldownTimeRemaining()
        local reduction = self:GetSpecialRuneValueFor(&quot;cooldown_reduction&quot;, &quot;time_drain&quot;)
        local newCooldown = curCooldown - ability:GetCooldown(ability:GetLevel()) * (reduction / 100)
        ability:EndCooldown()
        ability:StartCooldown(newCooldown)
    end
end</code></pre></div></div></div>		
		</main>

	</body>
</html>
		